{"code":"(this[\"webpackJsonp@project-serum/swap-ui-example\"]=this[\"webpackJsonp@project-serum/swap-ui-example\"]||[]).push([[0],{221:function(e){e.exports=JSON.parse('{\"name\":\"QS Tokens\",\"description\":\"QS Tokens List for the various networks\",\"logoURI\":\"https://cdn.jsdelivr.net/gh/trustwallet/assets@master/blockchains/solana/info/logo.png\",\"keywords\":[\"solana\",\"spl\"],\"tags\":{\"hangzhounet\":{\"name\":\"hangzhounet\",\"description\":\"Tokens that are fixed to an external asset, e.g. the US dollar\"},\"FA12\":{\"name\":\"FA12\",\"description\":\"This is an FA12 Token\"},\"FA2\":{\"name\":\"FA2\",\"description\":\"This is an FA2 Token\"}},\"timestamp\":\"2021-03-03T19:57:21+0000\",\"tokens\":[{\"chainId\":101,\"address\":\"tez\",\"symbol\":\"TEZ\",\"name\":\"Tezos\",\"decimals\":6,\"logoURI\":\"ipfs://Qmf3brydfr8c6CKGUUu73Dd7wfBw66Zbzof5E1BWGeU222\",\"tags\":[\"hangzhounet\",\"FA12\"],\"extensions\":{\"website\":\"https://solatoken.net/\",\"telegram\":\"https://t.me/solatokennet\",\"twitter\":\"https://twitter.com/EcoSolana\"}},{\"chainId\":101,\"address\":\"KT1VowcKqZFGhdcDZA3UN1vrjBLmxV5bxgfJ\",\"symbol\":\"QUIPU\",\"name\":\"Quipuswap Governance Token\",\"decimals\":6,\"logoURI\":\"ipfs://QmcSH2iaipU1kqcQfZhV5b2CL6Rm8Q8agRwdk1xq38Y3sP\",\"tags\":[\"hangzhounet\",\"FA2\"],\"extensions\":{\"website\":\"https://solatoken.net/\",\"telegram\":\"https://t.me/solatokennet\",\"twitter\":\"https://twitter.com/EcoSolana\"}},{\"chainId\":101,\"address\":\"KT1Dr8Qf9at75uEvwN4QnGTNFfPMAr8KL4kK\",\"symbol\":\"FA12\",\"name\":\"FA12 Token\",\"decimals\":6,\"logoURI\":\"ipfs://QmcSH2iaipU1kqcQfZhV5b2CL6Rm8Q8agRwdk1xq38Y3sP\",\"tags\":[\"hangzhounet\",\"FA12\"],\"extensions\":{\"website\":\"https://solatoken.net/\",\"telegram\":\"https://t.me/solatokennet\",\"twitter\":\"https://twitter.com/EcoSolana\"}},{\"chainId\":101,\"address\":\"KT1P4m4Px5WzEnsoz9Ab22rfbcjfjegUoapA\",\"symbol\":\"FA1218\",\"name\":\"FA12 18 Decimals Token\",\"decimals\":18,\"logoURI\":\"https://upload.wikimedia.org/wikipedia/commons/d/dd/S_logo.svg\",\"tags\":[\"hangzhounet\",\"FA12\"],\"extensions\":{\"website\":\"https://solatoken.net/\",\"telegram\":\"https://t.me/solatokennet\",\"twitter\":\"https://twitter.com/EcoSolana\"}},{\"chainId\":101,\"address\":\"KT1CaWSNEnU6RR9ZMSSgD5tQtQDqdpw4sG83\",\"symbol\":\"TS\",\"name\":\"TypeScript Token\",\"decimals\":18,\"logoURI\":\"https://upload.wikimedia.org/wikipedia/commons/4/4c/Typescript_logo_2020.svg\",\"tags\":[\"hangzhounet\",\"FA2\"],\"extensions\":{\"website\":\"https://solatoken.net/\",\"telegram\":\"https://t.me/solatokennet\",\"twitter\":\"https://twitter.com/EcoSolana\"}},{\"chainId\":101,\"address\":\"KT1QGgr6k1CDf4Svd18MtKNQukboz8JzRPd5\",\"symbol\":\"RCT\",\"name\":\"React Token\",\"decimals\":8,\"logoURI\":\"https://upload.wikimedia.org/wikipedia/commons/a/a7/React-icon.svg\",\"tags\":[\"hangzhounet\",\"FA2\"],\"extensions\":{\"website\":\"https://solatoken.net/\",\"telegram\":\"https://t.me/solatokennet\",\"twitter\":\"https://twitter.com/EcoSolana\"}},{\"chainId\":101,\"address\":\"KT1FGZHSZJD5BKeW4S8ZibAnL2tJtuLACd4N\",\"symbol\":\"ANG\",\"name\":\"Angular Token\",\"decimals\":6,\"logoURI\":\"https://upload.wikimedia.org/wikipedia/commons/c/cf/Angular_full_color_logo.svg\",\"tags\":[\"hangzhounet\",\"FA2\"],\"extensions\":{\"website\":\"https://solatoken.net/\",\"telegram\":\"https://t.me/solatokennet\",\"twitter\":\"https://twitter.com/EcoSolana\"}},{\"chainId\":101,\"address\":\"KT1SaouedthKUtAujiBD232mZYGtKwpZ6mFD\",\"symbol\":\"TKR\",\"name\":\"Tinker\",\"decimals\":6,\"logoURI\":\"https://www.clipartmax.com/png/middle/143-1437191_tinkerbell-by-prove-design-tinkerbell-by-prove-design-tinker-dota-2-png.png\",\"tags\":[\"hangzhounet\",\"FA2\"],\"extensions\":{\"website\":\"https://solatoken.net/\",\"telegram\":\"https://t.me/solatokennet\",\"twitter\":\"https://twitter.com/EcoSolana\"}}],\"version\":{\"major\":0,\"minor\":2,\"patch\":2}}')},238:function(e,t,n){},244:function(e,t){},245:function(e,t){},272:function(e,t){},273:function(e,t){},311:function(e,t,n){},312:function(e,t,n){\"use strict\";n.r(t);var r=n(0),a=n.n(r),o=n(27),i=n.n(o),c=(n(238),n(6)),s=n(7),u=n(116),l=n(51),d=n(19),p=n(20),b=n(1),f=n.n(b),m=n(3),v=n(11),j=(n(239),n(178)),h=n(348),g=n(365),x=n(374),w=n(38),O=n(218),k=n(4),y=n(223),S=n(220),A=n(222),T=n(373),C=n(35),M=n(62),K=n(30),P=new k.PublicKey(\"AjkPkq3nsyDe1yKcbyZT7N4aK4Evv9om9tzhQD3wsRC\"),F=new k.PublicKey(\"9LzCMqDgTKYz9Drzqnpgee3SGa89up3a247ypMj2xrqM\"),E=new k.PublicKey(\"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin\"),N=(new k.PublicKey(\"SRMuApVNdxXokk5GT7XD5cUUgXMBCoAz2LHeuAoKWRt\"),new k.PublicKey(\"EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v\")),I=new k.PublicKey(\"Es9vMFrzaCERmJfrF4H2FYD4KCoNkY11McCe8BenwNYB\"),R=new k.PublicKey(\"Ejmc1UB4EsES5oAaRN63SpoxMJidt3ZGBrqrZk49vjTZ\"),B=new k.PublicKey(\"So11111111111111111111111111111111111111112\"),q=new k.PublicKey(\"6a9wpsZpZGxGhFVSQBpcTNjNjytdbSA1iUw1A5KNDxPw\"),z=new k.PublicKey(\"FVsXUnbhifqJ4LiXQEbpUtXVdB8T5ADLKqSs5t1oc54F\"),L=new k.PublicKey(\"6nGMps9VfDjkKEwYjdSNqN1ToXkLae4VsN49fzBiDFBd\"),D=new k.PublicKey(\"9w97GdWUYYaamGwdKMKZgGzPduZJkiFizq4rz5CPXRv2\"),W=new k.PublicKey(\"4v6e6vNXAaEunrvbqkYnKwbaWfck8a2KVR4uRAVXxVwC\"),U=n(67),G=n(5),_=a.a.createContext(null),V=\"wrapped-sollet\",Q=\"wormhole\",Z={chainId:101,address:R.toString(),name:\"Native SOL\",decimals:\"9\",symbol:\"SOL\",logoURI:\"https://cdn.jsdelivr.net/gh/trustwallet/assets@master/blockchains/solana/info/logo.png\",tags:[],extensions:{website:\"https://solana.com/\",serumV3Usdc:\"9wFFyRfZBsuAha4YcuxcXLKwMxJR43S7fPfQLusDBzvT\",serumV3Usdt:\"HWHvQhFmJB3NUcu1aihKmrKegfVxBEHzwVX6yZCKEsi1\",coingeckoId:\"solana\",waterfallbot:\"https://t.me/SOLwaterfall\"}};function J(e){var t=Object(r.useMemo)((function(){var t=e.tokenList.filterByClusterSlug(\"mainnet-beta\").getList();return t.push(Z),t}),[e.tokenList]),n=Object(r.useMemo)((function(){var e=new Map;return t.forEach((function(t){e.set(t.address,t)})),e}),[t]),a=Object(r.useMemo)((function(){var e=t.filter((function(e){var t,n;return(null===(t=e.extensions)||void 0===t?void 0:t.serumV3Usdt)||(null===(n=e.extensions)||void 0===n?void 0:n.serumV3Usdc)}));return e.sort((function(e,t){return e.symbol<t.symbol?-1:e.symbol>t.symbol?1:0})),e}),[t,n]),o=Object(r.useMemo)((function(){var e=t.filter((function(e){var t;return null===(t=e.tags)||void 0===t?void 0:t.includes(V)}));return e.sort((function(e,t){return e.symbol<t.symbol?-1:e.symbol>t.symbol?1:0})),[e,new Map(e.map((function(e){return[e.address,e]})))]}),[t]),i=Object(v.a)(o,2),c=i[0],s=i[1],u=Object(r.useMemo)((function(){var e=t.filter((function(e){var t;return null===(t=e.tags)||void 0===t?void 0:t.includes(Q)}));return e.sort((function(e,t){return e.symbol<t.symbol?-1:e.symbol>t.symbol?1:0})),[e,new Map(e.map((function(e){return[e.address,e]})))]}),[t]),l=Object(v.a)(u,2),d=l[0],p=l[1];return Object(G.jsx)(_.Provider,{value:{tokenMap:n,wormholeMap:p,solletMap:s,swappableTokens:a,swappableTokensWormhole:d,swappableTokensSollet:c},children:e.children})}function X(){var e=Object(r.useContext)(_);if(null===e)throw new Error(\"Context not available\");return e}function Y(){return X().tokenMap}var H=n(16),$=n(52);function ee(e){return te.apply(this,arguments)}function te(){return(te=Object(m.a)(f.a.mark((function e(t){var n,r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===(n=ue.get(t.toString()))){e.next=3;break}return e.abrupt(\"return\",n);case 3:return e.next=5,ae(\"GET\",\"coins/sol/\".concat(t.toString()));case 5:return r=e.sent,n=Object(H.a)(Object(H.a)({},r),{},{splMint:new k.PublicKey(r.splMint)}),ue.set(t.toString(),n),e.abrupt(\"return\",n);case 9:case\"end\":return e.stop()}}),e)})))).apply(this,arguments)}function ne(e,t,n,r,a){return re.apply(this,arguments)}function re(){return(re=Object(m.a)(f.a.mark((function e(t,n,r,a,o){var i;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===(i=le.get(a.toString()))){e.next=3;break}return e.abrupt(\"return\",i);case 3:return e.next=5,t.getAccountInfo(a);case 5:if(null!==e.sent){e.next=13;break}return le.set(a.toString(),!1),ae(\"POST\",\"wormhole/pool/\".concat(o.ticker,\"/\").concat(a.toString(),\"/\").concat(n.toString(),\"/\").concat(r.toString())).catch(console.error),e.abrupt(\"return\",!1);case 13:return le.set(a.toString(),!0),e.abrupt(\"return\",!0);case 15:case\"end\":return e.stop()}}),e)})))).apply(this,arguments)}function ae(e,t,n){return oe.apply(this,arguments)}function oe(){return(oe=Object(m.a)(f.a.mark((function e(t,n,r){var a,o,i;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o={headers:a={},method:t},\"GET\"===t?o.cache=\"no-cache\":r&&(a[\"Content-Type\"]=\"application/json\",o.body=JSON.stringify(r)),e.next=5,fetch(\"https://swap.sollet.io/api/\".concat(n),o);case 5:return i=e.sent,e.next=8,ie(i);case 8:return e.abrupt(\"return\",e.sent);case 9:case\"end\":return e.stop()}}),e)})))).apply(this,arguments)}function ie(e){return ce.apply(this,arguments)}function ce(){return(ce=Object(m.a)(f.a.mark((function e(t){var n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:if((n=e.sent).success){e.next=5;break}throw new se(n.error,t.status);case 5:return e.abrupt(\"return\",n.result);case 6:case\"end\":return e.stop()}}),e)})))).apply(this,arguments)}var se=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(e,r){var a;return Object(c.a)(this,n),(a=t.call(this,e)).name=void 0,a.status=void 0,a.name=\"SwapApiError\",a.status=r,a}return n}(Object($.a)(Error)),ue=new Map,le=new Map,de=n(18),pe=n(42);function be(){return(be=Object(m.a)(f.a.mark((function e(t,n){var r,a,o;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ve(n),e.next=3,t.getProgramAccounts(K.TOKEN_PROGRAM_ID,{commitment:t.commitment,filters:r});case 3:return a=e.sent,o=a.map((function(e){var t=e.pubkey,n=e.account,r=n.data,a=n.executable,o=n.owner,i=n.lamports;return{publicKey:new k.PublicKey(t),accountInfo:{data:r,executable:a,owner:new k.PublicKey(o),lamports:i}}})).map((function(e){return{publicKey:e.publicKey,account:me(e.accountInfo.data)}})),e.next=7,Promise.all(o.map(function(){var e=Object(m.a)(f.a.mark((function e(t){var r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,K.Token.getAssociatedTokenAddress(K.ASSOCIATED_TOKEN_PROGRAM_ID,K.TOKEN_PROGRAM_ID,t.account.mint,n);case 2:return r=e.sent,e.abrupt(\"return\",[t,r]);case 4:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 7:return e.abrupt(\"return\",e.sent.filter((function(e){var t=Object(v.a)(e,2),n=t[0],r=t[1];return n.publicKey.equals(r)})).map((function(e){return Object(v.a)(e,1)[0]})));case 8:case\"end\":return e.stop()}}),e)})))).apply(this,arguments)}var fe=pe.struct([pe.blob(32,\"mint\"),pe.blob(32,\"owner\"),pe.nu64(\"amount\"),pe.blob(93)]);function me(e){var t=fe.decode(e),n=t.mint,r=t.owner,a=t.amount;return{mint:new k.PublicKey(n),owner:new k.PublicKey(r),amount:new w.BN(a)}}function ve(e){return[{memcmp:{offset:fe.offsetOf(\"owner\"),bytes:e.toBase58()}},{dataSize:fe.span}]}var je=a.a.createContext(null);function he(e){var t=e.provider,n=Object(r.useState)(0),a=Object(v.a)(n,2)[1];return Object(r.useEffect)((function(){if(!t.wallet.publicKey)return Oe.length=0,void a((function(e){return e+1}));(function(e,t){return be.apply(this,arguments)})(t.connection,t.wallet.publicKey).then((function(e){e&&(Oe.push.apply(Oe,Object(de.a)(e)),a((function(e){return e+1})))})),t.connection.getAccountInfo(t.wallet.publicKey).then((function(e){e&&(Oe.push({publicKey:t.wallet.publicKey,account:{amount:new w.BN(e.lamports),mint:R}}),a((function(e){return e+1})))}))}),[t.wallet.publicKey,t.connection]),Object(G.jsx)(je.Provider,{value:{provider:t},children:e.children})}function ge(){var e=Object(r.useContext)(je);if(null===e)throw new Error(\"Context not available\");return e}function xe(e){var t=ge().provider,n=Object(r.useState)(0),a=Object(v.a)(n,2)[1],o=Oe.filter((function(t){return e&&t.account.mint.equals(e)}));o.sort((function(e,t){return e.account.amount>t.account.amount?-1:e.account.amount<t.account.amount?1:0}));var i=o[0],c=null===e||void 0===e?void 0:e.equals(R);if(Object(r.useEffect)((function(){var e;return i&&c?e=t.connection.onAccountChange(t.wallet.publicKey,(function(e){var t={amount:new w.BN(e.lamports),mint:R};if(t.amount!==i.account.amount){var n=Oe.indexOf(i);C.ok(n>=0),Oe[n].account=t,a((function(e){return e+1}))}})):i&&(e=t.connection.onAccountChange(i.publicKey,(function(e){if(0!==e.data.length)try{var t=me(e.data);if(t.amount!==i.account.amount){var n=Oe.indexOf(i);C.ok(n>=0),Oe[n].account=t,a((function(e){return e+1}))}}catch(r){console.log(\"Failed to decode token AccountInfo\")}}))),function(){e&&t.connection.removeAccountChangeListener(e)}}),[t.connection,i]),void 0!==e)return c||0!==o.length?i:null}function we(e){var t=ge().provider,n=Object(M.a)(Object(m.a)(f.a.mark((function n(){var r,a;return f.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(e){n.next=2;break}return n.abrupt(\"return\",void 0);case 2:if(!ke.get(e.toString())){n.next=4;break}return n.abrupt(\"return\",ke.get(e.toString()));case 4:return r=new K.Token(t.connection,e,K.TOKEN_PROGRAM_ID,new k.Account),a=r.getMintInfo(),ke.set(e.toString(),a),n.abrupt(\"return\",a);case 8:case\"end\":return n.stop()}}),n)}))),[t.connection,e]);if(n.result)return n.result}var Oe=[],ke=new Map([[R.toString(),{decimals:9}]]),ye=.9978,Se=a.a.createContext(null);function Ae(e){var t=Object(r.useState)(new Map),n=Object(v.a)(t,2),a=n[0],o=n[1],i=e.swapClient,c=function(){var e=Object(m.a)(f.a.mark((function e(t){var n,r,i;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=new Map(a),(i=null===(n=r.get(t.market.toString()))||void 0===n?void 0:n.filter((function(e){return!e.address.equals(t.address)})))&&i.length>0?r.set(t.market.toString(),i):r.delete(t.market.toString()),o(r);case 4:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){i.program.provider.wallet.publicKey?U.OpenOrders.findForOwner(i.program.provider.connection,i.program.provider.wallet.publicKey,E).then(function(){var e=Object(m.a)(f.a.mark((function e(t){var n,r,a,c,s,u,l;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=new Map,r=new Set,t.forEach((function(e){r.add(e.market.toString()),n.get(e.market.toString())?n.get(e.market.toString()).push(e):n.set(e.market.toString(),[e])})),!(r.size>100)){e.next=5;break}throw new Error(\"Too many markets. Please file an issue to update this\");case 5:return e.next=7,w.utils.rpc.getMultipleAccounts(i.program.provider.connection,Array.from(r.values()).map((function(e){return new k.PublicKey(e)})));case 7:if(a=e.sent,c=a.map((function(e){return{publicKey:null===e||void 0===e?void 0:e.publicKey,account:new U.Market(U.Market.getLayout(E).decode(null===e||void 0===e?void 0:e.account.data),-1,-1,i.program.provider.opts,E)}})),o(n),!((s=Array.from(new Set(c.map((function(e){return[e.account.baseMintAddress.toString(),e.account.quoteMintAddress.toString()]})).flat()).values()).map((function(e){return new k.PublicKey(e)}))).length>100)){e.next=13;break}throw new Error(\"Too many mints. Please file an issue to update this\");case 13:return e.next=15,w.utils.rpc.getMultipleAccounts(i.program.provider.connection,s);case 15:u=e.sent,l=u.map((function(e){var t,n,r=K.MintLayout.decode(e.account.data);return t=e.publicKey,n=r,ke.set(t.toString(),new Promise((function(e){return e(n)}))),{publicKey:e.publicKey,mintInfo:r}})),c.forEach((function(e){var t=l.filter((function(t){return t.publicKey.equals(e.account.baseMintAddress)}))[0],n=l.filter((function(t){return t.publicKey.equals(e.account.quoteMintAddress)}))[0];C.ok(t&&n),e.account._baseSplTokenDecimals=t.mintInfo.decimals,e.account._quoteSplTokenDecimals=n.mintInfo.decimals,Ue.set(e.publicKey.toString(),new Promise((function(t){return t(e.account)})))}));case 18:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()):o(new Map)}),[i.program.provider.connection,i.program.provider.wallet.publicKey,i.program.provider.opts]),Object(G.jsx)(Se.Provider,{value:{openOrders:a,closeOpenOrders:c,swapClient:i},children:e.children})}function Te(){var e=Object(r.useContext)(Se);if(null===e)throw new Error(\"Context not available\");return e}function Ce(){return Te().openOrders}function Me(e){var t=Te().swapClient,n=Object(M.a)(Object(m.a)(f.a.mark((function n(){var r;return f.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(e){n.next=2;break}return n.abrupt(\"return\",void 0);case 2:if(!Ue.get(e.toString())){n.next=4;break}return n.abrupt(\"return\",Ue.get(e.toString()));case 4:return r=new Promise(function(){var n=Object(m.a)(f.a.mark((function n(r){var a;return f.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,U.Market.load(t.program.provider.connection,e,t.program.provider.opts,E);case 2:a=n.sent,r(a);case 4:case\"end\":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()),Ue.set(e.toString(),r),n.abrupt(\"return\",r);case 7:case\"end\":return n.stop()}}),n)}))),[t.program.provider.connection,e]);if(n.result)return n.result}function Ke(e){var t=function(e){var t=Te().swapClient,n=Me(e),a=Object(r.useState)(0),o=Object(v.a)(a,2),i=o[0],c=o[1],s=Object(M.a)(Object(m.a)(f.a.mark((function r(){var a;return f.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(e&&n){r.next=2;break}return r.abrupt(\"return\",void 0);case 2:if(!We.get(e.toString())){r.next=4;break}return r.abrupt(\"return\",We.get(e.toString()));case 4:return a=new Promise(function(){var e=Object(m.a)(f.a.mark((function e(r){var a,o,i,c;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([n.loadBids(t.program.provider.connection),n.loadAsks(t.program.provider.connection)]);case 2:a=e.sent,o=Object(v.a)(a,2),i=o[0],c=o[1],r({bids:i,asks:c});case 7:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),We.set(e.toString(),a),r.abrupt(\"return\",a);case 7:case\"end\":return r.stop()}}),r)}))),[i,t.program.provider.connection,e,n]);if(Object(r.useEffect)((function(){var e;return(null===n||void 0===n?void 0:n.bidsAddress)&&(e=t.program.provider.connection.onAccountChange(null===n||void 0===n?void 0:n.bidsAddress,function(){var e=Object(m.a)(f.a.mark((function e(t){var r,a,o,i;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=U.Orderbook.decode(n,t.data),e.next=3,We.get(n.address.toString());case 3:a=e.sent,o=null===a||void 0===a?void 0:a.bids.items(!0).next().value,i=r.items(!0).next().value,a&&o&&i&&o.price!==i.price&&(a.bids=r,c((function(e){return e+1})));case 7:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())),function(){e&&t.program.provider.connection.removeAccountChangeListener(e)}}),[n,null===n||void 0===n?void 0:n.bidsAddress,t.program.provider.connection]),Object(r.useEffect)((function(){var e;return(null===n||void 0===n?void 0:n.asksAddress)&&(e=t.program.provider.connection.onAccountChange(null===n||void 0===n?void 0:n.asksAddress,function(){var e=Object(m.a)(f.a.mark((function e(t){var r,a,o,i;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=U.Orderbook.decode(n,t.data),e.next=3,We.get(n.address.toString());case 3:a=e.sent,o=null===a||void 0===a?void 0:a.asks.items(!1).next().value,i=r.items(!1).next().value,a&&o&&i&&o.price!==i.price&&(a.asks=r,c((function(e){return e+1})));case 7:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())),function(){e&&t.program.provider.connection.removeAccountChangeListener(e)}}),[n,null===n||void 0===n?void 0:n.bidsAddress,t.program.provider.connection]),s.result)return s.result}(e);if(void 0!==t){var n=t.bids.items(!0).next().value,a=t.asks.items(!1).next().value;if(!n&&!a)return{};if(!n)return{bestOffer:a.price};if(!a)return{bestBid:n.price};var o=(n.price+a.price)/2;return{bestBid:n.price,bestOffer:a.price,mid:o}}}function Pe(e,t){var n=Fe(e,t);return null===n?null:n.markets}function Fe(e,t){var n=Te().swapClient,r=X(),a=r.wormholeMap,o=r.solletMap,i=Object(M.a)(Object(m.a)(f.a.mark((function r(){var i,c,s,u,l;return f.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Ie(n.program.provider.connection,e,t,a,o);case 2:if(null===(i=r.sent)){r.next=6;break}return c=Object(v.a)(i,2),s=c[0],u=c[1],r.abrupt(\"return\",{markets:[s],kind:u});case 6:if(null!==(l=n.route(e.equals(R)?B:e,t.equals(R)?B:t))){r.next=9;break}return r.abrupt(\"return\",null);case 9:return\"usdx\",r.abrupt(\"return\",{markets:l,kind:\"usdx\"});case 11:case\"end\":return r.stop()}}),r)}))),[e,t,n]);return i.result?i.result:null}var Ee=new Map([[Ne(z,N),L],[Ne(D,I),W]]);function Ne(e,t){var n=e<t?[e,t]:[t,e],r=Object(v.a)(n,2),a=r[0],o=r[1];return a.toString()+o.toString()}function Ie(e,t,n,r,a){return Re.apply(this,arguments)}function Re(){return(Re=Object(m.a)(f.a.mark((function e(t,n,r,a,o){var i;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===(i=Be(n,r))){e.next=3;break}return e.abrupt(\"return\",[i,\"wormhole-native\"]);case 3:return e.next=5,qe(t,n,r,a,o);case 5:if(null!==(i=e.sent)){e.next=8;break}return e.abrupt(\"return\",null);case 8:return e.abrupt(\"return\",[i,\"wormhole-sollet\"]);case 9:case\"end\":return e.stop()}}),e)})))).apply(this,arguments)}function Be(e,t){var n;return null!==(n=Ee.get(Ne(e,t)))&&void 0!==n?n:null}function qe(e,t,n,r,a){return ze.apply(this,arguments)}function ze(){return(ze=Object(m.a)(f.a.mark((function e(t,n,r,a,o){var i,c,s,u,l,d,p,b,m,j,h,g,x,w,O,k;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=a.get(n.toString()),c=void 0!==i,s=a.get(r.toString()),u=void 0!==s,l=o.get(n.toString()),d=void 0!==l,p=o.get(r.toString()),b=void 0!==p,!c&&!u||c===u){e.next=28;break}if(!d&&!b||d===b){e.next=28;break}return j=d?n:r,h=c?[n,i]:[r,s],g=Object(v.a)(h,2),x=g[0],w=g[1],e.next=14,ee(j);case 14:if((O=e.sent).erc20Contract===(null===(m=w.extensions)||void 0===m?void 0:m.address)){e.next=17;break}return e.abrupt(\"return\",null);case 17:return e.next=19,Le(j,x);case 19:if(null!==(k=e.sent)){e.next=22;break}return e.abrupt(\"return\",null);case 22:return e.next=24,ne(t,j,x,k,O);case 24:if(e.sent){e.next=27;break}return e.abrupt(\"return\",null);case 27:return e.abrupt(\"return\",k);case 28:return e.abrupt(\"return\",null);case 29:case\"end\":return e.stop()}}),e)})))).apply(this,arguments)}function Le(e,t){return De.apply(this,arguments)}function De(){return(De=Object(m.a)(f.a.mark((function e(t,n){var r,a,o,i=arguments;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!((r=i.length>2&&void 0!==i[2]?i[2]:0)>99)){e.next=4;break}return console.log(\"Swap market version cannot be greater than 99\"),e.abrupt(\"return\",null);case 4:if(!(r<0)){e.next=7;break}return console.log(\"Version cannot be less than zero\"),e.abrupt(\"return\",null);case 7:return a=function(e){return e<=99?\"0\".concat(e).slice(-2):e},o=t.toString().slice(0,15)+n.toString().slice(0,15)+a(r),e.next=11,k.PublicKey.createWithSeed(q,o,E);case 11:return e.abrupt(\"return\",e.sent);case 12:case\"end\":return e.stop()}}),e)})))).apply(this,arguments)}var We=new Map,Ue=new Map,Ge=a.a.createContext(null);function _e(e){var t,n,a,o,i=Object(r.useState)(null!==(t=e.fromMint)&&void 0!==t?t:P),c=Object(v.a)(i,2),s=c[0],u=c[1],l=Object(r.useState)(null!==(n=e.toMint)&&void 0!==n?n:F),d=Object(v.a)(l,2),p=d[0],b=d[1],f=Object(r.useState)(null!==(a=e.fromAmount)&&void 0!==a?a:0),m=Object(v.a)(f,2),j=m[0],h=m[1],g=Object(r.useState)(null!==(o=e.toAmount)&&void 0!==o?o:0),x=Object(v.a)(g,2),w=x[0],O=x[1],k=Object(r.useState)(!1),y=Object(v.a)(k,2),S=y[0],A=y[1],T=Object(r.useState)(!1),M=Object(v.a)(T,2),K=M[0],E=M[1],N=Object(r.useState)(.5),I=Object(v.a)(N,2),R=I[0],B=I[1],q=Object(r.useState)(null),z=Object(v.a)(q,2),L=z[0],D=z[1],W=Ze(s,p,L),U=e.referral;C.ok(R>=0),Object(r.useEffect)((function(){W&&_(j)}),[W]);var _=function(e){if(void 0===W)return h(0),void O(0);h(e),O(ye*(e/W))};return Object(G.jsx)(Ge.Provider,{value:{fromMint:s,setFromMint:u,toMint:p,setToMint:b,fromAmount:j,setFromAmount:_,toAmount:w,setToAmount:function(e){if(void 0===W)return h(0),void O(0);O(e),h(e*W/ye)},swapToFromMints:function(){var e=s,t=p;h(w),u(t),b(e)},slippage:R,setSlippage:B,fairOverride:L,setFairOverride:D,isClosingNewAccounts:S,isStrict:K,setIsStrict:E,setIsClosingNewAccounts:A,referral:U},children:e.children})}function Ve(){var e=Object(r.useContext)(Ge);if(null===e)throw new Error(\"Context not available\");return e}function Qe(){var e=Ve(),t=e.fairOverride;return Ze(e.fromMint,e.toMint,t)}function Ze(e,t,n){var r=function(e,t){var n=Pe(e,t),r=Ke(n?n[0]:void 0),a=Me(n?n[0]:void 0),o=Ke(n?n[1]:void 0);if(null!==n){if(1===n.length&&void 0!==r){if(void 0===a)return;return(null===a||void 0===a?void 0:a.baseMintAddress.equals(e))||(null===a||void 0===a?void 0:a.baseMintAddress.equals(B))&&e.equals(R)?r.bestBid&&1/r.bestBid:r.bestOffer&&r.bestOffer}if(void 0!==r&&void 0!==r.bestBid&&void 0!==o&&void 0!==o.bestOffer)return o.bestOffer/r.bestBid}}(e,t);return null===n?r:n}var Je=n(371),Xe=n(48),Ye=n(160),He=n(377),$e=n(372),et=n(378),tt=n(350),nt=n(354),rt=n(353),at=n(315),ot=n(349),it=Object(h.a)((function(e){return{dialogContent:{padding:0},textField:{marginBottom:\"8px\",color:\"#fff\"},tab:{minWidth:\"134px\"},tabSelected:{color:e.palette.grey[50],fontWeight:700,backgroundColor:e.palette.primary.main,borderRadius:\"10px\"},tabIndicator:{opacity:0},input:{color:\"white !important\"}}}));function ct(e){var t=e.open,n=e.onClose,a=e.setMint,o=Object(r.useState)(0),i=Object(v.a)(o,2),c=i[0],s=(i[1],Object(r.useState)(\"\")),u=Object(v.a)(s,2),l=u[0],d=u[1],p=l.toLowerCase(),b=it(),f=function(){var e=X();return{swappableTokens:e.swappableTokens,swappableTokensWormhole:e.swappableTokensWormhole,swappableTokensSollet:e.swappableTokensSollet}}(),m=f.swappableTokens,j=f.swappableTokensSollet,h=f.swappableTokensWormhole,g=(Object(ot.a)(\"(max-width:450px)\"),0===c?m:1===c?h:j),x=\"\"===l?g:g.filter((function(e){return e.symbol.toLowerCase().startsWith(p)||e.name.toLowerCase().startsWith(p)||e.address.toLowerCase().startsWith(p)}));return Object(G.jsxs)(et.a,{open:t,onClose:n,scroll:\"paper\",PaperProps:{style:{borderRadius:\"10px\",background:\"#22242a\",color:\"white !important\",width:\"420px\"}},children:[Object(G.jsxs)(tt.a,{style:{fontWeight:\"bold\"},children:[Object(G.jsx)(Ye.a,{variant:\"h6\",style:{paddingBottom:\"16px\",color:\"white\"},children:\"Select a token\"}),Object(G.jsx)(He.a,{className:b.textField,InputProps:{classes:{input:b.input}},placeholder:\"Search name\",value:l,fullWidth:!0,variant:\"outlined\",onChange:function(e){return d(e.target.value)}})]}),Object(G.jsx)(nt.a,{className:b.dialogContent,dividers:!0,children:Object(G.jsx)(rt.a,{disablePadding:!0,children:x.map((function(e){return Object(G.jsx)(st,{tokenInfo:e,onClick:function(e){a(e),n()}},e.address)}))})})]})}function st(e){var t=e.tokenInfo,n=e.onClick,r=new k.PublicKey(t.address);return Object(G.jsxs)(at.a,{button:!0,onClick:function(){return n(r)},style:{padding:\"10px 20px\"},children:[Object(G.jsx)(Zt,{mint:r,style:{height:\"30px\",borderRadius:\"15px\",color:\"white\"}}),Object(G.jsx)(ut,{tokenInfo:t})]})}function ut(e){var t=e.tokenInfo;return Object(G.jsxs)(\"div\",{style:{marginLeft:\"16px\"},children:[Object(G.jsx)(Ye.a,{style:{fontWeight:\"bold\",color:\"#fff\"},children:null===t||void 0===t?void 0:t.symbol}),Object(G.jsx)(Ye.a,{style:{fontSize:\"14px\",color:\"#999\"},children:null===t||void 0===t?void 0:t.name})]})}var lt=n(355),dt=n(380),pt=n(367),bt=n(368),ft=n(369),mt=n(381),vt=n(366),jt=n(77),ht=n.n(jt),gt=n(357),xt=n(314),wt=n(358),Ot=n(359),kt=n(360),yt=n(361),St=n(362),At=n(363),Tt=n(375),Ct=n(364),Mt=n(356),Kt=Object(h.a)((function(e){return{table:{},closeAccount:{color:e.palette.error.main}}}));function Pt(e){var t=e.open,n=e.onClose;return Object(G.jsxs)(et.a,{maxWidth:\"lg\",open:t,onClose:n,PaperProps:{style:{borderRadius:\"10px\"}},children:[Object(G.jsx)(\"div\",{style:{display:\"flex\",justifyContent:\"flex-end\"},children:Object(G.jsx)(lt.a,{onClick:n,style:{padding:10},children:Object(G.jsx)(Mt.a,{})})}),Object(G.jsx)(nt.a,{style:{paddingTop:0},children:Object(G.jsx)(Ft,{})})]})}function Ft(){var e=Kt(),t=Ce(),n=Object(r.useMemo)((function(){return Array.from(t.entries()).map((function(e){var t=Object(v.a)(e,2),n=t[0],r=t[1];return[new k.PublicKey(n),r]}))}),[t]);return Object(G.jsx)(gt.a,{component:xt.a,elevation:0,children:Object(G.jsxs)(wt.a,{className:e.table,\"aria-label\":\"simple table\",children:[Object(G.jsx)(Ot.a,{children:Object(G.jsxs)(kt.a,{children:[Object(G.jsx)(yt.a,{children:\"Market\"}),Object(G.jsx)(yt.a,{align:\"center\",children:\"Open Orders Account\"}),Object(G.jsx)(yt.a,{align:\"center\",children:\"Base Used\"}),Object(G.jsx)(yt.a,{align:\"center\",children:\"Base Free\"}),Object(G.jsx)(yt.a,{align:\"center\",children:\"Quote Used\"}),Object(G.jsx)(yt.a,{align:\"center\",children:\"Quote Free\"}),Object(G.jsx)(yt.a,{align:\"center\",children:\"Settle\"}),Object(G.jsx)(yt.a,{align:\"center\",children:\"Close\"})]})}),Object(G.jsx)(St.a,{children:n.map((function(e){var t=Object(v.a)(e,2),n=t[0],r=t[1];return Object(G.jsx)(Et,{market:n,openOrders:r},n.toString())}))})]})})}function Et(e){var t,n,a=e.market,o=e.openOrders,i=Kt(),c=Object(r.useState)(o[0]),s=Object(v.a)(c,2),u=s[0],l=s[1];Object(r.useEffect)((function(){l(o[0])}),[o]);var d=Te(),p=d.swapClient,b=d.closeOpenOrders,j=Me(a),h=Y(),x=we(null===j||void 0===j?void 0:j.baseMintAddress),w=we(null===j||void 0===j?void 0:j.quoteMintAddress),O=xe(null===j||void 0===j?void 0:j.baseMintAddress),k=xe(null===j||void 0===j?void 0:j.quoteMintAddress),y=j?null===(t=h.get(null===j||void 0===j?void 0:j.baseMintAddress.toString()))||void 0===t?void 0:t.symbol:\"-\",S=j?null===(n=h.get(null===j||void 0===j?void 0:j.quoteMintAddress.toString()))||void 0===n?void 0:n.symbol:\"-\",A=y&&S?\"\".concat(y,\" / \").concat(S):a.toString(),T=u.baseTokenFree.toNumber()+u.quoteTokenFree.toNumber()===0,C=u.baseTokenTotal.toNumber()+u.quoteTokenTotal.toNumber()!==0,M=function(){var e=Object(m.a)(f.a.mark((function e(){var t,n,r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(j){e.next=2;break}throw new Error(\"Market client not found\");case 2:if(O&&k){e.next=4;break}throw new Error(\"Base or quote wallet not found\");case 4:return void 0,e.next=7,j.makeSettleFundsTransaction(p.program.provider.connection,u,O.publicKey,k.publicKey,undefined);case 7:return t=e.sent,n=t.transaction,r=t.signers,e.next=12,p.program.provider.send(n,r);case 12:case\"end\":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),K=function(){var e=Object(m.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.program.rpc.closeAccount({accounts:{openOrders:u.address,authority:p.program.provider.wallet.publicKey,destination:p.program.provider.wallet.publicKey,market:j.address,dexProgram:E}});case 2:b(u);case 3:case\"end\":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(G.jsxs)(kt.a,{children:[Object(G.jsx)(yt.a,{component:\"th\",scope:\"row\",children:Object(G.jsx)(Ye.a,{children:Object(G.jsx)(At.a,{href:\"https://dex.projectserum.com/#/market/\".concat(a.toString()),target:\"_blank\",rel:\"noopener\",children:A})})}),Object(G.jsx)(yt.a,{align:\"center\",children:Object(G.jsx)(Tt.a,{value:u.address.toString(),onChange:function(e){return l(o.filter((function(t){return t.address.toString()===e.target.value}))[0])},children:o.map((function(e){return Object(G.jsx)(Ct.a,{value:e.address.toString(),children:e.address.toString()},e.address.toString())}))})}),Object(G.jsx)(yt.a,{align:\"center\",children:Nt(x,u.baseTokenTotal.sub(u.baseTokenFree))}),Object(G.jsx)(yt.a,{align:\"center\",children:Nt(x,u.baseTokenFree)}),Object(G.jsx)(yt.a,{align:\"center\",children:Nt(w,u.quoteTokenTotal.sub(u.quoteTokenFree))}),Object(G.jsx)(yt.a,{align:\"center\",children:Nt(w,u.quoteTokenFree)}),Object(G.jsx)(yt.a,{align:\"center\",children:Object(G.jsx)(g.a,{color:\"primary\",disabled:T,onClick:M,children:\"Settle\"})}),Object(G.jsx)(yt.a,{align:\"center\",children:Object(G.jsx)(g.a,{disabled:C,onClick:K,className:i.closeAccount,children:\"Close\"})})]},a.toString())}function Nt(e,t){return e?(t.toNumber()/Math.pow(10,e.decimals)).toFixed(e.decimals):t.toNumber().toString()}var It=Object(h.a)((function(e){return{tab:{width:\"50%\"},table:{},settingsButton:{padding:0,color:e.palette.grey[50]},closeAccountSwitchLabel:{color:e.palette.text.secondary},fairAutoSelected:{backgroundColor:e.palette.primary.main,padding:\"3px 5px\",borderRadius:\"10px\",color:e.palette.grey[50],fontWeight:700},fairAuto:{backgroundColor:\"dark\"===e.palette.type?e.palette.grey[50]:e.palette.grey[100],padding:\"3px 5px\",borderRadius:\"10px\",boxShadow:\"none\"},input:{color:\"#ccc !important\"}}}));function Rt(){var e=It();return Object(G.jsx)(ht.a,{variant:\"popover\",children:function(t){return Object(G.jsxs)(\"div\",{children:[Object(G.jsx)(lt.a,Object(H.a)(Object(H.a)({},Object(jt.bindTrigger)(t)),{},{className:e.settingsButton,children:Object(G.jsx)(vt.a,{fontSize:\"small\"})})),Object(G.jsx)(dt.a,Object(H.a)(Object(H.a)({},Object(jt.bindPopover)(t)),{},{anchorOrigin:{vertical:\"bottom\",horizontal:\"left\"},transformOrigin:{vertical:\"top\",horizontal:\"right\"},PaperProps:{style:{borderRadius:\"10px\",boxShadow:\"0px 0px 30px 5px rgba(0,0,0,0.075)\"}},children:Object(G.jsx)(Bt,{})}))]})}})}function Bt(){var e=It(),t=Ve(),n=t.slippage,a=t.setSlippage,o=t.fairOverride,i=t.setFairOverride,c=Object(r.useState)(!1),s=Object(v.a)(c,2),u=s[0],l=s[1],d=Qe(),p=Te().swapClient;return Object(G.jsxs)(\"div\",{style:{padding:\"15px\",width:\"305px\",background:\"#22242a\"},children:[Object(G.jsx)(Ye.a,{style:{fontWeight:\"bold\",color:\"white\"},children:\"Settings\"}),Object(G.jsxs)(\"div\",{children:[Object(G.jsxs)(\"div\",{style:{marginTop:\"10px\"},children:[Object(G.jsx)(Ye.a,{style:{fontSize:\"12px\",color:\"white\"},children:\"Slippage tolerance\"}),Object(G.jsx)(He.a,{type:\"number\",placeholder:\"Error tolerance percentage\",value:n,onChange:function(e){return t=parseFloat(e.target.value),void a(!t||t<0?0:t);var t},style:{display:\"flex\",justifyContent:\"center\",flexDirection:\"column\",color:\"#fff\"},InputProps:{endAdornment:Object(G.jsx)(pt.a,{position:\"end\",children:\"%\"}),classes:{input:e.input}}})]}),Object(G.jsxs)(\"div\",{style:{marginTop:\"10px\"},children:[Object(G.jsx)(Ye.a,{style:{fontSize:\"12px\",color:\"white\"},children:\"Fair price\"}),Object(G.jsxs)(\"div\",{style:{display:\"flex\"},children:[Object(G.jsx)(He.a,{type:\"number\",placeholder:\"Fair price override\",value:d,onChange:function(e){return i(parseFloat(e.target.value))},style:{marginRight:\"10px\",flex:1,display:\"flex\",justifyContent:\"center\",flexDirection:\"column\"},InputProps:{classes:{input:e.input}},disabled:null===o}),Object(G.jsx)(g.a,{component:\"div\",variant:\"contained\",onClick:function(){void 0!==d?i(null===o?d:null):console.error(\"Fair is undefined\")},className:null===o?e.fairAutoSelected:e.fairAuto,children:\"Auto\"})]})]}),Object(G.jsx)(\"div\",{style:{margin:\"10px 0px\"},children:Object(G.jsx)(qt,{})}),Object(G.jsx)(g.a,{variant:\"contained\",fullWidth:!0,style:{color:\"#fff\"},disabled:null===p.program.provider.wallet.publicKey,onClick:function(){return l(!0)},children:\"Manage Dex Accounts\"})]}),Object(G.jsx)(Pt,{open:u,onClose:function(){return l(!1)}})]})}function qt(){var e=It(),t=Ve(),n=t.isClosingNewAccounts,r=t.setIsClosingNewAccounts;return Object(G.jsx)(bt.a,{style:{display:\"none\"},row:!0,children:Object(G.jsx)(ft.a,{classes:{label:e.closeAccountSwitchLabel},labelPlacement:\"start\",style:{display:\"flex\",justifyContent:\"space-between\",marginLeft:0,width:\"100%\"},control:Object(G.jsx)(mt.a,{checked:n,onChange:function(){return r(!n)},color:\"primary\"}),label:\"Close new accounts\"})})}n(370);var zt=Object(h.a)((function(){return{infoLabel:{color:\"white !important\",marginTop:\"20px\",marginBottom:\"20px\",alignItems:\"left\"},labelWithButton:{display:\"flex\",justifyContent:\"flex-start\"},labelText:{fontSize:\"12px\",width:\"150%\"},labelValue:{fontSize:\"12px\",textAlign:\"center\",width:\"20%\"},infoButton:{marginLeft:\"5px\",padding:0,fontSize:\"14px\"}}}));function Lt(){var e=zt(),t=Ve(),n=t.fromMint,r=t.toMint,a=(we(n),Qe(),Y());a.get(n.toString()),a.get(r.toString());return Object(G.jsxs)(\"div\",{className:e.infoLabel,children:[Object(G.jsxs)(\"div\",{className:e.labelWithButton,children:[Object(G.jsx)(Ye.a,{className:e.labelText,children:\"Transaction Settings\"}),Object(G.jsx)(Ye.a,{className:e.labelValue,children:Object(G.jsx)(Rt,{})})]}),Object(G.jsxs)(\"div\",{className:e.labelWithButton,children:[Object(G.jsx)(Ye.a,{className:e.labelText,children:\"Slippage Tolerance\"}),Object(G.jsx)(Ye.a,{className:e.labelValue,children:\"0\"})]}),Object(G.jsxs)(\"div\",{className:e.labelWithButton,children:[Object(G.jsx)(Ye.a,{className:e.labelText,children:\"Minimum Received\"}),Object(G.jsx)(Ye.a,{className:e.labelValue,children:\"0\"})]}),Object(G.jsxs)(\"div\",{className:e.labelWithButton,children:[Object(G.jsx)(Ye.a,{className:e.labelText,children:\"Swap Fee\"}),Object(G.jsx)(Ye.a,{className:e.labelValue,children:\"0\"})]})]})}var Dt=Object(h.a)((function(e){return{card:{width:e.spacing(50),borderRadius:e.spacing(2),background:\"#22242a\",border:\"1px solid #aaaaaa36\",color:\"white !important\",boxShadow:\"0px 0px 30px 5px rgba(0,0,0,0.075)\",padding:e.spacing(2)},tab:{width:\"50%\"},settingsButton:{padding:0},swapButton:{width:\"100%\",textTransform:\"capitalize\",borderRadius:e.spacing(2),backgroundColor:\"#323741\",color:\"white !important\",fontSize:16,fontWeight:700,padding:e.spacing(1.5)},swapToFromButton:{display:\"block\",margin:\"5px auto 5px auto\",cursor:\"pointer\"},amountInput:{fontSize:22,fontWeight:600,color:\"white !important\"},input:{textAlign:\"left\",color:\"white !important\"},swapTokenFormContainer:{borderRadius:e.spacing(2),boxShadow:\"0px 0px 15px 2px rgba(33,150,243,0.1)\",display:\"flex\",justifyContent:\"space-between\",background:\"#323741\",padding:\"5px 10px 5px 15px\",border:\"1px solid #ffffff1c\"},swapTokenSelectorContainer:{marginLeft:e.spacing(1),display:\"flex\",justifyContent:\"flex-end\",flexDirection:\"column\",width:\"30%\"},balanceContainer:{display:\"flex\",alignItems:\"center\",padding:\"2px 0px\",fontSize:\"12px\",color:\"#bebebe\"},maxButton:{marginLeft:e.spacing(1),color:e.palette.primary.main,fontWeight:700,fontSize:\"12px\",cursor:\"pointer\"},tokenButton:{display:\"flex\",alignItems:\"center\",cursor:\"pointer\",marginBottom:e.spacing(1),border:\"1px solid #585858\",borderRadius:\"20px\",background:\"#161616\"}}}));function Wt(e){var t=e.containerStyle,n=e.contentStyle,r=e.swapTokenContainerStyle,a=Dt();return Object(G.jsx)(Je.a,{className:a.card,style:t,children:Object(G.jsxs)(\"div\",{style:n,children:[Object(G.jsx)(Gt,{style:r}),Object(G.jsx)(Ut,{}),Object(G.jsx)(_t,{style:r}),Object(G.jsx)(Lt,{}),Object(G.jsx)(Xt,{})]})})}function Ut(){var e=Dt(),t=Object(Xe.a)(),n=Ve().swapToFromMints;return Object(G.jsx)($e.a,{className:e.swapToFromButton,fontSize:\"medium\",htmlColor:t.palette.primary.main,onClick:n})}function Gt(e){var t=e.style,n=Ve(),r=n.fromMint,a=n.setFromMint,o=n.fromAmount,i=n.setFromAmount;return Object(G.jsx)(Vt,{from:!0,style:t,mint:r,setMint:a,amount:o,setAmount:i})}function _t(e){var t=e.style,n=Ve(),r=n.toMint,a=n.setToMint,o=n.toAmount,i=n.setToAmount;return Object(G.jsx)(Vt,{from:!1,style:t,mint:r,setMint:a,amount:o,setAmount:i})}function Vt(e){var t=e.from,n=e.style,a=e.mint,o=e.setMint,i=e.amount,c=e.setAmount,s=Dt(),u=Object(r.useState)(!1),l=Object(v.a)(u,2),d=l[0],p=l[1],b=xe(a),f=we(a),m=b&&f&&b.account.amount.toNumber()/Math.pow(10,f.decimals),j=f&&i?i.toLocaleString(\"fullwide\",{maximumFractionDigits:f.decimals,useGrouping:!1}):i;return Object(G.jsxs)(\"div\",{className:s.swapTokenFormContainer,style:n,children:[Object(G.jsx)(ct,{setMint:o,open:d,onClose:function(){return p(!1)}}),Object(G.jsxs)(\"div\",{children:[Object(G.jsx)(Ye.a,{className:s.balanceContainer,children:t?\"From\":\"To\"}),Object(G.jsx)(He.a,{type:\"number\",value:j,onChange:function(e){return c(parseFloat(e.target.value))},InputProps:{disableUnderline:!0,classes:{root:s.amountInput,input:s.input}}})]}),Object(G.jsxs)(\"div\",{className:s.swapTokenSelectorContainer,children:[Object(G.jsxs)(Ye.a,{className:s.balanceContainer,children:[b&&f?\"Balance: \".concat(null===m||void 0===m?void 0:m.toFixed(f.decimals)):\"Balance : 0.00\",t&&m?Object(G.jsx)(\"span\",{className:s.maxButton,onClick:function(){return c(m)},children:\"MAX\"}):null]}),Object(G.jsx)(Qt,{mint:a,onClick:function(){return p(!0)}})]})]})}function Qt(e){var t=e.mint,n=e.onClick,r=Dt(),a=Object(Xe.a)();return Object(G.jsxs)(\"div\",{onClick:n,className:r.tokenButton,children:[Object(G.jsx)(Zt,{mint:t,style:{height:a.spacing(3),paddingLeft:a.spacing(1)}}),Object(G.jsx)(Jt,{mint:t,style:{fontSize:14,fontWeight:700}})]})}function Zt(e){var t=e.mint,n=e.style,r=Y().get(t.toString());return Object(G.jsx)(\"div\",{style:{display:\"flex\",justifyContent:\"center\",flexDirection:\"column\",padding:\"5px 5px\"},children:(null===r||void 0===r?void 0:r.logoURI)?Object(G.jsx)(\"img\",{alt:\"Logo\",style:n,src:null===r||void 0===r?void 0:r.logoURI}):Object(G.jsx)(\"div\",{style:n})})}function Jt(e){var t=e.mint,n=e.style,r=Y(),a=Object(Xe.a)(),o=r.get(t.toString());return Object(G.jsx)(Ye.a,{style:Object(H.a)({marginLeft:a.spacing(2),marginRight:a.spacing(1)},n),children:null===o||void 0===o?void 0:o.symbol})}function Xt(){var e=Dt(),t=Ve(),n=t.fromMint,r=t.toMint,a=t.fromAmount,o=t.slippage,i=t.isClosingNewAccounts,c=t.isStrict,s=Te().swapClient,u=we(n),l=we(r),d=Ce(),p=Fe(n,r),b=Me(p&&p.markets?p.markets[0]:void 0),v=Me(p&&p.markets?p.markets[1]:void 0),j=function(){var e,t,n,r,a=Ve(),o=a.fromMint,i=a.toMint,c=a.fromAmount,s=a.toAmount,u=Te().swapClient,l=X(),d=l.wormholeMap,p=l.solletMap,b=xe(o),f=Qe(),m=Fe(o,i);return null!==m&&void 0!==b&&null!==b&&void 0!==f&&f>0&&!1===o.equals(i)&&null!==u.program.provider.wallet.publicKey&&c>0&&s>0&&null!==m&&(\"wormhole-native\"!==m.kind||void 0!==(null===(e=d.get(o.toString()))||void 0===e||null===(t=e.tags)||void 0===t?void 0:t.includes(Q)))&&(\"wormhole-sollet\"!==m.kind||void 0!==(null===(n=p.get(o.toString()))||void 0===n||null===(r=n.tags)||void 0===r?void 0:r.includes(V)))}(),h=function(e){var t=Ve().referral,n=Object(M.a)(Object(m.a)(f.a.mark((function n(){return f.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t){n.next=2;break}return n.abrupt(\"return\",void 0);case 2:if(e){n.next=4;break}return n.abrupt(\"return\",void 0);case 4:if(e.quoteMintAddress.equals(N)||e.quoteMintAddress.equals(I)){n.next=6;break}return n.abrupt(\"return\",void 0);case 6:return n.abrupt(\"return\",K.Token.getAssociatedTokenAddress(K.ASSOCIATED_TOKEN_PROGRAM_ID,K.TOKEN_PROGRAM_ID,e.quoteMintAddress,t));case 7:case\"end\":return n.stop()}}),n)}))),[e]);if(n.result)return n.result}(b),x=Qe(),O=xe(n),y=xe(r),S=b&&b.quoteMintAddress,A=we(S),T=xe(S),C=function(){var e=Object(m.a)(f.a.mark((function e(){var t,p,j,g,C,M,K,P,F,E,N,I,B;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u&&l){e.next=2;break}throw new Error(\"Unable to calculate mint decimals\");case 2:if(x){e.next=4;break}throw new Error(\"Invalid fair\");case 4:if(S&&A){e.next=6;break}throw new Error(\"Quote mint not found\");case 6:return t=new w.BN(a*Math.pow(10,u.decimals)),p=n.equals(R)||r.equals(R),j=p?k.Keypair.generate():void 0,e.next=11,Object(m.a)(f.a.mark((function e(){var a,p,m,g,k;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(b){e.next=2;break}throw new Error(\"Market undefined\");case 2:return a={rate:new w.BN(Math.pow(10,l.decimals)*ye/x).muln(100-o).divn(100),fromDecimals:u.decimals,quoteDecimals:A.decimals,strict:c},p=b?d.get(null===b||void 0===b?void 0:b.address.toString()):void 0,m=v?d.get(null===v||void 0===v?void 0:v.address.toString()):void 0,g=n.equals(R)?j.publicKey:O?O.publicKey:void 0,k=r.equals(R)?j.publicKey:y?y.publicKey:void 0,e.next=9,s.swapTxs({fromMint:n,toMint:r,quoteMint:S,amount:t,minExchangeRate:a,referral:h,fromMarket:b,toMarket:v,fromOpenOrders:p?p[0].address:void 0,toOpenOrders:m?m[0].address:void 0,fromWallet:g,toWallet:k,quoteWallet:T?T.publicKey:void 0,close:i});case 9:return e.abrupt(\"return\",e.sent);case 10:case\"end\":return e.stop()}}),e)})))();case 11:if(g=e.sent,!p){e.next=28;break}if(!(g.length>1)){e.next=15;break}throw new Error(\"SOL must be swapped in a single transaction\");case 15:return e.next=17,Yt(s.program.provider,j,n,t);case 17:K=e.sent,P=K.tx,F=K.signers,E=$t(s.program.provider,j),N=E.tx,I=E.signers,(B=new k.Transaction).add(P),B.add(g[0].tx),B.add(N),g[0].tx=B,(C=g[0].signers).push.apply(C,Object(de.a)(F)),(M=g[0].signers).push.apply(M,Object(de.a)(I));case 28:return e.next=30,s.program.provider.sendAll(g);case 30:case\"end\":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(G.jsx)(g.a,{variant:\"contained\",className:e.swapButton,onClick:C,children:j?\"Swap\":\"Connect Wallet\"})}function Yt(e,t,n,r){return Ht.apply(this,arguments)}function Ht(){return(Ht=Object(m.a)(f.a.mark((function e(t,n,r,a){var o,i;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=new k.Transaction,i=[n],e.t0=o,e.t1=k.SystemProgram,e.t2=t.wallet.publicKey,e.t3=n.publicKey,e.next=8,K.Token.getMinBalanceRentForExemptAccount(t.connection);case 8:return e.t4=e.sent,e.t5=K.TOKEN_PROGRAM_ID,e.t6={fromPubkey:e.t2,newAccountPubkey:e.t3,lamports:e.t4,space:165,programId:e.t5},e.t7=e.t1.createAccount.call(e.t1,e.t6),e.t0.add.call(e.t0,e.t7),r.equals(R)&&o.add(k.SystemProgram.transfer({fromPubkey:t.wallet.publicKey,toPubkey:n.publicKey,lamports:a.toNumber()})),o.add(K.Token.createInitAccountInstruction(K.TOKEN_PROGRAM_ID,B,n.publicKey,t.wallet.publicKey)),e.abrupt(\"return\",{tx:o,signers:i});case 16:case\"end\":return e.stop()}}),e)})))).apply(this,arguments)}function $t(e,t){var n=new k.Transaction;return n.add(K.Token.createCloseAccountInstruction(K.TOKEN_PROGRAM_ID,t.publicKey,e.wallet.publicKey,e.wallet.publicKey,[])),{tx:n,signers:[]}}function en(e){var t=e.containerStyle,n=e.contentStyle,r=e.swapTokenContainerStyle,a=e.materialTheme,o=e.provider,i=e.tokenList,c=e.fromMint,s=e.toMint,u=e.fromAmount,l=e.toAmount,d=e.referral,p=new S.Swap(o,i),b=Object(A.a)(a||{palette:{primary:{main:\"#2196F3\",contrastText:\"#FFFFFF\"},secondary:{main:\"#E0E0E0\",light:\"#595959\"},error:{main:\"#ff6b6b\"}}});return Object(G.jsx)(T.a,{theme:b,children:Object(G.jsx)(J,{tokenList:i,children:Object(G.jsx)(he,{provider:o,children:Object(G.jsx)(Ae,{swapClient:p,children:Object(G.jsx)(_e,{fromMint:c,toMint:s,fromAmount:u,toAmount:l,referral:d,children:Object(G.jsx)(Wt,{containerStyle:t,contentStyle:n,swapTokenContainerStyle:r})})})})})})}n(311);var tn=n(221);var nn=Object(h.a)((function(e){return{root:{minHeight:\"100vh\",paddingLeft:e.spacing(1),paddingRight:e.spacing(1),background:\"#101535\"}}}));function rn(){var e=nn(),t=Object(j.b)().enqueueSnackbar,n=Object(r.useState)(!1),a=Object(v.a)(n,2),o=a[0],i=a[1],c=Object(r.useState)(null),s=Object(v.a)(c,2),u=s[0],l=s[1],d=Object(r.useMemo)((function(){var e={preflightCommitment:\"recent\",commitment:\"recent\"},n=\"https://solana-api.projectserum.com\",r=new O.a(\"https://www.sollet.io\",n),a=new k.Connection(n,e.preflightCommitment);return[new an(a,r,e,(function(e,n){n?t(\"Error: \".concat(n.toString()),{variant:\"error\"}):t(\"Transaction sent\",{variant:\"success\",action:Object(G.jsx)(g.a,{color:\"inherit\",component:\"a\",target:\"_blank\",rel:\"noopener\",href:\"https://explorer.solana.com/tx/\".concat(e),children:\"View on Solana Explorer\"})})})),r]}),[t]),p=Object(v.a)(d,2),b=p[0],h=p[1];function w(){return(w=Object(m.a)(f.a.mark((function e(){var t,n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(\"https://raw.githubusercontent.com/von-dee/swaptzstats/main/tezos.tokenlist.json\");case 2:return t=e.sent,e.next=5,t.json();case 5:return n=e.sent,e.abrupt(\"return\",n);case 7:case\"end\":return e.stop()}}),e)})))).apply(this,arguments)}return Object(r.useEffect)((function(){(new y.a).resolve().then(l)}),[l]),Object(r.useEffect)((function(){console.log(\"getToken\"),console.log(function(){return w.apply(this,arguments)}()),h.on(\"connect\",(function(){t(\"Wallet connected\",{variant:\"success\"}),i(!0)})),h.on(\"disconnect\",(function(){t(\"Wallet disconnected\",{variant:\"info\"}),i(!1)}))}),[h,t]),Object(r.useEffect)((function(){console.log(\"Token Lists\"),console.log(tn),console.log(u)}),[u]),Object(G.jsxs)(x.a,{container:!0,justify:\"center\",alignItems:\"center\",className:e.root,children:[Object(G.jsx)(g.a,{variant:\"outlined\",onClick:function(){return o?h.disconnect():h.connect()},style:{position:\"fixed\",color:\"white\",right:24,top:24},children:o?\"Disconnect\":\"Connect\"}),u&&Object(G.jsx)(en,{provider:b,tokenList:u})]})}var an=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(e,r,a,o){var i;Object(c.a)(this,n);var s=r;return(i=t.call(this,e,s,a)).onTransaction=void 0,i.onTransaction=o,i}return Object(s.a)(n,[{key:\"send\",value:function(){var e=Object(m.a)(f.a.mark((function e(t,r,a){var o;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(u.a)(Object(l.a)(n.prototype),\"send\",this).call(this,t,r,a);case 3:return o=e.sent,this.onTransaction(o),e.abrupt(\"return\",o);case 8:return e.prev=8,e.t0=e.catch(0),(e.t0 instanceof Error||void 0===e.t0)&&this.onTransaction(void 0,e.t0),e.abrupt(\"return\",\"\");case 12:case\"end\":return e.stop()}}),e,this,[[0,8]])})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:\"sendAll\",value:function(){var e=Object(m.a)(f.a.mark((function e(t,r){var a,o=this;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(u.a)(Object(l.a)(n.prototype),\"sendAll\",this).call(this,t,r);case 3:return(a=e.sent).forEach((function(e){o.onTransaction(e)})),e.abrupt(\"return\",a);case 8:return e.prev=8,e.t0=e.catch(0),(e.t0 instanceof Error||void 0===e.t0)&&this.onTransaction(void 0,e.t0),e.abrupt(\"return\",[]);case 12:case\"end\":return e.stop()}}),e,this,[[0,8]])})));return function(t,n){return e.apply(this,arguments)}}()}]),n}(w.Provider),on=function(){return Object(G.jsx)(j.a,{maxSnack:5,autoHideDuration:8e3,children:Object(G.jsx)(rn,{})})},cn=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,383)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,o=t.getLCP,i=t.getTTFB;n(e),r(e),a(e),o(e),i(e)}))};i.a.render(Object(G.jsx)(a.a.StrictMode,{children:Object(G.jsx)(on,{})}),document.getElementById(\"root\")),cn()}},[[312,1,2]]]);","name":"static/js/main.0bb516e6.chunk.js","map":{"version":3,"sources":["static/js/main.0bb516e6.chunk.js"],"names":["this","push","module","exports","JSON","parse","__webpack_require__","__webpack_exports__","r","react","react_default","n","react_dom","react_dom_default","classCallCheck","createClass","get","getPrototypeOf","inherits","createSuper","regenerator","regenerator_default","asyncToGenerator","slicedToArray","notistack_esm","makeStyles","Button","Grid","esm","dist_esm","index_browser_esm","dist_module","lib","createTheme","ThemeProvider","assert","react_async_hook_esm","lib_index_browser_esm","TEZ_MINT","QUP_MINT","DEX_PID","USDC_MINT","USDT_MINT","SOL_MINT","WRAPPED_SOL_MINT","WORM_MARKET_BASE","WORM_USDC_MINT","WORM_USDC_MARKET","WORM_USDT_MINT","WORM_USDT_MARKET","serum_lib","jsx_runtime","_TokenListContext","a","createContext","SPL_REGISTRY_SOLLET_TAG","SPL_REGISTRY_WORM_TAG","SOL_TOKEN_INFO","chainId","address","toString","name","decimals","symbol","logoURI","tags","extensions","website","serumV3Usdc","serumV3Usdt","coingeckoId","waterfallbot","TokenListContextProvider","props","tokenList","Object","list","filterByClusterSlug","getList","tokenMap","Map","forEach","t","set","swappableTokens","tokens","filter","_t$extensions","_t$extensions2","sort","b","_useMemo","_t$tags","includes","map","_useMemo2","swappableTokensSollet","solletMap","_useMemo3","_t$tags2","_useMemo4","swappableTokensWormhole","wormholeMap","Provider","value","children","useTokenListContext","ctx","Error","useTokenMap","objectSpread2","wrapNativeSuper","fetchSolletInfo","_x","_fetchSolletInfo","apply","arguments","mark","_callee2","mint","info","infoRaw","wrap","_context2","prev","next","undefined","_SOLLET_INFO_CACHE","abrupt","swapApiRequest","concat","sent","splMint","stop","requestWormholeSwapMarketIfNeeded","_x2","_x3","_x4","_x5","_x6","_requestWormholeSwapMarketIfNeeded","_callee3","connection","solletMint","wormholeMint","swapMarket","solletInfo","cached","_context3","_SWAP_MARKET_EXISTS_CACHE","getAccountInfo","ticker","catch","console","error","_x7","_x8","_x9","_swapApiRequest","_callee4","method","path","body","headers","params","resp","_context4","cache","stringify","fetch","handleSwapApiResponse","_x10","_handleSwapApiResponse","_callee5","json","_context5","success","Sollet_SwapApiError","status","result","_Error","SwapApiError","_super","msg","_this","call","toConsumableArray","Layout","_getOwnedAssociatedTokenAccounts","publicKey","filters","accs","getOwnedAccountsFilters","getProgramAccounts","commitment","_ref","pubkey","_ref$account","account","data","executable","owner","lamports","accountInfo","_ref2","parseTokenAccountData","Promise","all","_ref3","_callee","ta","ata","_context","getAssociatedTokenAddress","_ref4","_ref5","equals","_ref6","ACCOUNT_LAYOUT","_ACCOUNT_LAYOUT$decod","decode","amount","memcmp","offset","offsetOf","bytes","toBase58","dataSize","span","_TokenContext","TokenContextProvider","provider","_useState","setRefresh","wallet","_OWNED_TOKEN_ACCOUNTS_CACHE","length","getOwnedAssociatedTokenAccounts","then","acc","useTokenContext","useOwnedTokenAccount","_useState3","tokenAccounts","tokenAccount","isSol","listener","onAccountChange","token","index","indexOf","log","removeAccountChangeListener","useMint","asyncMintInfo","mintClient","mintInfo","_MINT_CACHE","getMintInfo","FEE_MULTIPLIER","_DexContext","DexContextProvider","_useState2","ooAccounts","setOoAccounts","swapClient","closeOpenOrders","openOrder","_newOoAccounts$get","newOoAccounts","openOrders","market","oo","delete","program","findForOwner","markets","multipleMarkets","marketClients","mintPubkeys","mints","mintInfos","Set","add","size","rpc","getMultipleAccounts","Array","from","values","m","programAccount","getLayout","opts","baseMintAddress","quoteMintAddress","flat","pk","resolve","baseMintInfo","quoteMintInfo","_baseSplTokenDecimals","_quoteSplTokenDecimals","_MARKET_CACHE","useDexContext","useOpenOrders","useMarket","asyncMarket","marketClient","load","useBbo","orderbook","_useState4","refresh","asyncOrderbook","_callee6","_context6","_ORDERBOOK_CACHE","_yield$Promise$all","_yield$Promise$all2","bids","asks","loadBids","loadAsks","bidsAddress","_ref7","_callee7","oldBestBid","newBestBid","_context7","items","price","asksAddress","_ref8","_callee8","oldBestOffer","newBestOffer","_context8","useOrderbook","bestBid","bestOffer","mid","useRoute","fromMint","toMint","route","useRouteVerbose","_useTokenListContext","asyncRoute","_callee9","_swapMarket","wormholeMarket","_kind","_context9","wormholeSwapMarket","kind","WORMHOLE_NATIVE_MAP","wormKey","_ref10","_ref11","first","second","_x11","_wormholeSwapMarket","_callee10","conn","_context10","wormholeNativeMarket","wormholeSolletMarket","_WORMHOLE_NATIVE_MAP$","_x12","_x13","_x14","_x15","_x16","_wormholeSolletMarket","_callee11","fromWormhole","isFromWormhole","toWormhole","isToWormhole","fromSollet","isFromSollet","toSollet","isToSollet","_extensions","base","_ref12","_ref13","quote","wormholeInfo","_context11","erc20Contract","deriveWormholeMarket","_x17","_x18","_deriveWormholeMarket","_callee12","baseMint","quoteMint","version","padToTwo","seed","_args12","_context12","slice","createWithSeed","_SwapContext","SwapContextProvider","_props$fromMint","_props$toMint","_props$fromAmount","_props$toAmount","setFromMint","setToMint","_useState5","fromAmount","_useState6","_setFromAmount","_useState7","toAmount","_useState8","_setToAmount","_useState9","_useState10","isClosingNewAccounts","setIsClosingNewAccounts","_useState11","_useState12","isStrict","setIsStrict","_useState13","_useState14","slippage","setSlippage","_useState15","_useState16","fairOverride","setFairOverride","fair","_useSwapFair","referral","setFromAmount","setToAmount","swapToFromMints","oldFrom","oldTo","useSwapContext","useSwapFair","_useSwapContext","fairRoute","fromBbo","fromMarket","toBbo","useFairRoute","Card","useTheme","Typography","TextField","ImportExportRounded","Dialog","DialogTitle","DialogContent","List","ListItem","useMediaQuery","useStyles","theme","dialogContent","padding","textField","marginBottom","color","tab","minWidth","tabSelected","palette","grey","fontWeight","backgroundColor","primary","main","borderRadius","tabIndicator","opacity","input","TokenDialog","open","onClose","setMint","tabSelection","tokenFilter","setTokenFilter","toLowerCase","styles","_useSwappableTokens","_useTokenListContext2","useSwappableTokens","selectedTokens","startsWith","scroll","PaperProps","style","background","width","variant","paddingBottom","className","InputProps","classes","placeholder","fullWidth","onChange","e","target","dividers","disablePadding","tokenInfo","TokenListItem","onClick","_onClick","button","TokenIcon","height","TokenName","marginLeft","fontSize","IconButton","Popover","InputAdornment","FormGroup","FormControlLabel","Switch","SettingsOutlined","material_ui_popup_state","material_ui_popup_state_default","TableContainer","Paper","Table","TableHead","TableRow","TableCell","TableBody","Link","Select","MenuItem","Close","OpenOrdersDialog_useStyles","table","closeAccount","OpenOrdersDialog","maxWidth","display","justifyContent","paddingTop","OpenOrdersAccounts","openOrdersEntries","entries","component","elevation","align","oos","OpenOrdersRow","_tokenMap$get","_tokenMap$get2","ooAccount","setOoAccount","_useDexContext","baseWallet","quoteWallet","baseTicker","quoteTicker","marketName","settleDisabled","baseTokenFree","toNumber","quoteTokenFree","closeDisabled","baseTokenTotal","quoteTokenTotal","settleFunds","_yield$marketClient$m","transaction","signers","makeSettleFundsTransaction","send","_closeOpenOrders","accounts","authority","destination","dexProgram","scope","href","rel","toDisplay","sub","disabled","Math","pow","toFixed","Settings_useStyles","settingsButton","closeAccountSwitchLabel","text","secondary","fairAutoSelected","fairAuto","type","boxShadow","SettingsButton","popupState","anchorOrigin","vertical","horizontal","transformOrigin","SettingsDetails","showSettingsDialog","setShowSettingsDialog","marginTop","parseFloat","flexDirection","endAdornment","position","marginRight","flex","margin","CloseNewAccountsSwitch","_useSwapContext2","row","label","labelPlacement","control","checked","Info_useStyles","infoLabel","alignItems","labelWithButton","labelText","labelValue","textAlign","infoButton","InfoLabel","Swap_useStyles","card","spacing","border","swapButton","textTransform","swapToFromButton","cursor","amountInput","swapTokenFormContainer","swapTokenSelectorContainer","balanceContainer","maxButton","tokenButton","SwapCard","containerStyle","contentStyle","swapTokenContainerStyle","SwapFromForm","ArrowButton","SwapToForm","SwapButton","htmlColor","SwapTokenForm","setAmount","_useSwapContext3","showTokenDialog","setShowTokenDialog","mintAccount","balance","formattedAmount","toLocaleString","maximumFractionDigits","useGrouping","disableUnderline","root","TokenButton","paddingLeft","Swap_TokenName","alt","src","_useSwapContext4","fromMintInfo","toMintInfo","toMarket","canSwap","_wormholeMap$get","_wormholeMap$get$tags","_solletMap$get","_solletMap$get$tags","fromWallet","useCanSwap","asyncReferral","useReferral","toWallet","sendSwapTransaction","wrappedSolAccount","txs","_txs$0$signers","_txs$0$signers2","_yield$wrapSol","wrapTx","wrapSigners","_unwrapSol","unwrapTx","unwrapSigners","tx","generate","minExchangeRate","fromOpenOrders","toOpenOrders","fromWalletAddr","toWalletAddr","rate","muln","divn","fromDecimals","quoteDecimals","strict","swapTxs","close","wrapSol","unwrapSol","sendAll","_wrapSol","t0","t1","t2","t3","getMinBalanceRentForExemptAccount","t4","t5","t6","fromPubkey","newAccountPubkey","space","programId","t7","createAccount","transfer","toPubkey","createInitAccountInstruction","createCloseAccountInstruction","Swap","materialTheme","contrastText","light","tezos_tokenlist","App_useStyles","minHeight","paddingRight","AppInner","enqueueSnackbar","isConnected","setIsConnected","setTokenList","preflightCommitment","network","App_NotifyingProvider","err","action","_getToken","response","getToken","on","container","justify","disconnect","connect","right","top","_Provider","NotifyingProvider","onTransaction","newWallet","key","_send","txSig","prototype","_sendAll","txSigs","_this2","sig","src_App","maxSnack","autoHideDuration","src_reportWebVitals","onPerfEntry","Function","bind","getCLS","getFID","getFCP","getLCP","getTTFB","render","StrictMode","document","getElementById"],"mappings":"CAACA,KAAK,8CAAgDA,KAAK,+CAAiD,IAAIC,KAAK,CAAC,CAAC,GAAG,CAEpH,IACA,SAAUC,GAEhBA,EAAOC,QAAUC,KAAKC,MAAM,60GAItB,IACA,SAAUH,EAAQC,EAASG,KAM3B,IACA,SAAUJ,EAAQC,KAMlB,IACA,SAAUD,EAAQC,KAMlB,IACA,SAAUD,EAAQC,KAMlB,IACA,SAAUD,EAAQC,KAMlB,IACA,SAAUD,EAAQC,EAASG,KAM3B,IACA,SAAUJ,EAAQK,EAAqBD,GAE7C,aAEAA,EAAoBE,EAAED,GAGtB,IAAIE,EAAQH,EAAoB,GAC5BI,EAA6BJ,EAAoBK,EAAEF,GAGnDG,EAAYN,EAAoB,IAChCO,EAAiCP,EAAoBK,EAAEC,GAMvDE,GAHMR,EAAoB,KAGTA,EAAoB,IAGrCS,EAAcT,EAAoB,GAGlCU,EAAMV,EAAoB,KAG1BW,EAAiBX,EAAoB,IAGrCY,EAAWZ,EAAoB,IAG/Ba,EAAcb,EAAoB,IAGlCc,EAAcd,EAAoB,GAClCe,EAAmCf,EAAoBK,EAAES,GAGzDE,EAAmBhB,EAAoB,GAGvCiB,EAAgBjB,EAAoB,IAMpCkB,GAHSlB,EAAoB,KAGbA,EAAoB,MAGpCmB,EAAanB,EAAoB,KAGjCoB,EAASpB,EAAoB,KAG7BqB,EAAOrB,EAAoB,KAG3BsB,EAAMtB,EAAoB,IAG1BuB,EAAWvB,EAAoB,KAG/BwB,EAAoBxB,EAAoB,GAGxCyB,EAAczB,EAAoB,KAGlC0B,EAAM1B,EAAoB,KAG1B2B,EAAc3B,EAAoB,KAGlC4B,EAAgB5B,EAAoB,KAGpC6B,EAAS7B,EAAoB,IAG7B8B,EAAuB9B,EAAoB,IAG3C+B,EAAwB/B,EAAoB,IAG5CgC,EAAS,IAAIR,EAA6B,UAAE,+CAAmDS,EAAS,IAAIT,EAA6B,UAAE,gDAAoDU,EAAQ,IAAIV,EAA6B,UAAE,gDAAmJW,GAAtF,IAAIX,EAA6B,UAAE,+CAA6D,IAAIA,EAA6B,UAAE,iDAAoDY,EAAU,IAAIZ,EAA6B,UAAE,gDAC3gBa,EAAS,IAAIb,EAA6B,UAAE,gDAAoDc,EAAiB,IAAId,EAA6B,UAAE,+CAAmDe,EAAiB,IAAIf,EAA6B,UAAE,gDAAoDgB,EAAe,IAAIhB,EAA6B,UAAE,gDAAoDiB,EAAiB,IAAIjB,EAA6B,UAAE,gDAAoDkB,EAAe,IAAIlB,EAA6B,UAAE,gDAAoDmB,EAAiB,IAAInB,EAA6B,UAAE,gDAEvpBoB,EAAY5C,EAAoB,IAGhC6C,EAAc7C,EAAoB,GAGlC8C,EAA+B1C,EAAc2C,EAAEC,cAAc,MAC7DC,EAAwB,iBACxBC,EAAsB,WAAeC,EAAe,CAACC,QAAQ,IAAIC,QAAQhB,EAASiB,WAAWC,KAAK,aAAaC,SAAS,IAAIC,OAAO,MAAMC,QAAQ,yFAAyFC,KAAK,GAAGC,WAAW,CAACC,QAAQ,sBAAsBC,YAAY,+CAA+CC,YAAY,+CAA+CC,YAAY,SAASC,aAAa,8BAA8B,SAASC,EAAyBC,GAAO,IAAIC,EAAUC,OAAOlE,EAAe,QAAtBkE,EAAyB,WAAW,IAAIC,EAAKH,EAAMC,UAAUG,oBAAoB,gBAAgBC,UAEplB,OAA1BF,EAAK3E,KAAKwD,GAAuBmB,IAAO,CAACH,EAAMC,YAC3CK,EAASJ,OAAOlE,EAAe,QAAtBkE,EAAyB,WAAW,IAAII,EAAS,IAAIC,IAAiE,OAA3DN,EAAUO,SAAQ,SAASC,GAAGH,EAASI,IAAID,EAAEvB,QAAQuB,MAAaH,IAAW,CAACL,IAClJU,EAAgBT,OAAOlE,EAAe,QAAtBkE,EAAyB,WAAW,IAAIU,EAAOX,EAAUY,QAAO,SAASJ,GAAG,IAAIK,EAAcC,EAAkO,OAAlK,QAA9BD,EAAcL,EAAEhB,kBAAoC,IAAhBqB,OAAuB,EAAOA,EAAclB,eAA+C,QAA/BmB,EAAeN,EAAEhB,kBAAqC,IAAjBsB,OAAwB,EAAOA,EAAepB,gBAAmH,OAA/EiB,EAAOI,MAAK,SAASpC,EAAEqC,GAAG,OAAOrC,EAAEU,OAAO2B,EAAE3B,QAAQ,EAAEV,EAAEU,OAAO2B,EAAE3B,OAAO,EAAE,KAAYsB,IAAS,CAACX,EAAUK,IACjdY,EAAShB,OAAOlE,EAAe,QAAtBkE,EAAyB,WAAW,IAAIU,EAAOX,EAAUY,QAAO,SAASJ,GAAG,IAAIU,EAAgH,OAAxE,QAAlBA,EAAQV,EAAEjB,YAAwB,IAAV2B,OAAiB,EAAOA,EAAQC,SAAStC,MAA2H,OAA/E8B,EAAOI,MAAK,SAASpC,EAAEqC,GAAG,OAAOrC,EAAEU,OAAO2B,EAAE3B,QAAQ,EAAEV,EAAEU,OAAO2B,EAAE3B,OAAO,EAAE,KAAW,CAACsB,EAAO,IAAIL,IAAIK,EAAOS,KAAI,SAASZ,GAAG,MAAM,CAACA,EAAEvB,QAAQuB,UAAU,CAACR,IAAYqB,EAAUpB,OAAOpD,EAA+B,EAAtCoD,CAAyCgB,EAAS,GAAGK,EAAsBD,EAAU,GAAGE,EAAUF,EAAU,GACtfG,EAAUvB,OAAOlE,EAAe,QAAtBkE,EAAyB,WAAW,IAAIU,EAAOX,EAAUY,QAAO,SAASJ,GAAG,IAAIiB,EAAkH,OAAxE,QAAnBA,EAASjB,EAAEjB,YAAyB,IAAXkC,OAAkB,EAAOA,EAASN,SAASrC,MAAyH,OAA/E6B,EAAOI,MAAK,SAASpC,EAAEqC,GAAG,OAAOrC,EAAEU,OAAO2B,EAAE3B,QAAQ,EAAEV,EAAEU,OAAO2B,EAAE3B,OAAO,EAAE,KAAW,CAACsB,EAAO,IAAIL,IAAIK,EAAOS,KAAI,SAASZ,GAAG,MAAM,CAACA,EAAEvB,QAAQuB,UAAU,CAACR,IAAY0B,EAAUzB,OAAOpD,EAA+B,EAAtCoD,CAAyCuB,EAAU,GAAGG,EAAwBD,EAAU,GAAGE,EAAYF,EAAU,GAAG,OAAmBzB,OAAOxB,EAAiB,IAAxBwB,CAA2BvB,EAAkBmD,SAAS,CAACC,MAAM,CAACzB,SAASA,EAASuB,YAAYA,EAAYL,UAAUA,EAAUb,gBAAgBA,EAAgBiB,wBAAwBA,EAAwBL,sBAAsBA,GAAuBS,SAAShC,EAAMgC,WAAY,SAASC,IAAsB,IAAIC,EAAIhC,OAAOlE,EAAkB,WAAzBkE,CAA4BvB,GAAmB,GAAS,OAANuD,EAAY,MAAM,IAAIC,MAAM,yBAA0B,OAAOD,EAAK,SAASE,IAAoG,OAA7DH,IAAoD3B,SAE3iC,IAAI+B,EAAgBxG,EAAoB,IAGpCyG,EAAkBzG,EAAoB,IAK1C,SAAS0G,GAAgBC,GAAI,OAAOC,GAAiBC,MAAMnH,KAAKoH,WAMhE,SAASF,KAAu0B,OAApzBA,GAAiBvC,OAAOrD,EAAkC,EAAzCqD,CAAyDtD,EAAoBgC,EAAEgE,MAAK,SAASC,EAASC,GAAM,IAAIC,EAAKC,EAAQ,OAAOpG,EAAoBgC,EAAEqE,MAAK,SAAmBC,GAAW,OAAS,OAAOA,EAAUC,KAAKD,EAAUE,MAAM,KAAK,EAA+C,QAAYC,KAAzDN,EAAKO,GAAmB/G,IAAIuG,EAAK3D,aAAmC,CAAC+D,EAAUE,KAAK,EAAE,MAAO,OAAOF,EAAUK,OAAO,SAASR,GAAM,KAAK,EAAmB,OAAjBG,EAAUE,KAAK,EAASI,GAAe,MAAM,aAAaC,OAAOX,EAAK3D,aAAa,KAAK,EAA2O,OAAzO6D,EAAQE,EAAUQ,KAAKX,EAAK7C,OAAOmC,EAA+B,EAAtCnC,CAAyCA,OAAOmC,EAA+B,EAAtCnC,CAAyC,GAAG8C,GAAS,GAAG,CAACW,QAAQ,IAAItG,EAA6B,UAAE2F,EAAQW,WAAWL,GAAmB5C,IAAIoC,EAAK3D,WAAW4D,GAAaG,EAAUK,OAAO,SAASR,GAAM,KAAK,EAAE,IAAI,MAAM,OAAOG,EAAUU,UAAWf,QAAsCH,MAAMnH,KAAKoH,WAAY,SAASkB,GAAkCC,EAAIC,EAAIC,EAAIC,EAAIC,GAAK,OAAOC,GAAmCzB,MAAMnH,KAAKoH,WAAY,SAASwB,KAAgnC,OAA3kCA,GAAmCjE,OAAOrD,EAAkC,EAAzCqD,CAAyDtD,EAAoBgC,EAAEgE,MAAK,SAASwB,EAASC,EAAWC,EAAWC,EAAaC,EAAWC,GAAY,IAAIC,EAAoB,OAAO9H,EAAoBgC,EAAEqE,MAAK,SAAmB0B,GAAW,OAAS,OAAOA,EAAUxB,KAAKwB,EAAUvB,MAAM,KAAK,EAA8D,QAAcC,KAA1EqB,EAAOE,GAA0BrI,IAAIiI,EAAWrF,aAAqC,CAACwF,EAAUvB,KAAK,EAAE,MAAO,OAAOuB,EAAUpB,OAAO,SAASmB,GAAQ,KAAK,EAAmB,OAAjBC,EAAUvB,KAAK,EAASiB,EAAWQ,eAAeL,GAAY,KAAK,EAAqB,GAAW,OAA1BG,EAAUjB,KAAsB,CAACiB,EAAUvB,KAAK,GAAG,MAAmR,OAA5QwB,GAA0BlE,IAAI8D,EAAWrF,YAAW,GAAmKqE,GAAe,OAAlK,iBAAiBC,OAAOgB,EAAWK,OAAO,KAAKrB,OAAOe,EAAWrF,WAAW,KAAKsE,OAAOa,EAAWnF,WAAW,KAAKsE,OAAOc,EAAapF,aAA4C4F,MAAMC,QAAQC,OAAcN,EAAUpB,OAAO,UAAS,GAAO,KAAK,GAA6D,OAA1DqB,GAA0BlE,IAAI8D,EAAWrF,YAAW,GAAawF,EAAUpB,OAAO,UAAS,GAAM,KAAK,GAAG,IAAI,MAAM,OAAOoB,EAAUf,UAAWQ,QAAwD1B,MAAMnH,KAAKoH,WAAY,SAASa,GAAe0B,EAAIC,EAAIC,GAAK,OAAOC,GAAgB3C,MAAMnH,KAAKoH,WAAY,SAAS0C,KAAovB,OAAluBA,GAAgBnF,OAAOrD,EAAkC,EAAzCqD,CAAyDtD,EAAoBgC,EAAEgE,MAAK,SAAS0C,EAASC,EAAOC,EAAKC,GAAM,IAAIC,EAAQC,EAAOC,EAAK,OAAOhJ,EAAoBgC,EAAEqE,MAAK,SAAmB4C,GAAW,OAAS,OAAOA,EAAU1C,KAAK0C,EAAUzC,MAAM,KAAK,EAA4M,OAA/LuC,EAAO,CAACD,QAAnBA,EAAQ,GAA2BH,OAAOA,GAAoB,QAATA,EAAgBI,EAAOG,MAAM,WAAoBL,IAAMC,EAAQ,gBAAgB,mBAAmBC,EAAOF,KAAK9J,KAAKoK,UAAUN,IAAOI,EAAUzC,KAAK,EAAS4C,MAAM,8BAA8BvC,OAAO+B,GAAMG,GAAQ,KAAK,EAAuC,OAArCC,EAAKC,EAAUnC,KAAKmC,EAAUzC,KAAK,EAAS6C,GAAsBL,GAAM,KAAK,EAAE,OAAOC,EAAUtC,OAAO,SAASsC,EAAUnC,MAAM,KAAK,EAAE,IAAI,MAAM,OAAOmC,EAAUjC,UAAW0B,QAAqC5C,MAAMnH,KAAKoH,WAAY,SAASsD,GAAsBC,GAAM,OAAOC,GAAuBzD,MAAMnH,KAAKoH,WAAY,SAASwD,KAAyiB,OAAhhBA,GAAuBjG,OAAOrD,EAAkC,EAAzCqD,CAAyDtD,EAAoBgC,EAAEgE,MAAK,SAASwD,EAASR,GAAM,IAAIS,EAAK,OAAOzJ,EAAoBgC,EAAEqE,MAAK,SAAmBqD,GAAW,OAAS,OAAOA,EAAUnD,KAAKmD,EAAUlD,MAAM,KAAK,EAAmB,OAAjBkD,EAAUlD,KAAK,EAASwC,EAAKS,OAAO,KAAK,EAAsB,IAApBA,EAAKC,EAAU5C,MAAa6C,QAAQ,CAACD,EAAUlD,KAAK,EAAE,MAAO,MAAM,IAAIoD,GAAoBH,EAAKpB,MAAMW,EAAKa,QAAQ,KAAK,EAAE,OAAOH,EAAU/C,OAAO,SAAS8C,EAAKK,QAAQ,KAAK,EAAE,IAAI,MAAM,OAAOJ,EAAU1C,UAAWwC,QAA4C1D,MAAMnH,KAAKoH,WAAY,IAAI6D,GAAiC,SAASG,GAAQzG,OAAOzD,EAA0B,EAAjCyD,CAAoC0G,EAAaD,GAAQ,IAAIE,EAAO3G,OAAOxD,EAA6B,EAApCwD,CAAuC0G,GAAc,SAASA,EAAaE,EAAIL,GAAQ,IAAIM,EAAmL,OAA7K7G,OAAO7D,EAAgC,EAAvC6D,CAA0C3E,KAAKqL,IAAcG,EAAMF,EAAOG,KAAKzL,KAAKuL,IAAW1H,UAAK,EAAO2H,EAAMN,YAAO,EAAOM,EAAM3H,KAAK,eAAe2H,EAAMN,OAAOA,EAAcM,EAAO,OAAOH,EAAxX,CAAoZ1G,OAAOoC,EAAiC,EAAxCpC,CAA2CiC,QAAYmB,GAAmB,IAAI/C,IAAUqE,GAA0B,IAAIrE,IAEpyI0G,GAAoBpL,EAAoB,IAGxCqL,GAASrL,EAAoB,IAK+E,SAASsL,KAEk4B,OAF/1BA,GAAiCjH,OAAOrD,EAAkC,EAAzCqD,CAAyDtD,EAAoBgC,EAAEgE,MAAK,SAASC,EAASwB,EAAW+C,GAAW,IAAIC,EAAQzB,EAAK0B,EAAK,OAAO1K,EAAoBgC,EAAEqE,MAAK,SAAmBC,GAAW,OAAS,OAAOA,EAAUC,KAAKD,EAAUE,MAAM,KAAK,EAClb,OADobiE,EAAQE,GAAwBH,GACrelE,EAAUE,KAAK,EAASiB,EAAWmD,mBAAmB5J,EAAwC,iBAAE,CAAC6J,WAAWpD,EAAWoD,WAAWJ,QAAQA,IAAU,KAAK,EAAsjB,OAApjBzB,EAAK1C,EAAUQ,KAAK4D,EAAK1B,EAAKvE,KAAI,SAASqG,GAAM,IAAIC,EAAOD,EAAKC,OAAOC,EAAaF,EAAKG,QAAQC,EAAKF,EAAaE,KAAKC,EAAWH,EAAaG,WAAWC,EAAMJ,EAAaI,MAAMC,EAASL,EAAaK,SAAS,MAAM,CAACb,UAAU,IAAI/J,EAA6B,UAAEsK,GAAQO,YAAY,CAACJ,KAAKA,EAAKC,WAAWA,EAAWC,MAAM,IAAI3K,EAA6B,UAAE2K,GAAOC,SAASA,OAAc5G,KAAI,SAAS8G,GAAmE,MAAM,CAACf,UAArDe,EAAMf,UAAmES,QAAQO,GAArDD,EAAMD,YAAiFJ,UAAU5E,EAAUE,KAAK,EAASiF,QAAQC,IAAIhB,EACjuBjG,IAAiB,WAAW,IAAIkH,EAAMrI,OAAOrD,EAAkC,EAAzCqD,CAAyDtD,EAAoBgC,EAAEgE,MAAK,SAAS4F,EAAQC,GAAI,IAAIC,EAAI,OAAO9L,EAAoBgC,EAAEqE,MAAK,SAAkB0F,GAAU,OAAS,OAAOA,EAASxF,KAAKwF,EAASvF,MAAM,KAAK,EAAkB,OAAhBuF,EAASvF,KAAK,EAASxF,EAA6B,MAAEgL,0BAA0BhL,EAAmD,4BAAEA,EAAwC,iBAAE6K,EAAGZ,QAAQ/E,KAAKsE,GAAW,KAAK,EAAoB,OAAlBsB,EAAIC,EAASjF,KAAYiF,EAASpF,OAAO,SAAS,CAACkF,EAAGC,IAAM,KAAK,EAAE,IAAI,MAAM,OAAOC,EAAS/E,UAAW4E,OAAa,OAAO,SAASzE,GAAK,OAAOwE,EAAM7F,MAAMnH,KAAKoH,YAA3mB,KAA8nB,KAAK,EAAE,OAAOO,EAAUK,OAAO,SAASL,EAAUQ,KAAK7C,QAAO,SAASgI,GAAO,IAAIC,EAAM5I,OAAOpD,EAA+B,EAAtCoD,CAAyC2I,EAAM,GAAGJ,EAAGK,EAAM,GAAGJ,EAAII,EAAM,GAAG,OAAOL,EAAGrB,UAAU2B,OAAOL,MAAQrH,KAAI,SAAS2H,GAA+E,OAA9D9I,OAAOpD,EAA+B,EAAtCoD,CAAyC8I,EAAM,GAAY,OAAiB,KAAK,EAAE,IAAI,MAAM,OAAO9F,EAAUU,UAAWf,QAAsDH,MAAMnH,KAAKoH,WAAY,IAAIsG,GAAe/B,GAAe,OAAE,CAACA,GAAa,KAAE,GAAG,QAAQA,GAAa,KAAE,GAAG,SAASA,GAAa,KAAE,UAAUA,GAAa,KAAE,MAAM,SAASkB,GAAsBN,GACjuC,IAAIoB,EAAsBD,GAAeE,OAAOrB,GAAMhF,EAAKoG,EAAsBpG,KAAKkF,EAAMkB,EAAsBlB,MAAMoB,EAAOF,EAAsBE,OACrJ,MAAM,CAACtG,KAAK,IAAIzF,EAA6B,UAAEyF,GAAMkF,MAAM,IAAI3K,EAA6B,UAAE2K,GAAOoB,OAAO,IAAIjM,EAAQ,GAAEiM,IAAU,SAAS7B,GAAwBH,GAAW,MAAM,CAAC,CAACiC,OAAO,CAC/LC,OAAOL,GAAeM,SAAS,SAASC,MAAMpC,EAAUqC,aAAa,CAACC,SAAST,GAAeU,OAE9F,IAAIC,GAA2B3N,EAAc2C,EAAEC,cAAc,MAAM,SAASgL,GAAqB7J,GAAO,IAAI8J,EAAS9J,EAAM8J,SAAaC,EAAU7J,OAAOlE,EAAgB,SAAvBkE,CAA0B,GAAoE8J,EAAtD9J,OAAOpD,EAA+B,EAAtCoD,CAAyC6J,EAAU,GAAyB,GAK7G,OAJzJ7J,OAAOlE,EAAiB,UAAxBkE,EAA2B,WAAW,IAAI4J,EAASG,OAAO7C,UAAqF,OAA1E8C,GAA4BC,OAAO,OAAEH,GAAW,SAASjO,GAAG,OAAOA,EAAE,MAR1I,SAAyCyG,EAAGsB,GAAK,OAAOqD,GAAiCzE,MAAMnH,KAAKoH,YASpGyH,CAAgCN,EAASzF,WAAWyF,EAASG,OAAO7C,WAAWiD,MAAK,SAAS/C,GAASA,IACtG4C,GAA4B1O,KAAKkH,MAAMwH,GAA4BhK,OAAO+G,GAAmC,EAA1C/G,CAA6CoH,IAAO0C,GAAW,SAASjO,GAAG,OAAOA,EAAE,SACvJ+N,EAASzF,WAAWQ,eAAeiF,EAASG,OAAO7C,WAAWiD,MAAK,SAASC,GAAQA,IAAKJ,GAA4B1O,KAAK,CAAC4L,UAAU0C,EAASG,OAAO7C,UACrJS,QAAQ,CAACuB,OAAO,IAAIjM,EAAQ,GAAEmN,EAAIrC,UAAUnF,KAAK5E,KAAY8L,GAAW,SAASjO,GAAG,OAAOA,EAAE,WAAW,CAAC+N,EAASG,OAAO7C,UAAU0C,EAASzF,aAAgCnE,OAAOxB,EAAiB,IAAxBwB,CAA2B0J,GAAc9H,SAAS,CAACC,MAAM,CAAC+H,SAASA,GAAU9H,SAAShC,EAAMgC,WAAY,SAASuI,KAAkB,IAAIrI,EAAIhC,OAAOlE,EAAkB,WAAzBkE,CAA4B0J,IAAe,GAAS,OAAN1H,EAAY,MAAM,IAAIC,MAAM,yBAA0B,OAAOD,EAEla,SAASsI,GAAqB1H,GAAM,IAAuCgH,EAAlBS,KAA4CT,SAAaW,EAAWvK,OAAOlE,EAAgB,SAAvBkE,CAA0B,GAAqE8J,EAAvD9J,OAAOpD,EAA+B,EAAtCoD,CAAyCuK,EAAW,GAAyB,GAAOC,EAAcR,GAA4BrJ,QAAO,SAASgH,GAAS,OAAO/E,GAAM+E,EAAQA,QAAQ/E,KAAKiG,OAAOjG,MACrW4H,EAAc1J,MAAK,SAASpC,EAAEqC,GAAG,OAAOrC,EAAEiJ,QAAQuB,OAAOnI,EAAE4G,QAAQuB,QAAQ,EAAExK,EAAEiJ,QAAQuB,OAAOnI,EAAE4G,QAAQuB,OAAO,EAAE,KAAK,IAAIuB,EAAaD,EAAc,GAAOE,EAAa,OAAP9H,QAAoB,IAAPA,OAAc,EAAOA,EAAKiG,OAAO7K,GAGkY,GAFllBgC,OAAOlE,EAAiB,UAAxBkE,EAA2B,WAAW,IAAI2K,EAEsa,OAD7cF,GAAcC,EAAOC,EAASf,EAASzF,WAAWyG,gBAAgBhB,EAASG,OAAO7C,WAAU,SAASrE,GAAM,IAAIgI,EAAM,CAAC3B,OAAO,IAAIjM,EAAQ,GAAE4F,EAAKkF,UAAUnF,KAAK5E,GAAU,GAAG6M,EAAM3B,SAASuB,EAAa9C,QAAQuB,OAAO,CAAC,IAAI4B,EAAMd,GAA4Be,QAAQN,GAAcjN,EAAW,GAAEsN,GAAO,GAAGd,GAA4Bc,GAAOnD,QAAQkD,EAAMf,GAAW,SAASjO,GAAG,OAAOA,EAAE,SACvX4O,IAAcE,EAASf,EAASzF,WAAWyG,gBAAgBH,EAAavD,WAAU,SAASrE,GAAM,GAAsB,IAAnBA,EAAK+E,KAAKqC,OAAY,IAAI,IAAIY,EAAM3C,GAAsBrF,EAAK+E,MAAM,GAAGiD,EAAM3B,SAASuB,EAAa9C,QAAQuB,OAAO,CAAC,IAAI4B,EAAMd,GAA4Be,QAAQN,GAAcjN,EAAW,GAAEsN,GAAO,GAAGd,GAA4Bc,GAAOnD,QAAQkD,EAAMf,GAAW,SAASjO,GAAG,OAAOA,EAAE,MAAO,MAAMkJ,GAAOD,QAAQkG,IAAI,2CAAmD,WAAcL,GAAUf,EAASzF,WAAW8G,4BAA4BN,MAAe,CAACf,EAASzF,WAAWsG,SAAyBtH,IAAPP,EAAoC,OAAI8H,GAA8B,IAAvBF,EAAcP,OAAgCQ,EAAb,KAA2B,SAASS,GAAQtI,GAAM,IAAwCgH,EAAlBS,KAA6CT,SACtxBuB,EAAcnL,OAAOvC,EAAuC,EAA9CuC,CAA8DA,OAAOrD,EAAkC,EAAzCqD,CAAyDtD,EAAoBgC,EAAEgE,MAAK,SAAS4F,IAAU,IAAI8C,EAAWC,EAAS,OAAO3O,EAAoBgC,EAAEqE,MAAK,SAAkB0F,GAAU,OAAS,OAAOA,EAASxF,KAAKwF,EAASvF,MAAM,KAAK,EAAE,GAAGN,EAAK,CAAC6F,EAASvF,KAAK,EAAE,MAAO,OAAOuF,EAASpF,OAAO,cAASF,GAAW,KAAK,EAAE,IAAImI,GAAYjP,IAAIuG,EAAK3D,YAAY,CAACwJ,EAASvF,KAAK,EAAE,MAAO,OAAOuF,EAASpF,OAAO,SAASiI,GAAYjP,IAAIuG,EAAK3D,aAAa,KAAK,EAAmO,OAAjOmM,EAAW,IAAI1N,EAA6B,MAAEkM,EAASzF,WAAWvB,EAAKlF,EAAwC,iBAAE,IAAIP,EAA2B,SAAKkO,EAASD,EAAWG,cAAcD,GAAY9K,IAAIoC,EAAK3D,WAAWoM,GAAiB5C,EAASpF,OAAO,SAASgI,GAAU,KAAK,EAAE,IAAI,MAAM,OAAO5C,EAAS/E,UAAW4E,OAAa,CAACsB,EAASzF,WAAWvB,IAAO,GAAGuI,EAAc3E,OAAQ,OAAO2E,EAAc3E,OACv6B,IAAIwD,GAA4B,GAE5BsB,GAAY,IAAIjL,IAAI,CAAC,CAACrC,EAASiB,WAAW,CAACE,SAAS,MAEtBqM,GAAe,MAAyBC,GAAyB1P,EAAc2C,EAAEC,cAAc,MAAM,SAAS+M,GAAmB5L,GAAO,IAAI+J,EAAU7J,OAAOlE,EAAgB,SAAvBkE,CAA0B,IAAIK,KAAOsL,EAAW3L,OAAOpD,EAA+B,EAAtCoD,CAAyC6J,EAAU,GAAG+B,EAAWD,EAAW,GAAGE,EAAcF,EAAW,GAAOG,EAAWhM,EAAMgM,WACpWC,EAA6B,WAAW,IAAIvE,EAAKxH,OAAOrD,EAAkC,EAAzCqD,CAAyDtD,EAAoBgC,EAAEgE,MAAK,SAAS4F,EAAQ0D,GAAW,IAAIC,EAAuBC,EAAcC,EAAW,OAAOzP,EAAoBgC,EAAEqE,MAAK,SAAkB0F,GAAU,OAAS,OAAOA,EAASxF,KAAKwF,EAASvF,MAAM,KAAK,EAAEgJ,EAAc,IAAI7L,IAAIuL,IAAYO,EAAiF,QAArEF,EAAmBC,EAAc7P,IAAI2P,EAAUI,OAAOnN,mBAA0C,IAArBgN,OAA4B,EAAOA,EAAmBtL,QAAO,SAAS0L,GAAI,OAAOA,EAAGrN,QAAQ6J,OAAOmD,EAAUhN,cAA2BmN,EAAWlC,OAAO,EAAGiC,EAAc1L,IAAIwL,EAAUI,OAAOnN,WAAWkN,GAAkBD,EAAcI,OAAON,EAAUI,OAAOnN,YAAa4M,EAAcK,GAAe,KAAK,EAAE,IAAI,MAAM,OAAOzD,EAAS/E,UAAW4E,OAAa,OAAO,SAAyBhG,GAAI,OAAOkF,EAAKhF,MAAMnH,KAAKoH,YAAp0B,GAW6X,OAN9ZzC,OAAOlE,EAAiB,UAAxBkE,EAA2B,WAAe8L,EAAWS,QAAQ3C,SAASG,OAAO7C,UAA4C3I,EAAsB,WAAEiO,aAAaV,EAAWS,QAAQ3C,SAASzF,WAAW2H,EAAWS,QAAQ3C,SAASG,OAAO7C,UAAUrJ,GAASsM,KAAkB,WAAW,IAAIlC,EAAMjI,OAAOrD,EAAkC,EAAzCqD,CAAyDtD,EAAoBgC,EAAEgE,MAAK,SAASC,EAASwJ,GAAY,IAAID,EAAcO,EAAQC,EAAgBC,EAAcC,EAAYC,EAAMC,EAAU,OAAOpQ,EAAoBgC,EAAEqE,MAAK,SAAmBC,GAAW,OAAS,OAAOA,EAAUC,KAAKD,EAAUE,MAAM,KAAK,EAAkQ,GAAhQgJ,EAAc,IAAI7L,IAAMoM,EAAQ,IAAIM,IAAMZ,EAAW7L,SAAQ,SAAS+L,GAAII,EAAQO,IAAIX,EAAGD,OAAOnN,YAAeiN,EAAc7P,IAAIgQ,EAAGD,OAAOnN,YAAaiN,EAAc7P,IAAIgQ,EAAGD,OAAOnN,YAAY3D,KAAK+Q,GAAUH,EAAc1L,IAAI6L,EAAGD,OAAOnN,WAAW,CAACoN,SAAcI,EAAQQ,KAAK,KAAK,CAACjK,EAAUE,KAAK,EAAE,MAAO,MAAM,IAAIjB,MAAM,yDAAyD,KAAK,EAAmB,OAAjBe,EAAUE,KAAK,EAASjG,EAAW,MAAEiQ,IAAIC,oBAAoBrB,EAAWS,QAAQ3C,SAASzF,WAAWiJ,MAAMC,KAAKZ,EAAQa,UAAUnM,KAAI,SAASoM,GAAG,OAAO,IAAIpQ,EAA6B,UAAEoQ,OAAO,KAAK,EAI97B,GAJg8Bb,EAAgB1J,EAAUQ,KAAKmJ,EAAcD,EAAgBvL,KAAI,SAASqM,GAAgB,MAAM,CAACtG,UAA2B,OAAjBsG,QAAwC,IAAjBA,OAAwB,EAAOA,EAAetG,UAAUS,QAAQ,IAAIpJ,EAAkB,OAAEA,EAAkB,OAAEkP,UAAU5P,GAASoL,OAAwB,OAAjBuE,QAAwC,IAAjBA,OAAwB,EAAOA,EAAe7F,QAAQC,OAAO,GAClgD,EACDkE,EAAWS,QAAQ3C,SAAS8D,KAAK7P,OAAagO,EAAcK,MAE5DU,EAAYQ,MAAMC,KAAK,IAAIN,IAAIJ,EAAcxL,KAAI,SAASoM,GAAG,MAAM,CAACA,EAAE5F,QAAQgG,gBAAgB1O,WAAWsO,EAAE5F,QAAQiG,iBAAiB3O,eAAe4O,QAAQP,UAAUnM,KAAI,SAAS2M,GAAI,OAAO,IAAI3Q,EAA6B,UAAE2Q,OAAwB7D,OAAO,KAAK,CAACjH,EAAUE,KAAK,GAAG,MAAO,MAAM,IAAIjB,MAAM,uDAAuD,KAAK,GAAqB,OAAlBe,EAAUE,KAAK,GAAUjG,EAAW,MAAEiQ,IAAIC,oBAAoBrB,EAAWS,QAAQ3C,SAASzF,WAAWyI,GAAa,KAAK,GAAGC,EAAM7J,EAAUQ,KAAKsJ,EAAUD,EAAM1L,KAAI,SAASyB,GAAM,IAfwbkL,EAAGnG,EAevb0D,EAAS3N,EAAkC,WAAEuL,OAAOrG,EAAK+E,QAAQC,MAA4C,OAfuUkG,EAehWlL,EAAKsE,UAf8VS,EAepV0D,EAf6VC,GAAY9K,IAAIsN,EAAG7O,WAAW,IAAIkJ,SAAQ,SAAS4F,GAAS,OAAOA,EAAQpG,OAexZ,CAACT,UAAUtE,EAAKsE,UAAUmE,SAASA,MAAasB,EAAcrM,SAAQ,SAASiN,GAAG,IAAIS,EAAalB,EAAUnM,QAAO,SAASiC,GAAM,OAAOA,EAAKsE,UAAU2B,OAAO0E,EAAE5F,QAAQgG,oBAAoB,GAAOM,EAAcnB,EAAUnM,QAAO,SAASiC,GAAM,OAAOA,EAAKsE,UAAU2B,OAAO0E,EAAE5F,QAAQiG,qBAAqB,GAAGpQ,EAAW,GAAEwQ,GAAcC,GACn+BV,EAAE5F,QAAQuG,sBAAsBF,EAAa3C,SAASlM,SACtDoO,EAAE5F,QAAQwG,uBAAuBF,EAAc5C,SAASlM,SAASiP,GAAc5N,IAAI+M,EAAErG,UAAUjI,WAAW,IAAIkJ,SAAQ,SAAS4F,GAAS,OAAOA,EAAQR,EAAE5F,gBAAgB,KAAK,GAAG,IAAI,MAAM,OAAO3E,EAAUU,UAAWf,OAAc,OAAO,SAASiB,GAAK,OAAOqE,EAAMzF,MAAMnH,KAAKoH,YANL,IAArLoJ,EAAc,IAAIxL,OAM4L,CAACyL,EAAWS,QAAQ3C,SAASzF,WAAW2H,EAAWS,QAAQ3C,SAASG,OAAO7C,UAAU4E,EAAWS,QAAQ3C,SAAS8D,OAA0B1N,OAAOxB,EAAiB,IAAxBwB,CAA2ByL,GAAY7J,SAAS,CAACC,MAAM,CAACsK,WAAWP,EAAWG,gBAAgBA,EAAgBD,WAAWA,GAAYhK,SAAShC,EAAMgC,WAAY,SAASuM,KAAgB,IAAIrM,EAAIhC,OAAOlE,EAAkB,WAAzBkE,CAA4ByL,IAAa,GAAS,OAANzJ,EAAY,MAAM,IAAIC,MAAM,yBAA0B,OAAOD,EAAK,SAASsM,KAAwC,OAAhBD,KAA2BlC,WAC5xB,SAASoC,GAAUnC,GAAQ,IAAmCN,EAAhBuC,KAA0CvC,WAAe0C,EAAYxO,OAAOvC,EAAuC,EAA9CuC,CAA8DA,OAAOrD,EAAkC,EAAzCqD,CAAyDtD,EAAoBgC,EAAEgE,MAAK,SAAS0C,IAAW,IAAIqJ,EAAa,OAAO/R,EAAoBgC,EAAEqE,MAAK,SAAmB4C,GAAW,OAAS,OAAOA,EAAU1C,KAAK0C,EAAUzC,MAAM,KAAK,EAAE,GAAGkJ,EAAO,CAACzG,EAAUzC,KAAK,EAAE,MAAO,OAAOyC,EAAUtC,OAAO,cAASF,GAAW,KAAK,EAAE,IAAIiL,GAAc/R,IAAI+P,EAAOnN,YAAY,CAAC0G,EAAUzC,KAAK,EAAE,MAAO,OAAOyC,EAAUtC,OAAO,SAAS+K,GAAc/R,IAAI+P,EAAOnN,aAAa,KAAK,EAAiqB,OAA/pBwP,EAAa,IAAItG,QAAqB,WAAW,IAAIQ,EAAM3I,OAAOrD,EAAkC,EAAzCqD,CAAyDtD,EAAoBgC,EAAEgE,MAAK,SAASwB,EAAS6J,GAAS,IAAIU,EAAa,OAAO/R,EAAoBgC,EAAEqE,MAAK,SAAmB0B,GAAW,OAAS,OAAOA,EAAUxB,KAAKwB,EAAUvB,MAAM,KAAK,EAAmB,OAAjBuB,EAAUvB,KAAK,EAAS3E,EAAkB,OAAEmQ,KAAK5C,EAAWS,QAAQ3C,SAASzF,WAAWiI,EAAON,EAAWS,QAAQ3C,SAAS8D,KAAK7P,GAAS,KAAK,EAAE4Q,EAAahK,EAAUjB,KAAKuK,EAAQU,GAAc,KAAK,EAAE,IAAI,MAAM,OAAOhK,EAAUf,UAAWQ,OAAc,OAAO,SAASL,GAAK,OAAO8E,EAAMnG,MAAMnH,KAAKoH,YAArjB,IAAukB2L,GAAc5N,IAAI4L,EAAOnN,WAAWwP,GAAqB9I,EAAUtC,OAAO,SAASoL,GAAc,KAAK,EAAE,IAAI,MAAM,OAAO9I,EAAUjC,UAAW0B,OAAc,CAAC0G,EAAWS,QAAQ3C,SAASzF,WAAWiI,IAAS,GAAGoC,EAAYhI,OAAQ,OAAOgI,EAAYhI,OAI1+C,SAASmI,GAAOvC,GAAQ,IAAIwC,EAH5B,SAAsBxC,GAAQ,IAAoCN,EAAhBuC,KAA2CvC,WAAe2C,EAAaF,GAAUnC,GAAY7B,EAAWvK,OAAOlE,EAAgB,SAAvBkE,CAA0B,GAAG6O,EAAW7O,OAAOpD,EAA+B,EAAtCoD,CAAyCuK,EAAW,GAAGuE,EAAQD,EAAW,GAAG/E,EAAW+E,EAAW,GAAOE,EAAe/O,OAAOvC,EAAuC,EAA9CuC,CAA8DA,OAAOrD,EAAkC,EAAzCqD,CAAyDtD,EAAoBgC,EAAEgE,MAAK,SAASsM,IAAW,IAAIJ,EAAU,OAAOlS,EAAoBgC,EAAEqE,MAAK,SAAmBkM,GAAW,OAAS,OAAOA,EAAUhM,KAAKgM,EAAU/L,MAAM,KAAK,EAAE,GAAMkJ,GAASqC,EAAc,CAACQ,EAAU/L,KAAK,EAAE,MAAO,OAAO+L,EAAU5L,OAAO,cAASF,GAAW,KAAK,EAAE,IAAI+L,GAAiB7S,IAAI+P,EAAOnN,YAAY,CAACgQ,EAAU/L,KAAK,EAAE,MAAO,OAAO+L,EAAU5L,OAAO,SAAS6L,GAAiB7S,IAAI+P,EAAOnN,aAAa,KAAK,EAAs3B,OAAp3B2P,EAAU,IAAIzG,QAAqB,WAAW,IAAIW,EAAM9I,OAAOrD,EAAkC,EAAzCqD,CAAyDtD,EAAoBgC,EAAEgE,MAAK,SAASwD,EAAS6H,GAAS,IAAIoB,EAAmBC,EAAoBC,EAAKC,EAAK,OAAO5S,EAAoBgC,EAAEqE,MAAK,SAAmBqD,GAAW,OAAS,OAAOA,EAAUnD,KAAKmD,EAAUlD,MAAM,KAAK,EAAmB,OAAjBkD,EAAUlD,KAAK,EAASiF,QAAQC,IAAI,CAACqG,EAAac,SAASzD,EAAWS,QAAQ3C,SAASzF,YAAYsK,EAAae,SAAS1D,EAAWS,QAAQ3C,SAASzF,cAAc,KAAK,EAAEgL,EAAmB/I,EAAU5C,KAAK4L,EAAoBpP,OAAOpD,EAA+B,EAAtCoD,CAAyCmP,EAAmB,GAAGE,EAAKD,EAAoB,GAAGE,EAAKF,EAAoB,GAAGrB,EAAQ,CAACsB,KAAKA,EAAKC,KAAKA,IAAO,KAAK,EAAE,IAAI,MAAM,OAAOlJ,EAAU1C,UAAWwC,OAAc,OAAO,SAASpC,GAAK,OAAOgF,EAAMtG,MAAMnH,KAAKoH,YAA7wB,IAA+xByM,GAAiB1O,IAAI4L,EAAOnN,WAAW2P,GAAkBK,EAAU5L,OAAO,SAASuL,GAAW,KAAK,EAAE,IAAI,MAAM,OAAOK,EAAUvL,UAAWsL,OAAc,CAACF,EAAQhD,EAAWS,QAAQ3C,SAASzF,WAAWiI,EAAOqC,IAEtgB,GADh3CzO,OAAOlE,EAAiB,UAAxBkE,EAA2B,WAAW,IAAI2K,EAAikC,OAAtiC,OAAf8D,QAAoC,IAAfA,OAAsB,EAAOA,EAAagB,eAAa9E,EAASmB,EAAWS,QAAQ3C,SAASzF,WAAWyG,gBAA+B,OAAf6D,QAAoC,IAAfA,OAAsB,EAAOA,EAAagB,YAAyB,WAAW,IAAIC,EAAM1P,OAAOrD,EAAkC,EAAzCqD,CAAyDtD,EAAoBgC,EAAEgE,MAAK,SAASiN,EAAS9M,GAAM,IAAIwM,EAAKT,EAAUgB,EAAWC,EAAW,OAAOnT,EAAoBgC,EAAEqE,MAAK,SAAmB+M,GAAW,OAAS,OAAOA,EAAU7M,KAAK6M,EAAU5M,MAAM,KAAK,EAA8E,OAA5EmM,EAAK9Q,EAAqB,UAAE0K,OAAOwF,EAAa5L,EAAK+E,MAAMkI,EAAU5M,KAAK,EAASgM,GAAiB7S,IAAIoS,EAAazP,QAAQC,YAAY,KAAK,EAAE2P,EAAUkB,EAAUtM,KAAKoM,EAAuB,OAAZhB,QAA8B,IAAZA,OAAmB,EAAOA,EAAUS,KAAKU,OAAM,GAAM7M,OAAOrB,MAAMgO,EAAWR,EAAKU,OAAM,GAAM7M,OAAOrB,MAAS+M,GAAWgB,GAAYC,GAAYD,EAAWI,QAAQH,EAAWG,QAAOpB,EAAUS,KAAKA,EAAKvF,GAAW,SAASjO,GAAG,OAAOA,EAAE,MAAM,KAAK,EAAE,IAAI,MAAM,OAAOiU,EAAUpM,UAAWiM,OAAc,OAAO,SAAS5L,GAAK,OAAO2L,EAAMlN,MAAMnH,KAAKoH,YAA9zB,KAAw1B,WAAckI,GAAUmB,EAAWS,QAAQ3C,SAASzF,WAAW8G,4BAA4BN,MAAe,CAAC8D,EAA4B,OAAfA,QAAoC,IAAfA,OAAsB,EAAOA,EAAagB,YAAY3D,EAAWS,QAAQ3C,SAASzF,aACj1CnE,OAAOlE,EAAiB,UAAxBkE,EAA2B,WAAW,IAAI2K,EAAmlC,OAAxjC,OAAf8D,QAAoC,IAAfA,OAAsB,EAAOA,EAAawB,eAAatF,EAASmB,EAAWS,QAAQ3C,SAASzF,WAAWyG,gBAA+B,OAAf6D,QAAoC,IAAfA,OAAsB,EAAOA,EAAawB,YAAyB,WAAW,IAAIC,EAAMlQ,OAAOrD,EAAkC,EAAzCqD,CAAyDtD,EAAoBgC,EAAEgE,MAAK,SAASyN,EAAStN,GAAM,IAAIyM,EAAKV,EAAUwB,EAAaC,EAAa,OAAO3T,EAAoBgC,EAAEqE,MAAK,SAAmBuN,GAAW,OAAS,OAAOA,EAAUrN,KAAKqN,EAAUpN,MAAM,KAAK,EAA8E,OAA5EoM,EAAK/Q,EAAqB,UAAE0K,OAAOwF,EAAa5L,EAAK+E,MAAM0I,EAAUpN,KAAK,EAASgM,GAAiB7S,IAAIoS,EAAazP,QAAQC,YAAY,KAAK,EAAE2P,EAAU0B,EAAU9M,KAAK4M,EAAyB,OAAZxB,QAA8B,IAAZA,OAAmB,EAAOA,EAAUU,KAAKS,OAAM,GAAO7M,OAAOrB,MAAMwO,EAAaf,EAAKS,OAAM,GAAO7M,OAAOrB,MAAS+M,GAAWwB,GAAcC,GAAcD,EAAaJ,QAAQK,EAAaL,QAAOpB,EAAUU,KAAKA,EAAKxF,GAAW,SAASjO,GAAG,OAAOA,EAAE,MAAM,KAAK,EAAE,IAAI,MAAM,OAAOyU,EAAU5M,UAAWyM,OAAc,OAAO,SAASnM,GAAK,OAAOkM,EAAM1N,MAAMnH,KAAKoH,YAAh1B,KAA02B,WAAckI,GAAUmB,EAAWS,QAAQ3C,SAASzF,WAAW8G,4BAA4BN,MAAe,CAAC8D,EAA4B,OAAfA,QAAoC,IAAfA,OAAsB,EAAOA,EAAagB,YAAY3D,EAAWS,QAAQ3C,SAASzF,aAAgB4K,EAAevI,OAAQ,OAAOuI,EAAevI,OAC13C+J,CAAanE,GAAQ,QAAejJ,IAAZyL,EAAH,CAA4C,IAAI4B,EAAQ5B,EAAUS,KAAKU,OAAM,GAAM7M,OAAOrB,MAAU4O,EAAU7B,EAAUU,KAAKS,OAAM,GAAO7M,OAAOrB,MAAM,IAAI2O,IAAUC,EAAW,MAAM,GAAI,IAAID,EAAS,MAAM,CAACC,UAAUA,EAAUT,OAAQ,IAAIS,EAAW,MAAM,CAACD,QAAQA,EAAQR,OAAQ,IAAIU,GAAKF,EAAQR,MAAMS,EAAUT,OAAO,EAAI,MAAM,CAACQ,QAAQA,EAAQR,MAAMS,UAAUA,EAAUT,MAAMU,IAAIA,IAGqX,SAASC,GAASC,EAASC,GAAQ,IAAIC,EAAMC,GAAgBH,EAASC,GAAQ,OAAW,OAARC,EAAqB,KAAaA,EAAMrE,QAOx6B,SAASsE,GAAgBH,EAASC,GAAQ,IAAoC/E,EAAhBuC,KAA2CvC,WAAekF,EAAqBjP,IAAsBJ,EAAYqP,EAAqBrP,YAAYL,EAAU0P,EAAqB1P,UAAc2P,EAAWjR,OAAOvC,EAAuC,EAA9CuC,CAA8DA,OAAOrD,EAAkC,EAAzCqD,CAAyDtD,EAAoBgC,EAAEgE,MAAK,SAASwO,IAAW,IAAI5M,EAAW6M,EAAYC,EAAeC,EAAM5E,EAAa,OAAO/P,EAAoBgC,EAAEqE,MAAK,SAAmBuO,GAAW,OAAS,OAAOA,EAAUrO,KAAKqO,EAAUpO,MAAM,KAAK,EAAmB,OAAjBoO,EAAUpO,KAAK,EAASqO,GAAmBzF,EAAWS,QAAQ3C,SAASzF,WAAWyM,EAASC,EAAOlP,EAAYL,GAAW,KAAK,EAA4B,GAAkB,QAA5CgD,EAAWgN,EAAU9N,MAA6B,CAAC8N,EAAUpO,KAAK,EAAE,MAA6H,OAAtHiO,EAAYnR,OAAOpD,EAA+B,EAAtCoD,CAAyCsE,EAAW,GAAG8M,EAAeD,EAAY,GAAGE,EAAMF,EAAY,GAAUG,EAAUjO,OAAO,SAAS,CAACoJ,QAAQ,CAAC2E,GAAgBI,KAAKH,IAAQ,KAAK,EAAgI,GAAe,QAA7I5E,EAAQX,EAAWgF,MAAMF,EAAS/H,OAAO7K,GAAUC,EAAiB2S,EAASC,EAAOhI,OAAO7K,GAAUC,EAAiB4S,IAA6B,CAACS,EAAUpO,KAAK,EAAE,MAAO,OAAOoO,EAAUjO,OAAO,SAAS,MAAM,KAAK,EAAc,MAAP,OAAciO,EAAUjO,OAAO,SAAS,CAACoJ,QAAQA,EAAQ+E,KAAzD,SAAqE,KAAK,GAAG,IAAI,MAAM,OAAOF,EAAU5N,UAAWwN,OAAc,CAACN,EAASC,EAAO/E,IAAa,OAAGmF,EAAWzK,OAAeyK,EAAWzK,OAAe,KAGt6C,IAAIiL,GAAoB,IAAIpR,IAAI,CAAC,CAACqR,GAAQvT,EAAeL,GAAWM,GAAkB,CAACsT,GAAQrT,EAAeN,GAAWO,KAAoB,SAASoT,GAAQd,EAASC,GAAQ,IAAIc,EAAOf,EAASC,EAAO,CAACD,EAASC,GAAQ,CAACA,EAAOD,GAAUgB,EAAO5R,OAAOpD,EAA+B,EAAtCoD,CAAyC2R,EAAO,GAAGE,EAAMD,EAAO,GAAGE,EAAOF,EAAO,GAAG,OAAOC,EAAM5S,WAAW6S,EAAO7S,WAAY,SAASsS,GAAmBvM,EAAIC,EAAIC,EAAIc,EAAK+L,GAAM,OAAOC,GAAoBxP,MAAMnH,KAAKoH,WAAY,SAASuP,KAAkzB,OAA5xBA,GAAoBhS,OAAOrD,EAAkC,EAAzCqD,CAAyDtD,EAAoBgC,EAAEgE,MAAK,SAASuP,EAAUC,EAAKtB,EAASC,EAAOlP,EAAYL,GAAW,IAAI8K,EAAO,OAAO1P,EAAoBgC,EAAEqE,MAAK,SAAoBoP,GAAY,OAAS,OAAOA,EAAWlP,KAAKkP,EAAWjP,MAAM,KAAK,EAA+C,GAAc,QAA3DkJ,EAAOgG,GAAqBxB,EAASC,IAA4B,CAACsB,EAAWjP,KAAK,EAAE,MAAO,OAAOiP,EAAW9O,OAAO,SAAS,CAAC+I,EAAO,oBAAoB,KAAK,EAAoB,OAAlB+F,EAAWjP,KAAK,EAASmP,GAAqBH,EAAKtB,EAASC,EAAOlP,EAAYL,GAAW,KAAK,EAAyB,GAAc,QAArC8K,EAAO+F,EAAW3O,MAAyB,CAAC2O,EAAWjP,KAAK,EAAE,MAAO,OAAOiP,EAAW9O,OAAO,SAAS,MAAM,KAAK,EAAE,OAAO8O,EAAW9O,OAAO,SAAS,CAAC+I,EAAO,oBAAoB,KAAK,EAAE,IAAI,MAAM,OAAO+F,EAAWzO,UAAWuO,QAA0CzP,MAAMnH,KAAKoH,WAAY,SAAS2P,GAAqBxB,EAASC,GAAQ,IAAIyB,EAAsB,OAAkF,QAA3EA,EAAsBb,GAAoBpV,IAAIqV,GAAQd,EAASC,WAA0C,IAAxByB,EAA+BA,EAAsB,KAE5hD,SAASD,GAAqBE,EAAKC,EAAKC,EAAKC,EAAKC,GAAM,OAAOC,GAAsBpQ,MAAMnH,KAAKoH,WAEhG,SAASmQ,KAAkgE,OAA1+DA,GAAsB5S,OAAOrD,EAAkC,EAAzCqD,CAAyDtD,EAAoBgC,EAAEgE,MAAK,SAASmQ,EAAUX,EAAKtB,EAASC,EAAOlP,EAAYL,GAAW,IAAIwR,EAAaC,EAAeC,EAAWC,EAAaC,EAAWC,EAAaC,EAASC,EAAWC,EAAYC,EAAKC,EAAOC,EAAOC,EAAMC,EAAapP,EAAW6H,EAAoB,OAAO1P,EAAoBgC,EAAEqE,MAAK,SAAoB6Q,GAAY,OAAS,OAAOA,EAAW3Q,KAAK2Q,EAAW1Q,MAAM,KAAK,EAA0U,GAAxU4P,EAAanR,EAAYtF,IAAIuU,EAAS3R,YAAY8T,OAA8B5P,IAAf2P,EAAyBE,EAAWrR,EAAYtF,IAAIwU,EAAO5R,YAAYgU,OAA0B9P,IAAb6P,EAAuBE,EAAW5R,EAAUjF,IAAIuU,EAAS3R,YAAYkU,OAA0BhQ,IAAb+P,EAAuBE,EAAS9R,EAAUjF,IAAIwU,EAAO5R,YAAYoU,OAAsBlQ,IAAXiQ,GAA2BL,IAAgBE,GAAeF,IAAiBE,EAAc,CAACW,EAAW1Q,KAAK,GAAG,MAAO,IAAMiQ,IAAcE,GAAaF,IAAeE,EAAY,CAACO,EAAW1Q,KAAK,GAAG,MAA+N,OAAxNqQ,EAAKJ,EAAavC,EAASC,EAAO2C,EAAOT,EAAe,CAACnC,EAASkC,GAAc,CAACjC,EAAOmC,GAAYS,EAAOzT,OAAOpD,EAA+B,EAAtCoD,CAAyCwT,EAAO,GAAGE,EAAMD,EAAO,GAAGE,EAAaF,EAAO,GAAGG,EAAW1Q,KAAK,GAAUb,GAAgBkR,GAAM,KAAK,GAA8B,IAA3BhP,EAAWqP,EAAWpQ,MAAqBqQ,iBAAyD,QAAvCP,EAAYK,EAAapU,kBAAkC,IAAd+T,OAAqB,EAAOA,EAAYtU,SAAU,CAAC4U,EAAW1Q,KAAK,GAAG,MAAO,OAAO0Q,EAAWvQ,OAAO,SAAS,MAAM,KAAK,GAAsB,OAAnBuQ,EAAW1Q,KAAK,GAAU4Q,GAAqBP,EAAKG,GAAO,KAAK,GAA0B,GAAc,QAArCtH,EAAOwH,EAAWpQ,MAAyB,CAACoQ,EAAW1Q,KAAK,GAAG,MAAO,OAAO0Q,EAAWvQ,OAAO,SAAS,MAAM,KAAK,GAAsB,OAAnBuQ,EAAW1Q,KAAK,GAAUS,GAAkCuO,EAAKqB,EAAKG,EAAMtH,EAAO7H,GAAY,KAAK,GAAgC,GAAhBqP,EAAWpQ,KAAqB,CAACoQ,EAAW1Q,KAAK,GAAG,MAAO,OAAO0Q,EAAWvQ,OAAO,SAAS,MAAM,KAAK,GAAG,OAAOuQ,EAAWvQ,OAAO,SAAS+I,GAAQ,KAAK,GAAG,OAAOwH,EAAWvQ,OAAO,SAAS,MAAM,KAAK,GAAG,IAAI,MAAM,OAAOuQ,EAAWlQ,UAAWmP,QAA4CrQ,MAAMnH,KAAKoH,WAAY,SAASqR,GAAqBC,EAAKC,GAAM,OAAOC,GAAsBzR,MAAMnH,KAAKoH,WAAY,SAASwR,KAA4iC,OAAphCA,GAAsBjU,OAAOrD,EAAkC,EAAzCqD,CAAyDtD,EAAoBgC,EAAEgE,MAAK,SAASwR,EAAUC,EAASC,GAAW,IAAIC,EAAQC,EAASC,EAAKC,EAAQ/R,UAAU,OAAO/F,EAAoBgC,EAAEqE,MAAK,SAAoB0R,GAAY,OAAS,OAAOA,EAAWxR,KAAKwR,EAAWvR,MAAM,KAAK,EAAgE,MAA9DmR,EAAQG,EAAQvK,OAAO,QAAgB9G,IAAbqR,EAAQ,GAAeA,EAAQ,GAAG,GAAe,IAAI,CAACC,EAAWvR,KAAK,EAAE,MAAoE,OAA7D4B,QAAQkG,IAAI,iDAAwDyJ,EAAWpR,OAAO,SAAS,MAAM,KAAK,EAAE,KAAKgR,EAAQ,GAAG,CAACI,EAAWvR,KAAK,EAAE,MAAuD,OAAhD4B,QAAQkG,IAAI,oCAA2CyJ,EAAWpR,OAAO,SAAS,MAAM,KAAK,EAAoL,OAAlLiR,EAAS,SAAkBtY,GAAG,OAAOA,GAAG,GAAG,IAAIuH,OAAOvH,GAAG0Y,OAAO,GAAG1Y,GAAIuY,EAAKJ,EAASlV,WAAWyV,MAAM,EAAE,IAAIN,EAAUnV,WAAWyV,MAAM,EAAE,IAAIJ,EAASD,GAASI,EAAWvR,KAAK,GAAU/F,EAA6B,UAAEwX,eAAezW,EAAiBqW,EAAK1W,GAAS,KAAK,GAAG,OAAO4W,EAAWpR,OAAO,SAASoR,EAAWjR,MAAM,KAAK,GAAG,IAAI,MAAM,OAAOiR,EAAW/Q,UAAWwQ,QAA4C1R,MAAMnH,KAAKoH,WAAY,IAAIyM,GAAiB,IAAI7O,IAAU+N,GAAc,IAAI/N,IAErxGuU,GAA0B7Y,EAAc2C,EAAEC,cAAc,MAAM,SAASkW,GAAoB/U,GAAO,IAAIgV,EAAgBC,EAAcC,EAAkBC,EAAoBpL,EAAU7J,OAAOlE,EAAgB,SAAvBkE,CAA6D,QAAlC8U,EAAgBhV,EAAM8Q,gBAAoC,IAAlBkE,EAAyBA,EAAgBnX,GAAUgO,EAAW3L,OAAOpD,EAA+B,EAAtCoD,CAAyC6J,EAAU,GAAG+G,EAASjF,EAAW,GAAGuJ,EAAYvJ,EAAW,GAAOpB,EAAWvK,OAAOlE,EAAgB,SAAvBkE,CAAyD,QAA9B+U,EAAcjV,EAAM+Q,cAAgC,IAAhBkE,EAAuBA,EAAcnX,GAAUiR,EAAW7O,OAAOpD,EAA+B,EAAtCoD,CAAyCuK,EAAW,GAAGsG,EAAOhC,EAAW,GAAGsG,EAAUtG,EAAW,GAAOuG,EAAWpV,OAAOlE,EAAgB,SAAvBkE,CAAiE,QAAtCgV,EAAkBlV,EAAMuV,kBAAwC,IAApBL,EAA2BA,EAAkB,GAAGM,EAAWtV,OAAOpD,EAA+B,EAAtCoD,CAAyCoV,EAAW,GAAGC,EAAWC,EAAW,GAAGC,EAAeD,EAAW,GAAOE,EAAWxV,OAAOlE,EAAgB,SAAvBkE,CAA6D,QAAlCiV,EAAgBnV,EAAM2V,gBAAoC,IAAlBR,EAAyBA,EAAgB,GAAGS,EAAW1V,OAAOpD,EAA+B,EAAtCoD,CAAyCwV,EAAW,GAAGC,EAASC,EAAW,GAAGC,EAAaD,EAAW,GAAOE,EAAW5V,OAAOlE,EAAgB,SAAvBkE,EAA0B,GAAO6V,EAAY7V,OAAOpD,EAA+B,EAAtCoD,CAAyC4V,EAAW,GAAGE,EAAqBD,EAAY,GAAGE,EAAwBF,EAAY,GAAOG,EAAYhW,OAAOlE,EAAgB,SAAvBkE,EAA0B,GAAOiW,EAAYjW,OAAOpD,EAA+B,EAAtCoD,CAAyCgW,EAAY,GAAGE,EAASD,EAAY,GAAGE,EAAYF,EAAY,GAAOG,EAAYpW,OAAOlE,EAAgB,SAAvBkE,CAAt/C,IAA0iDqW,EAAYrW,OAAOpD,EAA+B,EAAtCoD,CAAyCoW,EAAY,GAAGE,EAASD,EAAY,GAAGE,EAAYF,EAAY,GAAOG,EAAYxW,OAAOlE,EAAgB,SAAvBkE,CAA0B,MAAMyW,EAAYzW,OAAOpD,EAA+B,EAAtCoD,CAAyCwW,EAAY,GAAGE,EAAaD,EAAY,GAAGE,EAAgBF,EAAY,GAAOG,EAAKC,GAAajG,EAASC,EAAO6F,GAAkBI,EAAShX,EAAMgX,SAAStZ,EAAW,GAAE8Y,GAAU,GAAGtW,OAAOlE,EAAiB,UAAxBkE,EAA2B,WAAe4W,GAAcG,EAAc1B,KAAc,CAACuB,IAAO,IAAsLG,EAAc,SAAuB7N,GAAQ,QAAU/F,IAAPyT,EAAoD,OAAlCrB,EAAe,QAAGI,EAAa,GAAWJ,EAAerM,GAAQyM,EAAanK,IAAgBtC,EAAO0N,KAAuL,OAAmB5W,OAAOxB,EAAiB,IAAxBwB,CAA2B4U,GAAahT,SAAS,CAACC,MAAM,CAAC+O,SAASA,EAASsE,YAAYA,EAAYrE,OAAOA,EAAOsE,UAAUA,EAAUE,WAAWA,EAAW0B,cAAcA,EAActB,SAASA,EAASuB,YAA1X,SAAqB9N,GAAQ,QAAU/F,IAAPyT,EAAoD,OAAlCrB,EAAe,QAAGI,EAAa,GAAWA,EAAazM,GAAQqM,EAAerM,EAAO0N,EAAKpL,KAAsQyL,gBAApvB,WAA2B,IAAIC,EAAQtG,EAAauG,EAAMtG,EAAgC0E,EAATE,GAAqCP,EAAYiC,GAAOhC,EAAU+B,IAAioBZ,SAASA,EAASC,YAAYA,EAAYG,aAAaA,EAAaC,gBAAgBA,EAAgBb,qBAAqBA,EAAqBI,SAASA,EAASC,YAAYA,EAAYJ,wBAAwBA,EAAwBe,SAASA,GAAUhV,SAAShC,EAAMgC,WAAY,SAASsV,KAAiB,IAAIpV,EAAIhC,OAAOlE,EAAkB,WAAzBkE,CAA4B4U,IAAc,GAAS,OAAN5S,EAAY,MAAM,IAAIC,MAAM,yBAA0B,OAAOD,EAAK,SAASqV,KAAc,IAAIC,EAAgBF,KAAiBV,EAAaY,EAAgBZ,aAA6E,OAAOG,GAA9DS,EAAgB1G,SAAgB0G,EAAgBzG,OAA2C6F,GAAe,SAASG,GAAajG,EAASC,EAAO6F,GAAc,IAAIa,EAhBnhH,SAAsB3G,EAASC,GAAQ,IAAIC,EAAMH,GAASC,EAASC,GAAY2G,EAAQ7I,GAAOmC,EAAMA,EAAM,QAAG3N,GAAesU,EAAWlJ,GAAUuC,EAAMA,EAAM,QAAG3N,GAAeuU,EAAM/I,GAAOmC,EAAMA,EAAM,QAAG3N,GAAW,GAAW,OAAR2N,EAAH,CAAmC,GAAkB,IAAfA,EAAM7G,aAAsB9G,IAAVqU,EAAoB,CAAC,QAAgBrU,IAAbsU,EAAwB,OAAkB,OAAiB,OAAbA,QAAgC,IAAbA,OAAoB,EAAOA,EAAW9J,gBAAgB9E,OAAO+H,MAA0B,OAAb6G,QAAgC,IAAbA,OAAoB,EAAOA,EAAW9J,gBAAgB9E,OAAO5K,KAAoB2S,EAAS/H,OAAO7K,GAAkBwZ,EAAQhH,SAAS,EAAIgH,EAAQhH,QAAqBgH,EAAQ/G,WAAW+G,EAAQ/G,UAAY,QAAatN,IAAVqU,QAAuCrU,IAAlBqU,EAAQhH,cAA6BrN,IAARuU,QAAqCvU,IAAlBuU,EAAMjH,UAAyC,OAAOiH,EAAMjH,UAAU+G,EAAQhH,SAgBuvFmH,CAAa/G,EAASC,GAA4D,OAA5B,OAAf6F,EAAoBa,EAAUb,EASlmH,IAAIkB,GAAOjc,EAAoB,KAG3Bkc,GAAWlc,EAAoB,IAG/Bmc,GAAanc,EAAoB,KAGjCoc,GAAYpc,EAAoB,KAGhCqc,GAAsBrc,EAAoB,KAG1Csc,GAAStc,EAAoB,KAG7Buc,GAAcvc,EAAoB,KAGlCwc,GAAgBxc,EAAoB,KAGpCyc,GAAOzc,EAAoB,KAG3B0c,GAAW1c,EAAoB,KAG/B2c,GAAgB3c,EAAoB,KAGpC4c,GAAUvY,OAAOlD,EAA4B,EAAnCkD,EAAsC,SAASwY,GAAO,MAAM,CAACC,cAAc,CAACC,QAAQ,GAAGC,UAAU,CAACC,aAAa,MAAMC,MAAM,QAAQC,IAAI,CAACC,SAAS,SAASC,YAAY,CAACH,MAAML,EAAMS,QAAQC,KAAK,IAAIC,WAAW,IAAIC,gBAAgBZ,EAAMS,QAAQI,QAAQC,KAAKC,aAAa,QAAQC,aAAa,CAACC,QAAQ,GAAGC,MAAM,CAACb,MAAM,wBAAwB,SAASc,GAAYnS,GAAM,IAAIoS,EAAKpS,EAAKoS,KAAKC,EAAQrS,EAAKqS,QAAQC,EAAQtS,EAAKsS,QAAYjQ,EAAU7J,OAAOlE,EAAgB,SAAvBkE,CAA0B,GAAG2L,EAAW3L,OAAOpD,EAA+B,EAAtCoD,CAAyC6J,EAAU,GAAGkQ,EAAapO,EAAW,GAAqCpB,GAAlBoB,EAAW,GAAkB3L,OAAOlE,EAAgB,SAAvBkE,CAA0B,KAAI6O,EAAW7O,OAAOpD,EAA+B,EAAtCoD,CAAyCuK,EAAW,GAAGyP,EAAYnL,EAAW,GAAGoL,EAAepL,EAAW,GAAOlO,EAAOqZ,EAAYE,cAAkBC,EAAO5B,KAAgB6B,EAhImQ,WAA8B,IAAIC,EAAsBtY,IAAoN,MAAM,CAACtB,gBAArL4Z,EAAsB5Z,gBAA+LiB,wBAAvJ2Y,EAAsB3Y,wBAAiLL,sBAAnIgZ,EAAsBhZ,uBAgIreiZ,GAAqB7Z,EAAgB2Z,EAAoB3Z,gBAAgBY,EAAsB+Y,EAAoB/Y,sBAAsBK,EAAwB0Y,EAAoB1Y,wBAA2G6Y,GAAlEva,OAAOsY,GAA+B,EAAtCtY,CAAyC,qBAAuD,IAAf+Z,EAAiBtZ,EAA+B,IAAfsZ,EAAiBrY,EAAwBL,GAA0BX,EAAqB,KAAdsZ,EAAiBO,EAAeA,EAAe5Z,QAAO,SAASJ,GAAG,OAAOA,EAAEnB,OAAO8a,cAAcM,WAAW7Z,IAASJ,EAAErB,KAAKgb,cAAcM,WAAW7Z,IAASJ,EAAEvB,QAAQkb,cAAcM,WAAW7Z,MAAW,OAAmBX,OAAOxB,EAAkB,KAAzBwB,CAA4BiY,GAAwB,EAAE,CAAC2B,KAAKA,EAAKC,QAAQA,EAAQY,OAAO,QAAQC,WAAW,CAACC,MAAM,CAACpB,aAAa,OAAOqB,WAAW,UAAU/B,MAAM,mBAAmBgC,MAAM,UAAU/Y,SAAS,CAAc9B,OAAOxB,EAAkB,KAAzBwB,CAA4BkY,GAA6B,EAAE,CAACyC,MAAM,CAACxB,WAAW,QAAQrX,SAAS,CAAc9B,OAAOxB,EAAiB,IAAxBwB,CAA2B8X,GAA4B,EAAE,CAACgD,QAAQ,KAAKH,MAAM,CAACI,cAAc,OAAOlC,MAAM,SAAS/W,SAAS,mBAAgC9B,OAAOxB,EAAiB,IAAxBwB,CAA2B+X,GAA2B,EAAE,CAACiD,UAAUb,EAAOxB,UAAUsC,WAAW,CAACC,QAAQ,CAACxB,MAAMS,EAAOT,QAAQyB,YAAY,cAActZ,MAAMmY,EAAYoB,WAAU,EAAKN,QAAQ,WAAWO,SAAS,SAAkBC,GAAG,OAAOrB,EAAeqB,EAAEC,OAAO1Z,aAA2B7B,OAAOxB,EAAiB,IAAxBwB,CAA2BmY,GAA+B,EAAE,CAAC6C,UAAUb,EAAO1B,cAAc+C,UAAS,EAAK1Z,SAAsB9B,OAAOxB,EAAiB,IAAxBwB,CAA2BoY,GAAsB,EAAE,CAACqD,gBAAe,EAAK3Z,SAASpB,EAAOS,KAAI,SAASua,GAAW,OAAmB1b,OAAOxB,EAAiB,IAAxBwB,CAA2B2b,GAAc,CAACD,UAAUA,EAAUE,QAAQ,SAAiBhZ,GAAMkX,EAAQlX,GAAMiX,MAAa6B,EAAU1c,mBAAoB,SAAS2c,GAAc1T,GAAO,IAAIyT,EAAUzT,EAAMyT,UAAUG,EAAS5T,EAAM2T,QAAYhZ,EAAK,IAAIzF,EAA6B,UAAEue,EAAU1c,SAAS,OAAmBgB,OAAOxB,EAAkB,KAAzBwB,CAA4BqY,GAA0B,EAAE,CAACyD,QAAO,EAAKF,QAAQ,WAAmB,OAAOC,EAASjZ,IAAQ+X,MAAM,CAACjC,QAAQ,aAAa5W,SAAS,CAAc9B,OAAOxB,EAAiB,IAAxBwB,CAA2B+b,GAAU,CAACnZ,KAAKA,EAAK+X,MAAM,CAACqB,OAAO,OAAOzC,aAAa,OAAOV,MAAM,WAAwB7Y,OAAOxB,EAAiB,IAAxBwB,CAA2Bic,GAAU,CAACP,UAAUA,OAAgB,SAASO,GAAU5T,GAAO,IAAIqT,EAAUrT,EAAMqT,UAAU,OAAmB1b,OAAOxB,EAAkB,KAAzBwB,CAA4B,MAAM,CAAC2a,MAAM,CAACuB,WAAW,QAAQpa,SAAS,CAAc9B,OAAOxB,EAAiB,IAAxBwB,CAA2B8X,GAA4B,EAAE,CAAC6C,MAAM,CAACxB,WAAW,OAAON,MAAM,QAAQ/W,SAAqB,OAAZ4Z,QAA8B,IAAZA,OAAmB,EAAOA,EAAUtc,SAAsBY,OAAOxB,EAAiB,IAAxBwB,CAA2B8X,GAA4B,EAAE,CAAC6C,MAAM,CAACwB,SAAS,OAAOtD,MAAM,QAAQ/W,SAAqB,OAAZ4Z,QAA8B,IAAZA,OAAmB,EAAOA,EAAUxc,UAEzmH,IAAIkd,GAAazgB,EAAoB,KAGjC0gB,GAAU1gB,EAAoB,KAG9B2gB,GAAiB3gB,EAAoB,KAGrC4gB,GAAY5gB,EAAoB,KAGhC6gB,GAAmB7gB,EAAoB,KAGvC8gB,GAAS9gB,EAAoB,KAG7B+gB,GAAmB/gB,EAAoB,KAGvCghB,GAA0BhhB,EAAoB,IAC9CihB,GAA+CjhB,EAAoBK,EAAE2gB,IAGrEE,GAAiBlhB,EAAoB,KAGrCmhB,GAAQnhB,EAAoB,KAG5BohB,GAAQphB,EAAoB,KAG5BqhB,GAAYrhB,EAAoB,KAGhCshB,GAAWthB,EAAoB,KAG/BuhB,GAAYvhB,EAAoB,KAGhCwhB,GAAYxhB,EAAoB,KAGhCyhB,GAAOzhB,EAAoB,KAG3B0hB,GAAS1hB,EAAoB,KAG7B2hB,GAAW3hB,EAAoB,KAG/B4hB,GAAQ5hB,EAAoB,KAG5B6hB,GAA2Bxd,OAAOlD,EAA4B,EAAnCkD,EAAsC,SAASwY,GAAO,MAAM,CAACiF,MAAM,GAAGC,aAAa,CAAC7E,MAAML,EAAMS,QAAQlU,MAAMuU,UAAU,SAASqE,GAAiBnW,GAAM,IAAIoS,EAAKpS,EAAKoS,KAAKC,EAAQrS,EAAKqS,QAAQ,OAAmB7Z,OAAOxB,EAAkB,KAAzBwB,CAA4BiY,GAAwB,EAAE,CAAC2F,SAAS,KAAKhE,KAAKA,EAAKC,QAAQA,EAAQa,WAAW,CAACC,MAAM,CAACpB,aAAa,SAASzX,SAAS,CAAc9B,OAAOxB,EAAiB,IAAxBwB,CAA2B,MAAM,CAAC2a,MAAM,CAACkD,QAAQ,OAAOC,eAAe,YAAYhc,SAAsB9B,OAAOxB,EAAiB,IAAxBwB,CAA2Boc,GAA4B,EAAE,CAACR,QAAQ/B,EAAQc,MAAM,CAACjC,QAAQ,IAAI5W,SAAsB9B,OAAOxB,EAAiB,IAAxBwB,CAA2Bud,GAAuB,EAAE,QAAqBvd,OAAOxB,EAAiB,IAAxBwB,CAA2BmY,GAA+B,EAAE,CAACwC,MAAM,CAACoD,WAAW,GAAGjc,SAAsB9B,OAAOxB,EAAiB,IAAxBwB,CAA2Bge,GAAmB,SAAU,SAASA,KAAqB,IAAI7D,EAAOqD,KAAiCrR,EAAWmC,KAAoB2P,EAAkBje,OAAOlE,EAAe,QAAtBkE,EAAyB,WAAW,OAAOoN,MAAMC,KAAKlB,EAAW+R,WAAW/c,KAAI,SAAS8G,GAAO,IAAII,EAAMrI,OAAOpD,EAA+B,EAAtCoD,CAAyCiI,EAAM,GAAGmE,EAAO/D,EAAM,GAAGgE,EAAGhE,EAAM,GAAG,MAAM,CAAC,IAAIlL,EAA6B,UAAEiP,GAAQC,QAAS,CAACF,IAAa,OAAmBnM,OAAOxB,EAAiB,IAAxBwB,CAA2B6c,GAAgC,EAAE,CAACsB,UAAUrB,GAAuB,EAAEsB,UAAU,EAAEtc,SAAsB9B,OAAOxB,EAAkB,KAAzBwB,CAA4B+c,GAAuB,EAAE,CAAC/B,UAAUb,EAAOsD,MAAM,aAAa,eAAe3b,SAAS,CAAc9B,OAAOxB,EAAiB,IAAxBwB,CAA2Bgd,GAA2B,EAAE,CAAClb,SAAsB9B,OAAOxB,EAAkB,KAAzBwB,CAA4Bid,GAA0B,EAAE,CAACnb,SAAS,CAAc9B,OAAOxB,EAAiB,IAAxBwB,CAA2Bkd,GAA2B,EAAE,CAACpb,SAAS,WAAwB9B,OAAOxB,EAAiB,IAAxBwB,CAA2Bkd,GAA2B,EAAE,CAACmB,MAAM,SAASvc,SAAS,wBAAqC9B,OAAOxB,EAAiB,IAAxBwB,CAA2Bkd,GAA2B,EAAE,CAACmB,MAAM,SAASvc,SAAS,cAA2B9B,OAAOxB,EAAiB,IAAxBwB,CAA2Bkd,GAA2B,EAAE,CAACmB,MAAM,SAASvc,SAAS,cAA2B9B,OAAOxB,EAAiB,IAAxBwB,CAA2Bkd,GAA2B,EAAE,CAACmB,MAAM,SAASvc,SAAS,eAA4B9B,OAAOxB,EAAiB,IAAxBwB,CAA2Bkd,GAA2B,EAAE,CAACmB,MAAM,SAASvc,SAAS,eAA4B9B,OAAOxB,EAAiB,IAAxBwB,CAA2Bkd,GAA2B,EAAE,CAACmB,MAAM,SAASvc,SAAS,WAAwB9B,OAAOxB,EAAiB,IAAxBwB,CAA2Bkd,GAA2B,EAAE,CAACmB,MAAM,SAASvc,SAAS,eAA4B9B,OAAOxB,EAAiB,IAAxBwB,CAA2Bmd,GAA2B,EAAE,CAACrb,SAASmc,EAAkB9c,KAAI,SAASwH,GAAO,IAAIC,EAAM5I,OAAOpD,EAA+B,EAAtCoD,CAAyC2I,EAAM,GAAGyD,EAAOxD,EAAM,GAAG0V,EAAI1V,EAAM,GAAG,OAAmB5I,OAAOxB,EAAiB,IAAxBwB,CAA2Bue,GAAc,CAACnS,OAAOA,EAAOD,WAAWmS,GAAKlS,EAAOnN,sBAAuB,SAASsf,GAAczV,GAAO,IAAI0V,EAAcC,EAAmBrS,EAAOtD,EAAMsD,OAAOD,EAAWrD,EAAMqD,WAAegO,EAAOqD,KAAiC3T,EAAU7J,OAAOlE,EAAgB,SAAvBkE,CAA0BmM,EAAW,IAAIR,EAAW3L,OAAOpD,EAA+B,EAAtCoD,CAAyC6J,EAAU,GAAG6U,EAAU/S,EAAW,GAAGgT,EAAahT,EAAW,GAAG3L,OAAOlE,EAAiB,UAAxBkE,EAA2B,WAAW2e,EAAaxS,EAAW,MAAM,CAACA,IAAa,IAAIyS,EAAevQ,KAAgBvC,EAAW8S,EAAe9S,WAAWC,EAAgB6S,EAAe7S,gBAAoB0C,EAAaF,GAAUnC,GAAYhM,EAAS8B,IAAkBqR,EAAKrI,GAAuB,OAAfuD,QAAoC,IAAfA,OAAsB,EAAOA,EAAad,iBAAqB+F,EAAMxI,GAAuB,OAAfuD,QAAoC,IAAfA,OAAsB,EAAOA,EAAab,kBAAsBiR,EAAWvU,GAAoC,OAAfmE,QAAoC,IAAfA,OAAsB,EAAOA,EAAad,iBAAqBmR,EAAYxU,GAAoC,OAAfmE,QAAoC,IAAfA,OAAsB,EAAOA,EAAab,kBAAsBmR,EAAWtQ,EAAuI,QAAzH+P,EAAcpe,EAAS/D,IAAmB,OAAfoS,QAAoC,IAAfA,OAAsB,EAAOA,EAAad,gBAAgB1O,mBAAqC,IAAhBuf,OAAuB,EAAOA,EAAcpf,OAAO,IAAQ4f,EAAYvQ,EAAyI,QAA3HgQ,EAAere,EAAS/D,IAAmB,OAAfoS,QAAoC,IAAfA,OAAsB,EAAOA,EAAab,iBAAiB3O,mBAAsC,IAAjBwf,OAAwB,EAAOA,EAAerf,OAAO,IAAQ6f,EAAWF,GAAYC,EAAY,GAAGzb,OAAOwb,EAAW,OAAOxb,OAAOyb,GAAa5S,EAAOnN,WAAeigB,EAAeR,EAAUS,cAAcC,WAAWV,EAAUW,eAAeD,aAAa,EAAME,EAAcZ,EAAUa,eAAeH,WAAWV,EAAUc,gBAAgBJ,aAAa,EAAMK,EAAyB,WAAW,IAAI/P,EAAM1P,OAAOrD,EAAkC,EAAzCqD,CAAyDtD,EAAoBgC,EAAEgE,MAAK,SAAS4F,IAAU,IAAmBoX,EAAsBC,EAAYC,EAAQ,OAAOljB,EAAoBgC,EAAEqE,MAAK,SAAkB0F,GAAU,OAAS,OAAOA,EAASxF,KAAKwF,EAASvF,MAAM,KAAK,EAAE,GAAGuL,EAAa,CAAChG,EAASvF,KAAK,EAAE,MAAO,MAAM,IAAIjB,MAAM,2BAA2B,KAAK,EAAE,GAAM4c,GAAaC,EAAa,CAACrW,EAASvF,KAAK,EAAE,MAAO,MAAM,IAAIjB,MAAM,kCAAkC,KAAK,EAA2C,YAA1BkB,EAAUsF,EAASvF,KAAK,EAASuL,EAAaoR,2BAA2B/T,EAAWS,QAAQ3C,SAASzF,WAAWua,EAAUG,EAAW3X,UAAU4X,EAAY5X,UAA3J/D,WAAqL,KAAK,EAA2I,OAAzIuc,EAAsBjX,EAASjF,KAAKmc,EAAYD,EAAsBC,YAAYC,EAAQF,EAAsBE,QAAQnX,EAASvF,KAAK,GAAU4I,EAAWS,QAAQ3C,SAASkW,KAAKH,EAAYC,GAAS,KAAK,GAAG,IAAI,MAAM,OAAOnX,EAAS/E,UAAW4E,OAAa,OAAO,WAAuB,OAAOoH,EAAMlN,MAAMnH,KAAKoH,YAAv/B,GAA4gCsd,EAA8B,WAAW,IAAI7P,EAAMlQ,OAAOrD,EAAkC,EAAzCqD,CAAyDtD,EAAoBgC,EAAEgE,MAAK,SAASC,IAAW,OAAOjG,EAAoBgC,EAAEqE,MAAK,SAAmBC,GAAW,OAAS,OAAOA,EAAUC,KAAKD,EAAUE,MAAM,KAAK,EAAmB,OAAjBF,EAAUE,KAAK,EAAS4I,EAAWS,QAAQW,IAAIwQ,aAAa,CAACsC,SAAS,CAAC7T,WAAWuS,EAAU1f,QAAQihB,UAAUnU,EAAWS,QAAQ3C,SAASG,OAAO7C,UAAUgZ,YAAYpU,EAAWS,QAAQ3C,SAASG,OAAO7C,UAAUkF,OAAOqC,EAAazP,QAAQmhB,WAAWtiB,KAAW,KAAK,EAAEkO,EAAgB2S,GAAW,KAAK,EAAE,IAAI,MAAM,OAAO1b,EAAUU,UAAWf,OAAc,OAAO,WAA4B,OAAOuN,EAAM1N,MAAMnH,KAAKoH,YAAjpB,GAAkqB,OAAmBzC,OAAOxB,EAAkB,KAAzBwB,CAA4Bid,GAA0B,EAAE,CAACnb,SAAS,CAAc9B,OAAOxB,EAAiB,IAAxBwB,CAA2Bkd,GAA2B,EAAE,CAACiB,UAAU,KAAKiC,MAAM,MAAMte,SAAsB9B,OAAOxB,EAAiB,IAAxBwB,CAA2B8X,GAA4B,EAAE,CAAChW,SAAsB9B,OAAOxB,EAAiB,IAAxBwB,CAA2Bod,GAAsB,EAAE,CAACiD,KAAK,yCAAyC9c,OAAO6I,EAAOnN,YAAYsc,OAAO,SAAS+E,IAAI,WAAWxe,SAASmd,QAA8Bjf,OAAOxB,EAAiB,IAAxBwB,CAA2Bkd,GAA2B,EAAE,CAACmB,MAAM,SAASvc,SAAsB9B,OAAOxB,EAAiB,IAAxBwB,CAA2Bqd,GAAwB,EAAE,CAACxb,MAAM6c,EAAU1f,QAAQC,WAAWoc,SAAS,SAAkBC,GAAG,OAAOqD,EAAaxS,EAAWxL,QAAO,SAAS0L,GAAI,OAAOA,EAAGrN,QAAQC,aAAaqc,EAAEC,OAAO1Z,SAAS,KAAMC,SAASqK,EAAWhL,KAAI,SAASkL,GAAI,OAAmBrM,OAAOxB,EAAiB,IAAxBwB,CAA2Bsd,GAA0B,EAAE,CAACzb,MAAMwK,EAAGrN,QAAQC,WAAW6C,SAASuK,EAAGrN,QAAQC,YAAYoN,EAAGrN,QAAQC,mBAAgCe,OAAOxB,EAAiB,IAAxBwB,CAA2Bkd,GAA2B,EAAE,CAACmB,MAAM,SAASvc,SAASye,GAAUhN,EAAKmL,EAAUa,eAAeiB,IAAI9B,EAAUS,kBAA+Bnf,OAAOxB,EAAiB,IAAxBwB,CAA2Bkd,GAA2B,EAAE,CAACmB,MAAM,SAASvc,SAASye,GAAUhN,EAAKmL,EAAUS,iBAA8Bnf,OAAOxB,EAAiB,IAAxBwB,CAA2Bkd,GAA2B,EAAE,CAACmB,MAAM,SAASvc,SAASye,GAAU7M,EAAMgL,EAAUc,gBAAgBgB,IAAI9B,EAAUW,mBAAgCrf,OAAOxB,EAAiB,IAAxBwB,CAA2Bkd,GAA2B,EAAE,CAACmB,MAAM,SAASvc,SAASye,GAAU7M,EAAMgL,EAAUW,kBAA+Brf,OAAOxB,EAAiB,IAAxBwB,CAA2Bkd,GAA2B,EAAE,CAACmB,MAAM,SAASvc,SAAsB9B,OAAOxB,EAAiB,IAAxBwB,CAA2BjD,EAAwB,EAAE,CAAC8b,MAAM,UAAU4H,SAASvB,EAAetD,QAAQ6D,EAAY3d,SAAS,aAA0B9B,OAAOxB,EAAiB,IAAxBwB,CAA2Bkd,GAA2B,EAAE,CAACmB,MAAM,SAASvc,SAAsB9B,OAAOxB,EAAiB,IAAxBwB,CAA2BjD,EAAwB,EAAE,CAAC0jB,SAASnB,EAAc1D,QAAQmE,EAAiB/E,UAAUb,EAAOuD,aAAa5b,SAAS,cAAcsK,EAAOnN,YAAa,SAASshB,GAAUlV,EAASxJ,GAAO,OAAIwJ,GAAqDxJ,EAAMud,WAAWsB,KAAKC,IAAI,GAAGtV,EAASlM,WAAWyhB,QAAQvV,EAASlM,UAAtG0C,EAAMud,WAAWngB,WAE72Q,IAAI4hB,GAAmB7gB,OAAOlD,EAA4B,EAAnCkD,EAAsC,SAASwY,GAAO,MAAM,CAACM,IAAI,CAAC+B,MAAM,OAAO4C,MAAM,GAAGqD,eAAe,CAACpI,QAAQ,EAAEG,MAAML,EAAMS,QAAQC,KAAK,KAAK6H,wBAAwB,CAAClI,MAAML,EAAMS,QAAQ+H,KAAKC,WAAWC,iBAAiB,CAAC9H,gBAAgBZ,EAAMS,QAAQI,QAAQC,KAAKZ,QAAQ,UAAUa,aAAa,OAAOV,MAAML,EAAMS,QAAQC,KAAK,IAAIC,WAAW,KAAKgI,SAAS,CAAC/H,gBAAqC,SAArBZ,EAAMS,QAAQmI,KAAc5I,EAAMS,QAAQC,KAAK,IAAIV,EAAMS,QAAQC,KAAK,KAAKR,QAAQ,UAAUa,aAAa,OAAO8H,UAAU,QAAQ3H,MAAM,CAACb,MAAM,uBAAuB,SAASyI,KAAiB,IAAInH,EAAO0G,KAAqB,OAAmB7gB,OAAOxB,EAAiB,IAAxBwB,CAA2B4c,GAAgCle,EAAE,CAACoc,QAAQ,UAAUhZ,SACltB,SAAkByf,GAAY,OAAmBvhB,OAAOxB,EAAkB,KAAzBwB,CAA4B,MAAM,CAAC8B,SAAS,CAAc9B,OAAOxB,EAAiB,IAAxBwB,CAA2Boc,GAA4B,EAAEpc,OAAOmC,EAA+B,EAAtCnC,CAAyCA,OAAOmC,EAA+B,EAAtCnC,CAAyC,GAAGA,OAAO2c,GAAqC,YAA5C3c,CAA+CuhB,IAAa,GAAG,CAACvG,UAAUb,EAAO2G,eAAehf,SAAsB9B,OAAOxB,EAAiB,IAAxBwB,CAA2B0c,GAAkC,EAAE,CAACP,SAAS,aAA0Bnc,OAAOxB,EAAiB,IAAxBwB,CAA2Bqc,GAAyB,EAAErc,OAAOmC,EAA+B,EAAtCnC,CAAyCA,OAAOmC,EAA+B,EAAtCnC,CAAyC,GAAGA,OAAO2c,GAAqC,YAA5C3c,CAA+CuhB,IAAa,GAAG,CAACC,aAAa,CAACC,SAAS,SAASC,WAAW,QAAQC,gBAAgB,CAACF,SAAS,MAAMC,WAAW,SAAShH,WAAW,CAACC,MAAM,CAACpB,aAAa,OAAO8H,UAAU,uCAAuCvf,SAAsB9B,OAAOxB,EAAiB,IAAxBwB,CAA2B4hB,GAAgB,aAAe,SAASA,KAAkB,IAAIzH,EAAO0G,KAAyBvJ,EAAgBF,KAAiBd,EAASgB,EAAgBhB,SAASC,EAAYe,EAAgBf,YAAYG,EAAaY,EAAgBZ,aAAaC,EAAgBW,EAAgBX,gBAAoB9M,EAAU7J,OAAOlE,EAAgB,SAAvBkE,EAA0B,GAAO2L,EAAW3L,OAAOpD,EAA+B,EAAtCoD,CAAyC6J,EAAU,GAAGgY,EAAmBlW,EAAW,GAAGmW,EAAsBnW,EAAW,GAAOiL,EAAKS,KAAiDvL,EAAhBuC,KAA0CvC,WAA4G,OAAmB9L,OAAOxB,EAAkB,KAAzBwB,CAA4B,MAAM,CAAC2a,MAAM,CAACjC,QAAQ,OAAOmC,MAAM,QAAQD,WAAW,WAAW9Y,SAAS,CAAc9B,OAAOxB,EAAiB,IAAxBwB,CAA2B8X,GAA4B,EAAE,CAAC6C,MAAM,CAACxB,WAAW,OAAON,MAAM,SAAS/W,SAAS,aAA0B9B,OAAOxB,EAAkB,KAAzBwB,CAA4B,MAAM,CAAC8B,SAAS,CAAc9B,OAAOxB,EAAkB,KAAzBwB,CAA4B,MAAM,CAAC2a,MAAM,CAACoH,UAAU,QAAQjgB,SAAS,CAAc9B,OAAOxB,EAAiB,IAAxBwB,CAA2B8X,GAA4B,EAAE,CAAC6C,MAAM,CAACwB,SAAS,OAAOtD,MAAM,SAAS/W,SAAS,uBAAoC9B,OAAOxB,EAAiB,IAAxBwB,CAA2B+X,GAA2B,EAAE,CAACqJ,KAAK,SAASjG,YAAY,6BAA6BtZ,MAAMyU,EAAS+E,SAAS,SAAkBC,GAAG,OAAjvBzZ,EAA2wBmgB,WAAW1G,EAAEC,OAAO1Z,YAAxxB0U,GAAa1U,GAAOA,EAAM,EAAE,EAAEA,GAAjE,IAA4BA,GAAyyB8Y,MAAM,CAACkD,QAAQ,OAAOC,eAAe,SAASmE,cAAc,SAASpJ,MAAM,QAAQoC,WAAW,CAACiH,aAA0BliB,OAAOxB,EAAiB,IAAxBwB,CAA2Bsc,GAAgC,EAAE,CAAC6F,SAAS,MAAMrgB,SAAS,MAAMoZ,QAAQ,CAACxB,MAAMS,EAAOT,aAA0B1Z,OAAOxB,EAAkB,KAAzBwB,CAA4B,MAAM,CAAC2a,MAAM,CAACoH,UAAU,QAAQjgB,SAAS,CAAc9B,OAAOxB,EAAiB,IAAxBwB,CAA2B8X,GAA4B,EAAE,CAAC6C,MAAM,CAACwB,SAAS,OAAOtD,MAAM,SAAS/W,SAAS,eAA4B9B,OAAOxB,EAAkB,KAAzBwB,CAA4B,MAAM,CAAC2a,MAAM,CAACkD,QAAQ,QAAQ/b,SAAS,CAAc9B,OAAOxB,EAAiB,IAAxBwB,CAA2B+X,GAA2B,EAAE,CAACqJ,KAAK,SAASjG,YAAY,sBAAsBtZ,MAAM+U,EAAKyE,SAAS,SAAkBC,GAAG,OAAO3E,EAAgBqL,WAAW1G,EAAEC,OAAO1Z,SAAU8Y,MAAM,CAACyH,YAAY,OAAOC,KAAK,EAAExE,QAAQ,OAAOC,eAAe,SAASmE,cAAc,UAAUhH,WAAW,CAACC,QAAQ,CAACxB,MAAMS,EAAOT,QAAQ+G,SAAwB,OAAf/J,IAAmC1W,OAAOxB,EAAiB,IAAxBwB,CAA2BjD,EAAwB,EAAE,CAACohB,UAAU,MAAMrD,QAAQ,YAAYc,QAAQ,gBAA6BzY,IAAPyT,EAAqFD,EAAN,OAAfD,EAAqCE,EAA4B,MAA/G9R,QAAQC,MAAM,sBAA0GiW,UAAyB,OAAftE,EAAoByD,EAAO+G,iBAAiB/G,EAAOgH,SAASrf,SAAS,eAA4B9B,OAAOxB,EAAiB,IAAxBwB,CAA2B,MAAM,CAAC2a,MAAM,CAAC2H,OAAO,YAAYxgB,SAAsB9B,OAAOxB,EAAiB,IAAxBwB,CAA2BuiB,GAAuB,MAAmBviB,OAAOxB,EAAiB,IAAxBwB,CAA2BjD,EAAwB,EAAE,CAAC+d,QAAQ,YAAYM,WAAU,EAAKT,MAAM,CAAC9B,MAAM,QAAQ4H,SAAwD,OAA/C3U,EAAWS,QAAQ3C,SAASG,OAAO7C,UAAiB0U,QAAQ,WAAmB,OAAOkG,GAAsB,IAAQhgB,SAAS,2BAAwC9B,OAAOxB,EAAiB,IAAxBwB,CAA2B2d,GAAiB,CAAC/D,KAAKiI,EAAmBhI,QAAQ,WAAmB,OAAOiI,GAAsB,SAAe,SAASS,KAAyB,IAAIpI,EAAO0G,KAAyB2B,EAAiBpL,KAAiBtB,EAAqB0M,EAAiB1M,qBAAqBC,EAAwByM,EAAiBzM,wBAAwB,OAAmB/V,OAAOxB,EAAiB,IAAxBwB,CAA2Buc,GAA2B,EAAE,CAAC5B,MAAM,CAACkD,QAAQ,QAAQ4E,KAAI,EAAK3gB,SAAsB9B,OAAOxB,EAAiB,IAAxBwB,CAA2Bwc,GAAkC,EAAE,CAACtB,QAAQ,CAACwH,MAAMvI,EAAO4G,yBAAyB4B,eAAe,QAAQhI,MAAM,CAACkD,QAAQ,OAAOC,eAAe,gBAAgB5B,WAAW,EAAErB,MAAM,QAAQ+H,QAAqB5iB,OAAOxB,EAAiB,IAAxBwB,CAA2Byc,GAAwB,EAAE,CAACoG,QAAQ/M,EAAqBuF,SAAS,WAAoB,OAAOtF,GAAyBD,IAAwB+C,MAAM,YAAY6J,MAAM,yBAE73J/mB,EAAoB,KAA/B,IAGImnB,GAAe9iB,OAAOlD,EAA4B,EAAnCkD,EAAsC,WAAW,MAAM,CAAC+iB,UAAU,CAAClK,MAAM,mBAAmBkJ,UAAU,OAAOnJ,aAAa,OAAOoK,WAAW,QAAQC,gBAAgB,CAACpF,QAAQ,OAAOC,eAAe,cAAcoF,UAAU,CAAC/G,SAAS,OAAOtB,MAAM,QAAQsI,WAAW,CAAChH,SAAS,OAAOiH,UAAU,SAASvI,MAAM,OAAOwI,WAAW,CAACnH,WAAW,MAAMxD,QAAQ,EAAEyD,SAAS,YAAY,SAASmH,KAAY,IAAInJ,EAAO2I,KAAqBxL,EAAgBF,KAAiBxG,EAAS0G,EAAgB1G,SAASC,EAAOyG,EAAgBzG,OAAqEzQ,GAA7C8K,GAAQ0F,GAAmByG,KAA2BnV,KAAgC9B,EAAS/D,IAAIuU,EAAS3R,YAA4BmB,EAAS/D,IAAIwU,EAAO5R,YAAY,OAAmBe,OAAOxB,EAAkB,KAAzBwB,CAA4B,MAAM,CAACgb,UAAUb,EAAO4I,UAAUjhB,SAAS,CAAc9B,OAAOxB,EAAkB,KAAzBwB,CAA4B,MAAM,CAACgb,UAAUb,EAAO8I,gBAAgBnhB,SAAS,CAAc9B,OAAOxB,EAAiB,IAAxBwB,CAA2B8X,GAA4B,EAAE,CAACkD,UAAUb,EAAO+I,UAAUphB,SAAS,yBAAsC9B,OAAOxB,EAAiB,IAAxBwB,CAA2B8X,GAA4B,EAAE,CAACkD,UAAUb,EAAOgJ,WAAWrhB,SAAsB9B,OAAOxB,EAAiB,IAAxBwB,CAA2BshB,GAAe,SAAsBthB,OAAOxB,EAAkB,KAAzBwB,CAA4B,MAAM,CAACgb,UAAUb,EAAO8I,gBAAgBnhB,SAAS,CAAc9B,OAAOxB,EAAiB,IAAxBwB,CAA2B8X,GAA4B,EAAE,CAACkD,UAAUb,EAAO+I,UAAUphB,SAAS,uBAAoC9B,OAAOxB,EAAiB,IAAxBwB,CAA2B8X,GAA4B,EAAE,CAACkD,UAAUb,EAAOgJ,WAAWrhB,SAAS,SAAsB9B,OAAOxB,EAAkB,KAAzBwB,CAA4B,MAAM,CAACgb,UAAUb,EAAO8I,gBAAgBnhB,SAAS,CAAc9B,OAAOxB,EAAiB,IAAxBwB,CAA2B8X,GAA4B,EAAE,CAACkD,UAAUb,EAAO+I,UAAUphB,SAAS,qBAAkC9B,OAAOxB,EAAiB,IAAxBwB,CAA2B8X,GAA4B,EAAE,CAACkD,UAAUb,EAAOgJ,WAAWrhB,SAAS,SAAsB9B,OAAOxB,EAAkB,KAAzBwB,CAA4B,MAAM,CAACgb,UAAUb,EAAO8I,gBAAgBnhB,SAAS,CAAc9B,OAAOxB,EAAiB,IAAxBwB,CAA2B8X,GAA4B,EAAE,CAACkD,UAAUb,EAAO+I,UAAUphB,SAAS,aAA0B9B,OAAOxB,EAAiB,IAAxBwB,CAA2B8X,GAA4B,EAAE,CAACkD,UAAUb,EAAOgJ,WAAWrhB,SAAS,YAG3pE,IAAIyhB,GAAevjB,OAAOlD,EAA4B,EAAnCkD,EAAsC,SAASwY,GAAO,MAAM,CAACgL,KAAK,CAAC3I,MAAMrC,EAAMiL,QAAQ,IAAIlK,aAAaf,EAAMiL,QAAQ,GAAG7I,WAAW,UAAU8I,OAAO,sBAAsB7K,MAAM,mBAAmBwI,UAAU,qCAAqC3I,QAAQF,EAAMiL,QAAQ,IAAI3K,IAAI,CAAC+B,MAAM,OAAOiG,eAAe,CAACpI,QAAQ,GAAGiL,WAAW,CAAC9I,MAAM,OAAO+I,cAAc,aAAarK,aAAaf,EAAMiL,QAAQ,GAAGrK,gBAAgB,UAAUP,MAAM,mBAAmBsD,SAAS,GAAGhD,WAAW,IAAIT,QAAQF,EAAMiL,QAAQ,MAAMI,iBAAiB,CAAChG,QAAQ,QAAQyE,OAAO,oBAAoBwB,OAAO,WAAWC,YAAY,CAAC5H,SAAS,GAAGhD,WAAW,IAAIN,MAAM,oBAAoBa,MAAM,CAAC0J,UAAU,OAAOvK,MAAM,oBAAoBmL,uBAAuB,CAACzK,aAAaf,EAAMiL,QAAQ,GAAGpC,UAAU,wCAAwCxD,QAAQ,OAAOC,eAAe,gBAAgBlD,WAAW,UAAUlC,QAAQ,oBAAoBgL,OAAO,uBAAuBO,2BAA2B,CAAC/H,WAAW1D,EAAMiL,QAAQ,GAAG5F,QAAQ,OAAOC,eAAe,WAAWmE,cAAc,SAASpH,MAAM,OAAOqJ,iBAAiB,CAACrG,QAAQ,OAAOmF,WAAW,SAAStK,QAAQ,UAAUyD,SAAS,OAAOtD,MAAM,WAAWsL,UAAU,CAACjI,WAAW1D,EAAMiL,QAAQ,GAAG5K,MAAML,EAAMS,QAAQI,QAAQC,KAAKH,WAAW,IAAIgD,SAAS,OAAO2H,OAAO,WAAWM,YAAY,CAACvG,QAAQ,OAAOmF,WAAW,SAASc,OAAO,UAAUlL,aAAaJ,EAAMiL,QAAQ,GAAGC,OAAO,oBAAoBnK,aAAa,OAAOqB,WAAW,eAAe,SAASyJ,GAAS7c,GAAM,IAAI8c,EAAe9c,EAAK8c,eAAeC,EAAa/c,EAAK+c,aAAaC,EAAwBhd,EAAKgd,wBAA4BrK,EAAOoJ,KAAiB,OAAmBvjB,OAAOxB,EAAiB,IAAxBwB,CAA2B4X,GAAsB,EAAE,CAACoD,UAAUb,EAAOqJ,KAAK7I,MAAM2J,EAAexiB,SAAsB9B,OAAOxB,EAAkB,KAAzBwB,CAA4B,MAAM,CAAC2a,MAAM4J,EAAaziB,SAAS,CAAc9B,OAAOxB,EAAiB,IAAxBwB,CAA2BykB,GAAa,CAAC9J,MAAM6J,IAAuCxkB,OAAOxB,EAAiB,IAAxBwB,CAA2B0kB,GAAY,IAAiB1kB,OAAOxB,EAAiB,IAAxBwB,CAA2B2kB,GAAW,CAAChK,MAAM6J,IAAuCxkB,OAAOxB,EAAiB,IAAxBwB,CAA2BsjB,GAAU,IAAiBtjB,OAAOxB,EAAiB,IAAxBwB,CAA2B4kB,GAAW,SAAsO,SAASF,KAAc,IAAIvK,EAAOoJ,KAAqB/K,EAAMxY,OAAO6X,GAA0B,EAAjC7X,GAA2EiX,EAAjBG,KAAiDH,gBAAgB,OAAmBjX,OAAOxB,EAAiB,IAAxBwB,CAA2BgY,GAAqC,EAAE,CAACgD,UAAUb,EAAO0J,iBAAiB1H,SAAS,SAAS0I,UAAUrM,EAAMS,QAAQI,QAAQC,KAAKsC,QAAQ3E,IAAmB,SAASwN,GAAaxc,GAAO,IAAI0S,EAAM1S,EAAM0S,MAAU6H,EAAiBpL,KAAiBxG,EAAS4R,EAAiB5R,SAASsE,EAAYsN,EAAiBtN,YAAYG,EAAWmN,EAAiBnN,WAAW0B,EAAcyL,EAAiBzL,cAAc,OAAmB/W,OAAOxB,EAAiB,IAAxBwB,CAA2B8kB,GAAc,CAACzX,MAAK,EAAKsN,MAAMA,EAAM/X,KAAKgO,EAASkJ,QAAQ5E,EAAYhM,OAAOmM,EAAW0P,UAAUhO,IAAiB,SAAS4N,GAAWtc,GAAO,IAAIsS,EAAMtS,EAAMsS,MAAUqK,EAAiB5N,KAAiBvG,EAAOmU,EAAiBnU,OAAOsE,EAAU6P,EAAiB7P,UAAUM,EAASuP,EAAiBvP,SAASuB,EAAYgO,EAAiBhO,YAAY,OAAmBhX,OAAOxB,EAAiB,IAAxBwB,CAA2B8kB,GAAc,CAACzX,MAAK,EAAMsN,MAAMA,EAAM/X,KAAKiO,EAAOiJ,QAAQ3E,EAAUjM,OAAOuM,EAASsP,UAAU/N,IAAe,SAAS8N,GAAcnc,GAAO,IAAI0E,EAAK1E,EAAM0E,KAAKsN,EAAMhS,EAAMgS,MAAM/X,EAAK+F,EAAM/F,KAAKkX,EAAQnR,EAAMmR,QAAQ5Q,EAAOP,EAAMO,OAAO6b,EAAUpc,EAAMoc,UAAc5K,EAAOoJ,KAAqB1Z,EAAU7J,OAAOlE,EAAgB,SAAvBkE,EAA0B,GAAO2L,EAAW3L,OAAOpD,EAA+B,EAAtCoD,CAAyC6J,EAAU,GAAGob,EAAgBtZ,EAAW,GAAGuZ,EAAmBvZ,EAAW,GAAOlB,EAAaH,GAAqB1H,GAAUuiB,EAAYja,GAAQtI,GAAUwiB,EAAQ3a,GAAc0a,GAAa1a,EAAa9C,QAAQuB,OAAOkW,WAAWsB,KAAKC,IAAI,GAAGwE,EAAYhmB,UAAckmB,EAAgBF,GAAajc,EAAOA,EAAOoc,eAAe,WAAW,CAACC,sBAAsBJ,EAAYhmB,SAASqmB,aAAY,IAAQtc,EAAO,OAAmBlJ,OAAOxB,EAAkB,KAAzBwB,CAA4B,MAAM,CAACgb,UAAUb,EAAO6J,uBAAuBrJ,MAAMA,EAAM7Y,SAAS,CAAc9B,OAAOxB,EAAiB,IAAxBwB,CAA2B2Z,GAAY,CAACG,QAAQA,EAAQF,KAAKqL,EAAgBpL,QAAQ,WAAmB,OAAOqL,GAAmB,MAAwBllB,OAAOxB,EAAkB,KAAzBwB,CAA4B,MAAM,CAAC8B,SAAS,CAAc9B,OAAOxB,EAAiB,IAAxBwB,CAA2B8X,GAA4B,EAAE,CAACkD,UAAUb,EAAO+J,iBAAiBpiB,SAASuL,EAAK,OAAO,OAAoBrN,OAAOxB,EAAiB,IAAxBwB,CAA2B+X,GAA2B,EAAE,CAACqJ,KAAK,SAASvf,MAAMwjB,EAAgBhK,SAAS,SAAkBC,GAAG,OAAOyJ,EAAU/C,WAAW1G,EAAEC,OAAO1Z,SAAUoZ,WAAW,CAACwK,kBAAiB,EAAKvK,QAAQ,CAACwK,KAAKvL,EAAO4J,YAAYrK,MAAMS,EAAOT,aAA0B1Z,OAAOxB,EAAkB,KAAzBwB,CAA4B,MAAM,CAACgb,UAAUb,EAAO8J,2BAA2BniB,SAAS,CAAc9B,OAAOxB,EAAkB,KAAzBwB,CAA4B8X,GAA4B,EAAE,CAACkD,UAAUb,EAAO+J,iBAAiBpiB,SAAS,CAAC2I,GAAc0a,EAAY,YAAY5hB,OAAiB,OAAV6hB,QAA0B,IAAVA,OAAiB,EAAOA,EAAQxE,QAAQuE,EAAYhmB,WAAW,iBAAiBkO,GAAQ+X,EAAqBplB,OAAOxB,EAAiB,IAAxBwB,CAA2B,OAAO,CAACgb,UAAUb,EAAOgK,UAAUvI,QAAQ,WAAmB,OAAOmJ,EAAUK,IAAWtjB,SAAS,QAAQ,QAAqB9B,OAAOxB,EAAiB,IAAxBwB,CAA2B2lB,GAAY,CAAC/iB,KAAKA,EAAKgZ,QAAQ,WAAmB,OAAOsJ,GAAmB,YAAiB,SAASS,GAAY/c,GAAO,IAAIhG,EAAKgG,EAAMhG,KAAKgZ,EAAQhT,EAAMgT,QAAYzB,EAAOoJ,KAAqB/K,EAAMxY,OAAO6X,GAA0B,EAAjC7X,GAAsC,OAAmBA,OAAOxB,EAAkB,KAAzBwB,CAA4B,MAAM,CAAC4b,QAAQA,EAAQZ,UAAUb,EAAOiK,YAAYtiB,SAAS,CAAc9B,OAAOxB,EAAiB,IAAxBwB,CAA2B+b,GAAU,CAACnZ,KAAKA,EAAK+X,MAAM,CAACqB,OAAOxD,EAAMiL,QAAQ,GAAGmC,YAAYpN,EAAMiL,QAAQ,MAAmBzjB,OAAOxB,EAAiB,IAAxBwB,CAA2B6lB,GAAe,CAACjjB,KAAKA,EAAK+X,MAAM,CAACwB,SAAS,GAAGhD,WAAW,UAAW,SAAS4C,GAAUjT,GAAO,IAAIlG,EAAKkG,EAAMlG,KAAK+X,EAAM7R,EAAM6R,MAAqCe,EAAlBxZ,IAAqC7F,IAAIuG,EAAK3D,YAAY,OAAmBe,OAAOxB,EAAiB,IAAxBwB,CAA2B,MAAM,CAAC2a,MAAM,CAACkD,QAAQ,OAAOC,eAAe,SAASmE,cAAc,SAASvJ,QAAQ,WAAW5W,UAAsB,OAAZ4Z,QAA8B,IAAZA,OAAmB,EAAOA,EAAUrc,SAAsBW,OAAOxB,EAAiB,IAAxBwB,CAA2B,MAAM,CAAC8lB,IAAI,OAAOnL,MAAMA,EAAMoL,IAAgB,OAAZrK,QAA8B,IAAZA,OAAmB,EAAOA,EAAUrc,UAAuBW,OAAOxB,EAAiB,IAAxBwB,CAA2B,MAAM,CAAC2a,MAAMA,MAAW,SAASkL,GAAenW,GAAO,IAAI9M,EAAK8M,EAAM9M,KAAK+X,EAAMjL,EAAMiL,MAAUva,EAAS8B,IAAkBsW,EAAMxY,OAAO6X,GAA0B,EAAjC7X,GAA0C0b,EAAUtb,EAAS/D,IAAIuG,EAAK3D,YAAY,OAAmBe,OAAOxB,EAAiB,IAAxBwB,CAA2B8X,GAA4B,EAAE,CAAC6C,MAAM3a,OAAOmC,EAA+B,EAAtCnC,CAAyC,CAACkc,WAAW1D,EAAMiL,QAAQ,GAAGrB,YAAY5J,EAAMiL,QAAQ,IAAI9I,GAAO7Y,SAAqB,OAAZ4Z,QAA8B,IAAZA,OAAmB,EAAOA,EAAUtc,SAAU,SAASwlB,KAAa,IAAIzK,EAAOoJ,KAAqByC,EAAiB5O,KAAiBxG,EAASoV,EAAiBpV,SAASC,EAAOmV,EAAiBnV,OAAOwE,EAAW2Q,EAAiB3Q,WAAWiB,EAAS0P,EAAiB1P,SAASR,EAAqBkQ,EAAiBlQ,qBAAqBI,EAAS8P,EAAiB9P,SAA4CpK,EAAhBuC,KAA0CvC,WAAema,EAAa/a,GAAQ0F,GAAcsV,EAAWhb,GAAQ2F,GAAY1E,EAAWmC,KAAoBwC,EAAMC,GAAgBH,EAASC,GAAY4G,EAAWlJ,GAAUuC,GAAOA,EAAMrE,QAAQqE,EAAMrE,QAAQ,QAAGtJ,GAAegjB,EAAS5X,GAAUuC,GAAOA,EAAMrE,QAAQqE,EAAMrE,QAAQ,QAAGtJ,GAAeijB,EAhHvqP,WAAsB,IAAIC,EAAiBC,EAAsBC,EAAeC,EAAwBhE,EAAiBpL,KAAiBxG,EAAS4R,EAAiB5R,SAASC,EAAO2R,EAAiB3R,OAAOwE,EAAWmN,EAAiBnN,WAAWI,EAAS+M,EAAiB/M,SAA4C3J,EAAhBuC,KAA0CvC,WAAekF,EAAqBjP,IAAsBJ,EAAYqP,EAAqBrP,YAAYL,EAAU0P,EAAqB1P,UAAcmlB,EAAWnc,GAAqBsG,GAAcgG,EAAKS,KAAkBvG,EAAMC,GAAgBH,EAASC,GAAQ,OAAW,OAARC,QACzkB3N,IAAbsjB,GAAqC,OAAbA,QACjBtjB,IAAPyT,GAAkBA,EAAK,IACG,IAA1BhG,EAAS/H,OAAOgI,IAC+B,OAA/C/E,EAAWS,QAAQ3C,SAASG,OAAO7C,WACnCmO,EAAW,GAAGI,EAAS,GACf,OAAR3E,IAA4B,oBAAbA,EAAMU,WAAiRrO,KAA5L,QAAzDkjB,EAAiB1kB,EAAYtF,IAAIuU,EAAS3R,mBAAwC,IAAnBonB,GAAiF,QAA/CC,EAAsBD,EAAiB/mB,YAAsC,IAAxBgnB,OAA7D,EAAmGA,EAAsBplB,SAASrC,OAAoD,oBAAbiS,EAAMU,WAAqQrO,KAApL,QAArDojB,EAAejlB,EAAUjF,IAAIuU,EAAS3R,mBAAsC,IAAjBsnB,GAA2E,QAA3CC,EAAoBD,EAAejnB,YAAoC,IAAtBknB,OAAzD,EAA6FA,EAAoBtlB,SAAStC,KA0G6oO8nB,GAAiB5P,EA1GrnO,SAAqBW,GAAY,IAAsCX,EAAjBM,KAA2CN,SAAa6P,EAAc3mB,OAAOvC,EAAuC,EAA9CuC,CAA8DA,OAAOrD,EAAkC,EAAzCqD,CAAyDtD,EAAoBgC,EAAEgE,MAAK,SAAS4F,IAAU,OAAO5L,EAAoBgC,EAAEqE,MAAK,SAAkB0F,GAAU,OAAS,OAAOA,EAASxF,KAAKwF,EAASvF,MAAM,KAAK,EAAE,GAAG4T,EAAS,CAACrO,EAASvF,KAAK,EAAE,MAAO,OAAOuF,EAASpF,OAAO,cAASF,GAAW,KAAK,EAAE,GAAGsU,EAAW,CAAChP,EAASvF,KAAK,EAAE,MAAO,OAAOuF,EAASpF,OAAO,cAASF,GAAW,KAAK,EAAE,GAAMsU,EAAW7J,iBAAiB/E,OAAO/K,IAAa2Z,EAAW7J,iBAAiB/E,OAAO9K,GAAY,CAAC0K,EAASvF,KAAK,EAAE,MAAO,OAAOuF,EAASpF,OAAO,cAASF,GAAW,KAAK,EAAE,OAAOsF,EAASpF,OAAO,SAAS3F,EAA6B,MAAEgL,0BAA0BhL,EAAmD,4BAAEA,EAAwC,iBAAE+Z,EAAW7J,iBAAiBkJ,IAAW,KAAK,EAAE,IAAI,MAAM,OAAOrO,EAAS/E,UAAW4E,OAAa,CAACmP,IAAa,GAAIkP,EAAcngB,OAA0B,OAAOmgB,EAAcngB,OA0GuiMogB,CAAYnP,GAAgBb,EAAKS,KAAkBoP,EAAWnc,GAAqBsG,GAAciW,EAASvc,GAAqBuG,GAAYuD,EAAUqD,GAAYA,EAAW7J,iBAAqBK,EAAc/C,GAAQkJ,GAAe0K,EAAYxU,GAAqB8J,GAC58P0S,EAAiC,WAAW,IAAI5W,EAAMlQ,OAAOrD,EAAkC,EAAzCqD,CAAyDtD,EAAoBgC,EAAEgE,MAAK,SAASC,IAAW,IAAIuG,EAAOwB,EAAMqc,EAAkBC,EAAIC,EAAeC,EAAgBC,EAAeC,EAAOC,EAAYC,EAAWC,EAASC,EAAcC,EAAG,OAAO/qB,EAAoBgC,EAAEqE,MAAK,SAAmBC,GAAW,OAAS,OAAOA,EAAUC,KAAKD,EAAUE,MAAM,KAAK,EAAE,GAAM+iB,GAAeC,EAAY,CAACljB,EAAUE,KAAK,EAAE,MAAO,MAAM,IAAIjB,MAAM,qCAAqC,KAAK,EAAE,GAAG2U,EAAK,CAAC5T,EAAUE,KAAK,EAAE,MAAO,MAAM,IAAIjB,MAAM,gBAAgB,KAAK,EAAE,GAAMmS,GAAYnG,EAAe,CAACjL,EAAUE,KAAK,EAAE,MAAO,MAAM,IAAIjB,MAAM,wBAAwB,KAAK,EACxrB,OAD0rBiH,EAAO,IAAIjM,EAAQ,GAAEoY,EAAWqL,KAAKC,IAAI,GAAGsF,EAAa9mB,WAAWuL,EAAMkG,EAAS/H,OAAO7K,IAAW6S,EAAOhI,OAAO7K,GAAU+oB,EAAkBrc,EAAMvN,EAA2B,QAAEuqB,gBAAWvkB,EACz4BH,EAAUE,KAAK,GAAUlD,OAAOrD,EAAkC,EAAzCqD,CAAyDtD,EAAoBgC,EAAEgE,MAAK,SAAS4F,IAAU,IAAIqf,EAAgBC,EAAeC,EAAaC,EAAeC,EAAa,OAAOrrB,EAAoBgC,EAAEqE,MAAK,SAAkB0F,GAAU,OAAS,OAAOA,EAASxF,KAAKwF,EAASvF,MAAM,KAAK,EAAE,GAAGuU,EAAW,CAAChP,EAASvF,KAAK,EAAE,MAAO,MAAM,IAAIjB,MAAM,oBAAoB,KAAK,EAA8qB,OAA5qB0lB,EAAgB,CAACK,KAAK,IAAI/qB,EAAQ,GAAEyjB,KAAKC,IAAI,GAAGuF,EAAW/mB,UAAUqM,GAAeoL,GAAMqR,KAAK,IAAI3R,GAAU4R,KAAK,KAAKC,aAAalC,EAAa9mB,SAASipB,cAAcna,EAAc9O,SAASkpB,OAAOnS,GAAU0R,EAAenQ,EAAWtL,EAAW9P,IAAiB,OAAbob,QAAgC,IAAbA,OAAoB,EAAOA,EAAWzY,QAAQC,iBAAYkE,EAAU0kB,EAAa1B,EAASha,EAAW9P,IAAe,OAAX8pB,QAA4B,IAAXA,OAAkB,EAAOA,EAASnnB,QAAQC,iBAAYkE,EAAU2kB,EAAelX,EAAS/H,OAAO7K,GAAU+oB,EAAkB7f,UAAUuf,EAAWA,EAAWvf,eAAU/D,EAAU4kB,EAAalX,EAAOhI,OAAO7K,GAAU+oB,EAAkB7f,UAAU2f,EAASA,EAAS3f,eAAU/D,EAAUsF,EAASvF,KAAK,EAAS4I,EAAWwc,QAAQ,CAAC1X,SAASA,EAASC,OAAOA,EAAOuD,UAAUA,EAAUlL,OAAOA,EAAOye,gBAAgBA,EAAgB7Q,SAASA,EAASW,WAAWA,EAAW0O,SAASA,EACzuCyB,eAAeA,EAAeA,EAAe,GAAG5oB,aAAQmE,EAAU0kB,aAAaA,EAAaA,EAAa,GAAG7oB,aAAQmE,EAAUsjB,WAAWqB,EAAejB,SAASkB,EAAajJ,YAAYA,EAAYA,EAAY5X,eAAU/D,EAC5NolB,MAAMzS,IAAuB,KAAK,EAAE,OAAOrN,EAASpF,OAAO,SAASoF,EAASjF,MAAM,KAAK,GAAG,IAAI,MAAM,OAAOiF,EAAS/E,UAAW4E,MAFvGtI,GAEsH,KAAK,GAAsB,GAAnBgnB,EAAIhkB,EAAUQ,MAASkH,EAAM,CAAC1H,EAAUE,KAAK,GAAG,MAAO,KAAK8jB,EAAI/c,OAAO,GAAG,CAACjH,EAAUE,KAAK,GAAG,MAAO,MAAM,IAAIjB,MAAM,+CAA+C,KAAK,GAAqB,OAAlBe,EAAUE,KAAK,GAAUslB,GAAQ1c,EAAWS,QAAQ3C,SAASmd,EAAkBnW,EAAS1H,GAAQ,KAAK,GAAGie,EAAenkB,EAAUQ,KAAK4jB,EAAOD,EAAeM,GAAGJ,EAAYF,EAAevH,QAAQ0H,EAAWmB,GAAU3c,EAAWS,QAAQ3C,SAASmd,GAAmBQ,EAASD,EAAWG,GAAGD,EAAcF,EAAW1H,SAAQ6H,EAAG,IAAItqB,EAA+B,aAAO6P,IAAIoa,GAAQK,EAAGza,IAAIga,EAAI,GAAGS,IAAIA,EAAGza,IAAIua,GAAUP,EAAI,GAAGS,GAAGA,GAAIR,EAAeD,EAAI,GAAGpH,SAAStkB,KAAKkH,MAAMykB,EAAejnB,OAAO+G,GAAmC,EAA1C/G,CAA6CqnB,KAAeH,EAAgBF,EAAI,GAAGpH,SAAStkB,KAAKkH,MAAM0kB,EAAgBlnB,OAAO+G,GAAmC,EAA1C/G,CAA6CwnB,IAAgB,KAAK,GAAqB,OAAlBxkB,EAAUE,KAAK,GAAU4I,EAAWS,QAAQ3C,SAAS8e,QAAQ1B,GAAK,KAAK,GAAG,IAAI,MAAM,OAAOhkB,EAAUU,UAAWf,OAAc,OAAO,WAA+B,OAAOuN,EAAM1N,MAAMnH,KAAKoH,YAHtnC,GAGuoC,OAAmBzC,OAAOxB,EAAiB,IAAxBwB,CAA2BjD,EAAwB,EAAE,CAAC+d,QAAQ,YAAYE,UAAUb,EAAOwJ,WAAW/H,QAAQkL,EAC5yChlB,SAASskB,EAAQ,OAAO,mBAAoB,SAASoC,GAAQlmB,EAAGsB,EAAIC,EAAIC,GAAK,OAAO6kB,GAASnmB,MAAMnH,KAAKoH,WAAY,SAASkmB,KAI8K,OAJnKA,GAAS3oB,OAAOrD,EAAkC,EAAzCqD,CAAyDtD,EAAoBgC,EAAEgE,MAAK,SAASwB,EAAS0F,EAASmd,EAAkBnW,EAAS1H,GAAQ,IAAIue,EAAG7H,EAAQ,OAAOljB,EAAoBgC,EAAEqE,MAAK,SAAmB0B,GAAW,OAAS,OAAOA,EAAUxB,KAAKwB,EAAUvB,MAAM,KAAK,EACtQ,OADwQukB,EAAG,IAAItqB,EAA+B,YAAIyiB,EAAQ,CAACmH,GAC5dtiB,EAAUmkB,GAAGnB,EAAGhjB,EAAUokB,GAAG1rB,EAAiC,cAAEsH,EAAUqkB,GAAGlf,EAASG,OAAO7C,UAAUzC,EAAUskB,GAAGhC,EAAkB7f,UAAUzC,EAAUvB,KAAK,EAASxF,EAA6B,MAAEsrB,kCAAkCpf,EAASzF,YAAY,KAAK,EAG7E,OAH+EM,EAAUwkB,GAAGxkB,EAAUjB,KAAKiB,EAAUykB,GAAGxrB,EAAwC,iBAAE+G,EAAU0kB,GAAG,CAACC,WAAW3kB,EAAUqkB,GAAGO,iBAAiB5kB,EAAUskB,GAAGhhB,SAAStD,EAAUwkB,GAAGK,MAAM,IAAIC,UAAU9kB,EAAUykB,IAAIzkB,EAAU+kB,GAAG/kB,EAAUokB,GAAGY,cAAc3iB,KAAKrC,EAAUokB,GAAGpkB,EAAU0kB,IAAI1kB,EAAUmkB,GAAG5b,IAAIlG,KAAKrC,EAAUmkB,GAAGnkB,EAAU+kB,IAEtkB5Y,EAAS/H,OAAO7K,IAAWypB,EAAGza,IAAI7P,EAAiC,cAAEusB,SAAS,CAACN,WAAWxf,EAASG,OAAO7C,UAAUyiB,SAAS5C,EAAkB7f,UAAUa,SAASmB,EAAOkW,cAC5KqI,EAAGza,IAAItP,EAA6B,MAAEksB,6BAA6BlsB,EAAwC,iBAAEO,EAAiB8oB,EAAkB7f,UAAU0C,EAASG,OAAO7C,YAAmBzC,EAAUpB,OAAO,SAAS,CAACokB,GAAGA,EAAG7H,QAAQA,IAAU,KAAK,GAAG,IAAI,MAAM,OAAOnb,EAAUf,UAAWQ,QAA8B1B,MAAMnH,KAAKoH,WAAY,SAASgmB,GAAU7e,EAASmd,GAAmB,IAAIU,EAAG,IAAItqB,EAA+B,YAAuM,OAAnMsqB,EAAGza,IAAItP,EAA6B,MAAEmsB,8BAA8BnsB,EAAwC,iBAAEqpB,EAAkB7f,UAAU0C,EAASG,OAAO7C,UAAU0C,EAASG,OAAO7C,UAAU,KAAW,CAACugB,GAAGA,EAAG7H,QAAQ,IAgBroB,SAASkK,GAAKhqB,GAAO,IAAIwkB,EAAexkB,EAAMwkB,eAAeC,EAAazkB,EAAMykB,aAAaC,EAAwB1kB,EAAM0kB,wBAAwBuF,EAAcjqB,EAAMiqB,cAAcngB,EAAS9J,EAAM8J,SAAS7J,EAAUD,EAAMC,UAAU6Q,EAAS9Q,EAAM8Q,SAASC,EAAO/Q,EAAM+Q,OAAOwE,EAAWvV,EAAMuV,WAAWI,EAAS3V,EAAM2V,SAASqB,EAAShX,EAAMgX,SACrVhL,EAAW,IAAIzO,EAAU,KAAEuM,EAAS7J,GAAeyY,EAAMxY,OAAO1C,EAAoC,EAA3C0C,CAA8C+pB,GAAe,CAAC9Q,QAAQ,CAACI,QAAQ,CAACC,KAAK,UAAU0Q,aAAa,WAAW/I,UAAU,CAAC3H,KAAK,UAAU2Q,MAAM,WAAWllB,MAAM,CAACuU,KAAK,cAAc,OAAmBtZ,OAAOxB,EAAiB,IAAxBwB,CAA2BzC,EAA+B,EAAE,CAACib,MAAMA,EAAM1W,SAAsB9B,OAAOxB,EAAiB,IAAxBwB,CAA2BH,EAAyB,CAACE,UAAUA,EAAU+B,SAAsB9B,OAAOxB,EAAiB,IAAxBwB,CAA2B2J,GAAqB,CAACC,SAASA,EAAS9H,SAAsB9B,OAAOxB,EAAiB,IAAxBwB,CAA2B0L,GAAmB,CAACI,WAAWA,EAAWhK,SAAsB9B,OAAOxB,EAAiB,IAAxBwB,CAA2B6U,GAAoB,CAACjE,SAASA,EAASC,OAAOA,EAAOwE,WAAWA,EAAWI,SAASA,EAASqB,SAASA,EAAShV,SAAsB9B,OAAOxB,EAAiB,IAAxBwB,CAA2BqkB,GAAS,CAACC,eAAeA,EAAeC,aAAaA,EAAaC,wBAAwBA,cAIz4B7oB,EAAoB,KAA9B,IAGIuuB,GAAkBvuB,EAAoB,KAQoK,IAAIwuB,GAAcnqB,OAAOlD,EAA4B,EAAnCkD,EAAsC,SAASwY,GAAO,MAAM,CAACkN,KAAK,CAAC0E,UAAU,QAAQxE,YAAYpN,EAAMiL,QAAQ,GAAG4G,aAAa7R,EAAMiL,QAAQ,GAAG7I,WAAW,eAAe,SAAS0P,KAAW,IAAInQ,EAAOgQ,KAAgFI,EAA/CvqB,OAAOnD,EAAmC,EAA1CmD,GAA4EuqB,gBAAoB1gB,EAAU7J,OAAOlE,EAAgB,SAAvBkE,EAA0B,GAAO2L,EAAW3L,OAAOpD,EAA+B,EAAtCoD,CAAyC6J,EAAU,GAAG2gB,EAAY7e,EAAW,GAAG8e,EAAe9e,EAAW,GAAOpB,EAAWvK,OAAOlE,EAAgB,SAAvBkE,CAA0B,MAAM6O,EAAW7O,OAAOpD,EAA+B,EAAtCoD,CAAyCuK,EAAW,GAAGxK,EAAU8O,EAAW,GAAG6b,EAAa7b,EAAW,GAAO7N,EAAShB,OAAOlE,EAAe,QAAtBkE,EAAyB,WAAW,IAAI0N,EAAK,CAACid,oBAAoB,SAASpjB,WAAW,UAAcqjB,EAAQ,sCAA0C7gB,EAAO,IAAI7M,EAA0B,EAAE,wBAAwB0tB,GAAazmB,EAAW,IAAIhH,EAA8B,WAAEytB,EAAQld,EAAKid,qBAAgd,MAAM,CAApb,IAAIE,GAAsB1mB,EAAW4F,EAAO2D,GAAK,SAAS+Z,EAAGqD,GAAQA,EAAKP,EAAgB,UAAUhnB,OAAOunB,EAAI7rB,YAAY,CAAC6b,QAAQ,UAAgByP,EAAgB,mBAAmB,CAACzP,QAAQ,UAAUiQ,OAAoB/qB,OAAOxB,EAAiB,IAAxBwB,CAA2BjD,EAAwB,EAAE,CAAC8b,MAAM,UAAUsF,UAAU,IAAI5C,OAAO,SAAS+E,IAAI,WAAWD,KAAK,kCAAkC9c,OAAOkkB,GAAI3lB,SAAS,iCAAkDiI,KAAU,CAACwgB,IAAkBnpB,EAAUpB,OAAOpD,EAA+B,EAAtCoD,CAAyCgB,EAAS,GAAG4I,EAASxI,EAAU,GAAG2I,EAAO3I,EAAU,GAC/vD,SAAS4pB,IAA+iB,OAAniBA,EAAUhrB,OAAOrD,EAAkC,EAAzCqD,CAAyDtD,EAAoBgC,EAAEgE,MAAK,SAAS4F,IAAU,IAAI2iB,EAASrjB,EAAK,OAAOlL,EAAoBgC,EAAEqE,MAAK,SAAkB0F,GAAU,OAAS,OAAOA,EAASxF,KAAKwF,EAASvF,MAAM,KAAK,EAAkB,OAAhBuF,EAASvF,KAAK,EAAS4C,MAAM,mFAAmF,KAAK,EAAyC,OAAvCmlB,EAASxiB,EAASjF,KAAKiF,EAASvF,KAAK,EAAS+nB,EAAS9kB,OAAO,KAAK,EAAqB,OAAnByB,EAAKa,EAASjF,KAAYiF,EAASpF,OAAO,SAASuE,GAAM,KAAK,EAAE,IAAI,MAAM,OAAOa,EAAS/E,UAAW4E,QAA8B9F,MAAMnH,KAAKoH,WAAoe,OAD0sBzC,OAAOlE,EAAiB,UAAxBkE,EAA2B,YAAW,IAAI5C,EAAuC,GAAI2Q,UAAU5D,KAAKugB,KAAgB,CAACA,IACvxC1qB,OAAOlE,EAAiB,UAAxBkE,EAA2B,WAAW8E,QAAQkG,IAAI,YAAYlG,QAAQkG,IADguC,WAAoB,OAAOggB,EAAUxoB,MAAMnH,KAAKoH,WAC5wCyoB,IAAYnhB,EAAOohB,GAAG,WAAU,WAAWZ,EAAgB,mBAAmB,CAACzP,QAAQ,YAAY2P,GAAe,MAAS1gB,EAAOohB,GAAG,cAAa,WAAWZ,EAAgB,sBAAsB,CAACzP,QAAQ,SAAS2P,GAAe,QAAY,CAAC1gB,EAAOwgB,IAAkBvqB,OAAOlE,EAAiB,UAAxBkE,EAA2B,WAAW8E,QAAQkG,IAAI,eAAelG,QAAQkG,IAAIkf,IAAiBplB,QAAQkG,IAAIjL,KAAa,CAACA,IAA+BC,OAAOxB,EAAkB,KAAzBwB,CAA4BhD,EAAsB,EAAE,CAACouB,WAAU,EAAKC,QAAQ,SAASrI,WAAW,SAAShI,UAAUb,EAAOuL,KAAK5jB,SAAS,CAAc9B,OAAOxB,EAAiB,IAAxBwB,CAA2BjD,EAAwB,EAAE,CAAC+d,QAAQ,WAAWc,QAAQ,WAAmB,OAAO4O,EAA6BzgB,EAAOuhB,aAAxBvhB,EAAOwhB,WAAgC5Q,MAAM,CAACwH,SAAS,QAAQtJ,MAAM,QAAQ2S,MAAM,GAAGC,IAAI,IAAI3pB,SAAU0oB,EAAsB,aAAV,YAAyBzqB,GAAwBC,OAAOxB,EAAiB,IAAxBwB,CAA2B8pB,GAAK,CAAClgB,SAASA,EAAS7J,UAAUA,OAO1jD,IAAI8qB,GAAmC,SAASa,GAAW1rB,OAAOzD,EAA0B,EAAjCyD,CAAoC2rB,EAAkBD,GAAW,IAAI/kB,EAAO3G,OAAOxD,EAA6B,EAApCwD,CAAuC2rB,GAC9K,SAASA,EAAkBxnB,EAAW4F,EAAO2D,EAAKke,GAAe,IAAI/kB,EAAM7G,OAAO7D,EAAgC,EAAvC6D,CAA0C3E,KAAKswB,GAAmB,IAAIE,EAAU9hB,EAAsH,OAA/GlD,EAAMF,EAAOG,KAAKzL,KAAK8I,EAAW0nB,EAAUne,IAAYke,mBAAc,EAAO/kB,EAAM+kB,cAAcA,EAAqB/kB,EAA65D,OAAt5D7G,OAAO5D,EAA6B,EAApC4D,CAAuC2rB,EAAkB,CAAC,CAACG,IAAI,OAAOjqB,MAAM,WAAW,IAAIkqB,EAAM/rB,OAAOrD,EAAkC,EAAzCqD,CAAyDtD,EAAoBgC,EAAEgE,MAAK,SAASC,EAAS8kB,EAAG7H,EAAQlS,GAAM,IAAIse,EAAM,OAAOtvB,EAAoBgC,EAAEqE,MAAK,SAAmBC,GAAW,OAAS,OAAOA,EAAUC,KAAKD,EAAUE,MAAM,KAAK,EAAoC,OAAlCF,EAAUC,KAAK,EAAED,EAAUE,KAAK,EAASlD,OAAO3D,EAAqB,EAA5B2D,CAA+BA,OAAO1D,EAAgC,EAAvC0D,CAA0C2rB,EAAkBM,WAAW,OAAO5wB,MAAMyL,KAAKzL,KAAKosB,EAAG7H,EAAQlS,GAAM,KAAK,EAAiD,OAA/Cse,EAAMhpB,EAAUQ,KAAKnI,KAAKuwB,cAAcI,GAAchpB,EAAUK,OAAO,SAAS2oB,GAAO,KAAK,EAA8J,OAA5JhpB,EAAUC,KAAK,EAAED,EAAU4lB,GAAG5lB,EAAiB,MAAE,IAAMA,EAAU4lB,cAAc3mB,YAAsBkB,IAAfH,EAAU4lB,KAAgBvtB,KAAKuwB,mBAAczoB,EAAUH,EAAU4lB,IAAY5lB,EAAUK,OAAO,SAAS,IAAI,KAAK,GAAG,IAAI,MAAM,OAAOL,EAAUU,UAAWf,EAAStH,KAAK,CAAC,CAAC,EAAE,SAAuE,OAA9D,SAAciH,EAAGsB,EAAIC,GAAK,OAAOkoB,EAAMvpB,MAAMnH,KAAKoH,YAAp2B,IAAi4B,CAACqpB,IAAI,UAAUjqB,MAAM,WAAW,IAAIqqB,EAASlsB,OAAOrD,EAAkC,EAAzCqD,CAAyDtD,EAAoBgC,EAAEgE,MAAK,SAASwB,EAAS8iB,EAAItZ,GAAM,IAAoBye,EAAhBC,EAAO/wB,KAAgB,OAAOqB,EAAoBgC,EAAEqE,MAAK,SAAmB0B,GAAW,OAAS,OAAOA,EAAUxB,KAAKwB,EAAUvB,MAAM,KAAK,EAAoC,OAAlCuB,EAAUxB,KAAK,EAAEwB,EAAUvB,KAAK,EAASlD,OAAO3D,EAAqB,EAA5B2D,CAA+BA,OAAO1D,EAAgC,EAAvC0D,CAA0C2rB,EAAkBM,WAAW,UAAU5wB,MAAMyL,KAAKzL,KAAK2rB,EAAItZ,GAAM,KAAK,EAAkF,OAAhFye,EAAO1nB,EAAUjB,MAAYlD,SAAQ,SAAS+rB,GAAKD,EAAOR,cAAcS,MAAe5nB,EAAUpB,OAAO,SAAS8oB,GAAQ,KAAK,EAA8J,OAA5J1nB,EAAUxB,KAAK,EAAEwB,EAAUmkB,GAAGnkB,EAAiB,MAAE,IAAMA,EAAUmkB,cAAc3mB,YAAsBkB,IAAfsB,EAAUmkB,KAAgBvtB,KAAKuwB,mBAAczoB,EAAUsB,EAAUmkB,IAAYnkB,EAAUpB,OAAO,SAAS,IAAI,KAAK,GAAG,IAAI,MAAM,OAAOoB,EAAUf,UAAWQ,EAAS7I,KAAK,CAAC,CAAC,EAAE,SAA0E,OAAjE,SAAiByI,EAAIC,GAAK,OAAOmoB,EAAS1pB,MAAMnH,KAAKoH,YAAl5B,MAA27BkpB,EADrpE,CACyqE1uB,EAAc,UAAoCqvB,GATlwE,WAAmB,OAAmBtsB,OAAOxB,EAAiB,IAAxBwB,CAA2BnD,EAAwC,EAAE,CAAC0vB,SAAS,EAAEC,iBAAiB,IAAK1qB,SAAsB9B,OAAOxB,EAAiB,IAAxBwB,CAA2BsqB,GAAS,OAW2PmC,GAA9a,SAAyBC,GAAgBA,GAAaA,aAAuBC,UAAUhxB,EAAoB2f,EAAiB,GAAGnR,KAAKxO,EAAoBixB,KAAK,KAAM,MAAMziB,MAAK,SAAS3C,GAAM,IAAIqlB,EAAOrlB,EAAKqlB,OAAOC,EAAOtlB,EAAKslB,OAAOC,EAAOvlB,EAAKulB,OAAOC,EAAOxlB,EAAKwlB,OAAOC,EAAQzlB,EAAKylB,QAAQJ,EAAOH,GAAaI,EAAOJ,GAAaK,EAAOL,GAAaM,EAAON,GAAaO,EAAQP,OAE9YxwB,EAAkBwC,EAAEwuB,OAAoBltB,OAAOxB,EAAiB,IAAxBwB,CAA2BjE,EAAc2C,EAAEyuB,WAAW,CAACrrB,SAAsB9B,OAAOxB,EAAiB,IAAxBwB,CAA2BssB,GAAQ,MAAMc,SAASC,eAAe,SAGtLZ,OAIE,CAAC,CAAC,IAAI,EAAE"},"input":"(this[\"webpackJsonp@project-serum/swap-ui-example\"] = this[\"webpackJsonp@project-serum/swap-ui-example\"] || []).push([[0],{\n\n/***/ 221:\n/***/ (function(module) {\n\nmodule.exports = JSON.parse(\"{\\\"name\\\":\\\"QS Tokens\\\",\\\"description\\\":\\\"QS Tokens List for the various networks\\\",\\\"logoURI\\\":\\\"https://cdn.jsdelivr.net/gh/trustwallet/assets@master/blockchains/solana/info/logo.png\\\",\\\"keywords\\\":[\\\"solana\\\",\\\"spl\\\"],\\\"tags\\\":{\\\"hangzhounet\\\":{\\\"name\\\":\\\"hangzhounet\\\",\\\"description\\\":\\\"Tokens that are fixed to an external asset, e.g. the US dollar\\\"},\\\"FA12\\\":{\\\"name\\\":\\\"FA12\\\",\\\"description\\\":\\\"This is an FA12 Token\\\"},\\\"FA2\\\":{\\\"name\\\":\\\"FA2\\\",\\\"description\\\":\\\"This is an FA2 Token\\\"}},\\\"timestamp\\\":\\\"2021-03-03T19:57:21+0000\\\",\\\"tokens\\\":[{\\\"chainId\\\":101,\\\"address\\\":\\\"tez\\\",\\\"symbol\\\":\\\"TEZ\\\",\\\"name\\\":\\\"Tezos\\\",\\\"decimals\\\":6,\\\"logoURI\\\":\\\"ipfs://Qmf3brydfr8c6CKGUUu73Dd7wfBw66Zbzof5E1BWGeU222\\\",\\\"tags\\\":[\\\"hangzhounet\\\",\\\"FA12\\\"],\\\"extensions\\\":{\\\"website\\\":\\\"https://solatoken.net/\\\",\\\"telegram\\\":\\\"https://t.me/solatokennet\\\",\\\"twitter\\\":\\\"https://twitter.com/EcoSolana\\\"}},{\\\"chainId\\\":101,\\\"address\\\":\\\"KT1VowcKqZFGhdcDZA3UN1vrjBLmxV5bxgfJ\\\",\\\"symbol\\\":\\\"QUIPU\\\",\\\"name\\\":\\\"Quipuswap Governance Token\\\",\\\"decimals\\\":6,\\\"logoURI\\\":\\\"ipfs://QmcSH2iaipU1kqcQfZhV5b2CL6Rm8Q8agRwdk1xq38Y3sP\\\",\\\"tags\\\":[\\\"hangzhounet\\\",\\\"FA2\\\"],\\\"extensions\\\":{\\\"website\\\":\\\"https://solatoken.net/\\\",\\\"telegram\\\":\\\"https://t.me/solatokennet\\\",\\\"twitter\\\":\\\"https://twitter.com/EcoSolana\\\"}},{\\\"chainId\\\":101,\\\"address\\\":\\\"KT1Dr8Qf9at75uEvwN4QnGTNFfPMAr8KL4kK\\\",\\\"symbol\\\":\\\"FA12\\\",\\\"name\\\":\\\"FA12 Token\\\",\\\"decimals\\\":6,\\\"logoURI\\\":\\\"ipfs://QmcSH2iaipU1kqcQfZhV5b2CL6Rm8Q8agRwdk1xq38Y3sP\\\",\\\"tags\\\":[\\\"hangzhounet\\\",\\\"FA12\\\"],\\\"extensions\\\":{\\\"website\\\":\\\"https://solatoken.net/\\\",\\\"telegram\\\":\\\"https://t.me/solatokennet\\\",\\\"twitter\\\":\\\"https://twitter.com/EcoSolana\\\"}},{\\\"chainId\\\":101,\\\"address\\\":\\\"KT1P4m4Px5WzEnsoz9Ab22rfbcjfjegUoapA\\\",\\\"symbol\\\":\\\"FA1218\\\",\\\"name\\\":\\\"FA12 18 Decimals Token\\\",\\\"decimals\\\":18,\\\"logoURI\\\":\\\"https://upload.wikimedia.org/wikipedia/commons/d/dd/S_logo.svg\\\",\\\"tags\\\":[\\\"hangzhounet\\\",\\\"FA12\\\"],\\\"extensions\\\":{\\\"website\\\":\\\"https://solatoken.net/\\\",\\\"telegram\\\":\\\"https://t.me/solatokennet\\\",\\\"twitter\\\":\\\"https://twitter.com/EcoSolana\\\"}},{\\\"chainId\\\":101,\\\"address\\\":\\\"KT1CaWSNEnU6RR9ZMSSgD5tQtQDqdpw4sG83\\\",\\\"symbol\\\":\\\"TS\\\",\\\"name\\\":\\\"TypeScript Token\\\",\\\"decimals\\\":18,\\\"logoURI\\\":\\\"https://upload.wikimedia.org/wikipedia/commons/4/4c/Typescript_logo_2020.svg\\\",\\\"tags\\\":[\\\"hangzhounet\\\",\\\"FA2\\\"],\\\"extensions\\\":{\\\"website\\\":\\\"https://solatoken.net/\\\",\\\"telegram\\\":\\\"https://t.me/solatokennet\\\",\\\"twitter\\\":\\\"https://twitter.com/EcoSolana\\\"}},{\\\"chainId\\\":101,\\\"address\\\":\\\"KT1QGgr6k1CDf4Svd18MtKNQukboz8JzRPd5\\\",\\\"symbol\\\":\\\"RCT\\\",\\\"name\\\":\\\"React Token\\\",\\\"decimals\\\":8,\\\"logoURI\\\":\\\"https://upload.wikimedia.org/wikipedia/commons/a/a7/React-icon.svg\\\",\\\"tags\\\":[\\\"hangzhounet\\\",\\\"FA2\\\"],\\\"extensions\\\":{\\\"website\\\":\\\"https://solatoken.net/\\\",\\\"telegram\\\":\\\"https://t.me/solatokennet\\\",\\\"twitter\\\":\\\"https://twitter.com/EcoSolana\\\"}},{\\\"chainId\\\":101,\\\"address\\\":\\\"KT1FGZHSZJD5BKeW4S8ZibAnL2tJtuLACd4N\\\",\\\"symbol\\\":\\\"ANG\\\",\\\"name\\\":\\\"Angular Token\\\",\\\"decimals\\\":6,\\\"logoURI\\\":\\\"https://upload.wikimedia.org/wikipedia/commons/c/cf/Angular_full_color_logo.svg\\\",\\\"tags\\\":[\\\"hangzhounet\\\",\\\"FA2\\\"],\\\"extensions\\\":{\\\"website\\\":\\\"https://solatoken.net/\\\",\\\"telegram\\\":\\\"https://t.me/solatokennet\\\",\\\"twitter\\\":\\\"https://twitter.com/EcoSolana\\\"}},{\\\"chainId\\\":101,\\\"address\\\":\\\"KT1SaouedthKUtAujiBD232mZYGtKwpZ6mFD\\\",\\\"symbol\\\":\\\"TKR\\\",\\\"name\\\":\\\"Tinker\\\",\\\"decimals\\\":6,\\\"logoURI\\\":\\\"https://www.clipartmax.com/png/middle/143-1437191_tinkerbell-by-prove-design-tinkerbell-by-prove-design-tinker-dota-2-png.png\\\",\\\"tags\\\":[\\\"hangzhounet\\\",\\\"FA2\\\"],\\\"extensions\\\":{\\\"website\\\":\\\"https://solatoken.net/\\\",\\\"telegram\\\":\\\"https://t.me/solatokennet\\\",\\\"twitter\\\":\\\"https://twitter.com/EcoSolana\\\"}}],\\\"version\\\":{\\\"major\\\":0,\\\"minor\\\":2,\\\"patch\\\":2}}\");\n\n/***/ }),\n\n/***/ 238:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 244:\n/***/ (function(module, exports) {\n\n/* (ignored) */\n\n/***/ }),\n\n/***/ 245:\n/***/ (function(module, exports) {\n\n/* (ignored) */\n\n/***/ }),\n\n/***/ 272:\n/***/ (function(module, exports) {\n\n/* (ignored) */\n\n/***/ }),\n\n/***/ 273:\n/***/ (function(module, exports) {\n\n/* (ignored) */\n\n/***/ }),\n\n/***/ 311:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 312:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXTERNAL MODULE: ../node_modules/react/index.js\nvar react = __webpack_require__(0);\nvar react_default = /*#__PURE__*/__webpack_require__.n(react);\n\n// EXTERNAL MODULE: ../node_modules/react-dom/index.js\nvar react_dom = __webpack_require__(27);\nvar react_dom_default = /*#__PURE__*/__webpack_require__.n(react_dom);\n\n// EXTERNAL MODULE: ./src/index.css\nvar src = __webpack_require__(238);\n\n// EXTERNAL MODULE: ../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\nvar classCallCheck = __webpack_require__(6);\n\n// EXTERNAL MODULE: ../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass.js\nvar createClass = __webpack_require__(7);\n\n// EXTERNAL MODULE: ../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/get.js + 1 modules\nvar get = __webpack_require__(116);\n\n// EXTERNAL MODULE: ../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js\nvar getPrototypeOf = __webpack_require__(51);\n\n// EXTERNAL MODULE: ../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits.js\nvar inherits = __webpack_require__(19);\n\n// EXTERNAL MODULE: ../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper.js + 2 modules\nvar createSuper = __webpack_require__(20);\n\n// EXTERNAL MODULE: ../node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator/index.js\nvar regenerator = __webpack_require__(1);\nvar regenerator_default = /*#__PURE__*/__webpack_require__.n(regenerator);\n\n// EXTERNAL MODULE: ../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\nvar asyncToGenerator = __webpack_require__(3);\n\n// EXTERNAL MODULE: ../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js + 1 modules\nvar slicedToArray = __webpack_require__(11);\n\n// EXTERNAL MODULE: ../node_modules/@fontsource/roboto/index.css\nvar roboto = __webpack_require__(239);\n\n// EXTERNAL MODULE: ../node_modules/notistack/dist/notistack.esm.js + 5 modules\nvar notistack_esm = __webpack_require__(178);\n\n// EXTERNAL MODULE: ../node_modules/@material-ui/core/esm/styles/makeStyles.js\nvar makeStyles = __webpack_require__(348);\n\n// EXTERNAL MODULE: ../node_modules/@material-ui/core/esm/Button/Button.js\nvar Button = __webpack_require__(365);\n\n// EXTERNAL MODULE: ../node_modules/@material-ui/core/esm/Grid/Grid.js\nvar Grid = __webpack_require__(374);\n\n// EXTERNAL MODULE: ../node_modules/@project-serum/anchor/dist/esm/index.js + 16 modules\nvar esm = __webpack_require__(38);\n\n// EXTERNAL MODULE: ../node_modules/@project-serum/sol-wallet-adapter/dist/esm/index.js\nvar dist_esm = __webpack_require__(218);\n\n// EXTERNAL MODULE: ../node_modules/@solana/web3.js/lib/index.browser.esm.js + 4 modules\nvar index_browser_esm = __webpack_require__(4);\n\n// EXTERNAL MODULE: ../node_modules/@solana/spl-token-registry/dist/module/index.js + 1 modules\nvar dist_module = __webpack_require__(223);\n\n// EXTERNAL MODULE: ../node_modules/@project-serum/swap/lib/index.js\nvar lib = __webpack_require__(220);\n\n// EXTERNAL MODULE: ../node_modules/@material-ui/core/esm/styles/createTheme.js + 19 modules\nvar createTheme = __webpack_require__(222);\n\n// EXTERNAL MODULE: ../node_modules/@material-ui/styles/esm/ThemeProvider/ThemeProvider.js\nvar ThemeProvider = __webpack_require__(373);\n\n// EXTERNAL MODULE: ../node_modules/assert/assert.js\nvar assert = __webpack_require__(35);\n\n// EXTERNAL MODULE: ../node_modules/react-async-hook/dist/react-async-hook.esm.js\nvar react_async_hook_esm = __webpack_require__(62);\n\n// EXTERNAL MODULE: ../node_modules/@solana/spl-token/lib/index.browser.esm.js\nvar lib_index_browser_esm = __webpack_require__(30);\n\n// CONCATENATED MODULE: ../src/utils/pubkeys.ts\nvar TEZ_MINT=new index_browser_esm[\"PublicKey\"](\"AjkPkq3nsyDe1yKcbyZT7N4aK4Evv9om9tzhQD3wsRC\");var QUP_MINT=new index_browser_esm[\"PublicKey\"](\"9LzCMqDgTKYz9Drzqnpgee3SGa89up3a247ypMj2xrqM\");var DEX_PID=new index_browser_esm[\"PublicKey\"](\"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin\");var SRM_MINT=new index_browser_esm[\"PublicKey\"](\"SRMuApVNdxXokk5GT7XD5cUUgXMBCoAz2LHeuAoKWRt\");var USDC_MINT=new index_browser_esm[\"PublicKey\"](\"EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v\");var USDT_MINT=new index_browser_esm[\"PublicKey\"](\"Es9vMFrzaCERmJfrF4H2FYD4KCoNkY11McCe8BenwNYB\");// Arbitrary mint to represent SOL (not wrapped SOL).\nvar SOL_MINT=new index_browser_esm[\"PublicKey\"](\"Ejmc1UB4EsES5oAaRN63SpoxMJidt3ZGBrqrZk49vjTZ\");var WRAPPED_SOL_MINT=new index_browser_esm[\"PublicKey\"](\"So11111111111111111111111111111111111111112\");var WORM_MARKET_BASE=new index_browser_esm[\"PublicKey\"](\"6a9wpsZpZGxGhFVSQBpcTNjNjytdbSA1iUw1A5KNDxPw\");var WORM_USDC_MINT=new index_browser_esm[\"PublicKey\"](\"FVsXUnbhifqJ4LiXQEbpUtXVdB8T5ADLKqSs5t1oc54F\");var WORM_USDC_MARKET=new index_browser_esm[\"PublicKey\"](\"6nGMps9VfDjkKEwYjdSNqN1ToXkLae4VsN49fzBiDFBd\");var WORM_USDT_MINT=new index_browser_esm[\"PublicKey\"](\"9w97GdWUYYaamGwdKMKZgGzPduZJkiFizq4rz5CPXRv2\");var WORM_USDT_MARKET=new index_browser_esm[\"PublicKey\"](\"4v6e6vNXAaEunrvbqkYnKwbaWfck8a2KVR4uRAVXxVwC\");\n// EXTERNAL MODULE: ../node_modules/@project-serum/serum/lib/index.js\nvar serum_lib = __webpack_require__(67);\n\n// EXTERNAL MODULE: ../node_modules/react/jsx-runtime.js\nvar jsx_runtime = __webpack_require__(5);\n\n// CONCATENATED MODULE: ../src/context/TokenList.tsx\nvar _TokenListContext=/*#__PURE__*/react_default.a.createContext(null);// Tag in the spl-token-registry for sollet wrapped tokens.\nvar SPL_REGISTRY_SOLLET_TAG=\"wrapped-sollet\";// Tag in the spl-token-registry for wormhole wrapped tokens.\nvar SPL_REGISTRY_WORM_TAG=\"wormhole\";var SOL_TOKEN_INFO={chainId:101,address:SOL_MINT.toString(),name:\"Native SOL\",decimals:\"9\",symbol:\"SOL\",logoURI:\"https://cdn.jsdelivr.net/gh/trustwallet/assets@master/blockchains/solana/info/logo.png\",tags:[],extensions:{website:\"https://solana.com/\",serumV3Usdc:\"9wFFyRfZBsuAha4YcuxcXLKwMxJR43S7fPfQLusDBzvT\",serumV3Usdt:\"HWHvQhFmJB3NUcu1aihKmrKegfVxBEHzwVX6yZCKEsi1\",coingeckoId:\"solana\",waterfallbot:\"https://t.me/SOLwaterfall\"}};function TokenListContextProvider(props){var tokenList=Object(react[\"useMemo\"])(function(){var list=props.tokenList.filterByClusterSlug(\"mainnet-beta\").getList();// Manually add a fake SOL mint for the native token. The component is\n// opinionated in that it distinguishes between wrapped SOL and SOL.\nlist.push(SOL_TOKEN_INFO);return list;},[props.tokenList]);// Token map for quick lookup.\nvar tokenMap=Object(react[\"useMemo\"])(function(){var tokenMap=new Map();tokenList.forEach(function(t){tokenMap.set(t.address,t);});return tokenMap;},[tokenList]);// Tokens with USD(x) quoted markets.\nvar swappableTokens=Object(react[\"useMemo\"])(function(){var tokens=tokenList.filter(function(t){var _t$extensions,_t$extensions2;var isUsdxQuoted=((_t$extensions=t.extensions)===null||_t$extensions===void 0?void 0:_t$extensions.serumV3Usdt)||((_t$extensions2=t.extensions)===null||_t$extensions2===void 0?void 0:_t$extensions2.serumV3Usdc);return isUsdxQuoted;});tokens.sort(function(a,b){return a.symbol<b.symbol?-1:a.symbol>b.symbol?1:0;});return tokens;},[tokenList,tokenMap]);// Sollet wrapped tokens.\nvar _useMemo=Object(react[\"useMemo\"])(function(){var tokens=tokenList.filter(function(t){var _t$tags;var isSollet=(_t$tags=t.tags)===null||_t$tags===void 0?void 0:_t$tags.includes(SPL_REGISTRY_SOLLET_TAG);return isSollet;});tokens.sort(function(a,b){return a.symbol<b.symbol?-1:a.symbol>b.symbol?1:0;});return[tokens,new Map(tokens.map(function(t){return[t.address,t];}))];},[tokenList]),_useMemo2=Object(slicedToArray[\"a\" /* default */])(_useMemo,2),swappableTokensSollet=_useMemo2[0],solletMap=_useMemo2[1];// Wormhole wrapped tokens.\nvar _useMemo3=Object(react[\"useMemo\"])(function(){var tokens=tokenList.filter(function(t){var _t$tags2;var isSollet=(_t$tags2=t.tags)===null||_t$tags2===void 0?void 0:_t$tags2.includes(SPL_REGISTRY_WORM_TAG);return isSollet;});tokens.sort(function(a,b){return a.symbol<b.symbol?-1:a.symbol>b.symbol?1:0;});return[tokens,new Map(tokens.map(function(t){return[t.address,t];}))];},[tokenList]),_useMemo4=Object(slicedToArray[\"a\" /* default */])(_useMemo3,2),swappableTokensWormhole=_useMemo4[0],wormholeMap=_useMemo4[1];return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(_TokenListContext.Provider,{value:{tokenMap:tokenMap,wormholeMap:wormholeMap,solletMap:solletMap,swappableTokens:swappableTokens,swappableTokensWormhole:swappableTokensWormhole,swappableTokensSollet:swappableTokensSollet},children:props.children});}function useTokenListContext(){var ctx=Object(react[\"useContext\"])(_TokenListContext);if(ctx===null){throw new Error(\"Context not available\");}return ctx;}function useTokenMap(){var _useTokenListContext=useTokenListContext(),tokenMap=_useTokenListContext.tokenMap;return tokenMap;}function useSwappableTokens(){var _useTokenListContext2=useTokenListContext(),swappableTokens=_useTokenListContext2.swappableTokens,swappableTokensWormhole=_useTokenListContext2.swappableTokensWormhole,swappableTokensSollet=_useTokenListContext2.swappableTokensSollet;return{swappableTokens:swappableTokens,swappableTokensWormhole:swappableTokensWormhole,swappableTokensSollet:swappableTokensSollet};}\n// EXTERNAL MODULE: ../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\nvar objectSpread2 = __webpack_require__(16);\n\n// EXTERNAL MODULE: ../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/wrapNativeSuper.js + 2 modules\nvar wrapNativeSuper = __webpack_require__(52);\n\n// CONCATENATED MODULE: ../src/context/Sollet.tsx\n// Token info tracked by the sollet bridge.\nfunction useSolletInfo(mint){return Object(react_async_hook_esm[\"a\" /* useAsync */])(/*#__PURE__*/Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee(){return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:return _context.abrupt(\"return\",fetchSolletInfo(mint));case 1:case\"end\":return _context.stop();}}},_callee);})),[mint]);}// Fetches the token info from the sollet bridge.\nfunction fetchSolletInfo(_x){return _fetchSolletInfo.apply(this,arguments);}// Requests the creation of a sollet wormhole swap market, if it doesn't\n// already exist. Note: this triggers a creation notification. Creation\n// doesn't happen immediately, but at some unspecified point in the future\n// since market makers need to setup on the swap market and provide liquidity.\n//\n// Returns true if the market exists already. False otherwise.\nfunction _fetchSolletInfo(){_fetchSolletInfo=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee2(mint){var info,infoRaw;return regenerator_default.a.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:info=_SOLLET_INFO_CACHE.get(mint.toString());if(!(info!==undefined)){_context2.next=3;break;}return _context2.abrupt(\"return\",info);case 3:_context2.next=5;return swapApiRequest(\"GET\",\"coins/sol/\".concat(mint.toString()));case 5:infoRaw=_context2.sent;info=Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},infoRaw),{},{splMint:new index_browser_esm[\"PublicKey\"](infoRaw.splMint)});_SOLLET_INFO_CACHE.set(mint.toString(),info);return _context2.abrupt(\"return\",info);case 9:case\"end\":return _context2.stop();}}},_callee2);}));return _fetchSolletInfo.apply(this,arguments);}function requestWormholeSwapMarketIfNeeded(_x2,_x3,_x4,_x5,_x6){return _requestWormholeSwapMarketIfNeeded.apply(this,arguments);}function _requestWormholeSwapMarketIfNeeded(){_requestWormholeSwapMarketIfNeeded=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee3(connection,solletMint,wormholeMint,swapMarket,solletInfo){var cached,acc,resource;return regenerator_default.a.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:cached=_SWAP_MARKET_EXISTS_CACHE.get(swapMarket.toString());if(!(cached!==undefined)){_context3.next=3;break;}return _context3.abrupt(\"return\",cached);case 3:_context3.next=5;return connection.getAccountInfo(swapMarket);case 5:acc=_context3.sent;if(!(acc===null)){_context3.next=13;break;}_SWAP_MARKET_EXISTS_CACHE.set(swapMarket.toString(),false);resource=\"wormhole/pool/\".concat(solletInfo.ticker,\"/\").concat(swapMarket.toString(),\"/\").concat(solletMint.toString(),\"/\").concat(wormholeMint.toString());swapApiRequest(\"POST\",resource).catch(console.error);return _context3.abrupt(\"return\",false);case 13:_SWAP_MARKET_EXISTS_CACHE.set(swapMarket.toString(),true);return _context3.abrupt(\"return\",true);case 15:case\"end\":return _context3.stop();}}},_callee3);}));return _requestWormholeSwapMarketIfNeeded.apply(this,arguments);}function swapApiRequest(_x7,_x8,_x9){return _swapApiRequest.apply(this,arguments);}function _swapApiRequest(){_swapApiRequest=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee4(method,path,body){var headers,params,resp;return regenerator_default.a.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:headers={};params={headers:headers,method:method};if(method===\"GET\"){params.cache=\"no-cache\";}else if(body){headers[\"Content-Type\"]=\"application/json\";params.body=JSON.stringify(body);}_context4.next=5;return fetch(\"https://swap.sollet.io/api/\".concat(path),params);case 5:resp=_context4.sent;_context4.next=8;return handleSwapApiResponse(resp);case 8:return _context4.abrupt(\"return\",_context4.sent);case 9:case\"end\":return _context4.stop();}}},_callee4);}));return _swapApiRequest.apply(this,arguments);}function handleSwapApiResponse(_x10){return _handleSwapApiResponse.apply(this,arguments);}function _handleSwapApiResponse(){_handleSwapApiResponse=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee5(resp){var json;return regenerator_default.a.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:_context5.next=2;return resp.json();case 2:json=_context5.sent;if(json.success){_context5.next=5;break;}throw new Sollet_SwapApiError(json.error,resp.status);case 5:return _context5.abrupt(\"return\",json.result);case 6:case\"end\":return _context5.stop();}}},_callee5);}));return _handleSwapApiResponse.apply(this,arguments);}var Sollet_SwapApiError=/*#__PURE__*/function(_Error){Object(inherits[\"a\" /* default */])(SwapApiError,_Error);var _super=Object(createSuper[\"a\" /* default */])(SwapApiError);function SwapApiError(msg,status){var _this;Object(classCallCheck[\"a\" /* default */])(this,SwapApiError);_this=_super.call(this,msg);_this.name=void 0;_this.status=void 0;_this.name=\"SwapApiError\";_this.status=status;return _this;}return SwapApiError;}(/*#__PURE__*/Object(wrapNativeSuper[\"a\" /* default */])(Error));var _SOLLET_INFO_CACHE=new Map();var _SWAP_MARKET_EXISTS_CACHE=new Map();\n// EXTERNAL MODULE: ../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js + 2 modules\nvar toConsumableArray = __webpack_require__(18);\n\n// EXTERNAL MODULE: ../node_modules/buffer-layout/lib/Layout.js\nvar Layout = __webpack_require__(42);\n\n// CONCATENATED MODULE: ../src/utils/tokens.ts\n// TODO: replace this whole file with something more modern. This is all copied\n//       from sollet.\nfunction getOwnedAssociatedTokenAccounts(_x,_x2){return _getOwnedAssociatedTokenAccounts.apply(this,arguments);}function _getOwnedAssociatedTokenAccounts(){_getOwnedAssociatedTokenAccounts=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee2(connection,publicKey){var filters,resp,accs;return regenerator_default.a.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:filters=getOwnedAccountsFilters(publicKey);// @ts-ignore\n_context2.next=3;return connection.getProgramAccounts(lib_index_browser_esm[\"TOKEN_PROGRAM_ID\"],{commitment:connection.commitment,filters:filters});case 3:resp=_context2.sent;accs=resp.map(function(_ref){var pubkey=_ref.pubkey,_ref$account=_ref.account,data=_ref$account.data,executable=_ref$account.executable,owner=_ref$account.owner,lamports=_ref$account.lamports;return{publicKey:new index_browser_esm[\"PublicKey\"](pubkey),accountInfo:{data:data,executable:executable,owner:new index_browser_esm[\"PublicKey\"](owner),lamports:lamports}};}).map(function(_ref2){var publicKey=_ref2.publicKey,accountInfo=_ref2.accountInfo;return{publicKey:publicKey,account:parseTokenAccountData(accountInfo.data)};});_context2.next=7;return Promise.all(accs// @ts-ignore\n.map(/*#__PURE__*/function(){var _ref3=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee(ta){var ata;return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return lib_index_browser_esm[\"Token\"].getAssociatedTokenAddress(lib_index_browser_esm[\"ASSOCIATED_TOKEN_PROGRAM_ID\"],lib_index_browser_esm[\"TOKEN_PROGRAM_ID\"],ta.account.mint,publicKey);case 2:ata=_context.sent;return _context.abrupt(\"return\",[ta,ata]);case 4:case\"end\":return _context.stop();}}},_callee);}));return function(_x3){return _ref3.apply(this,arguments);};}()));case 7:return _context2.abrupt(\"return\",_context2.sent.filter(function(_ref4){var _ref5=Object(slicedToArray[\"a\" /* default */])(_ref4,2),ta=_ref5[0],ata=_ref5[1];return ta.publicKey.equals(ata);}).map(function(_ref6){var _ref7=Object(slicedToArray[\"a\" /* default */])(_ref6,1),ta=_ref7[0];return ta;}));case 8:case\"end\":return _context2.stop();}}},_callee2);}));return _getOwnedAssociatedTokenAccounts.apply(this,arguments);}var ACCOUNT_LAYOUT=Layout[\"struct\"]([Layout[\"blob\"](32,\"mint\"),Layout[\"blob\"](32,\"owner\"),Layout[\"nu64\"](\"amount\"),Layout[\"blob\"](93)]);function parseTokenAccountData(data){// @ts-ignore\nvar _ACCOUNT_LAYOUT$decod=ACCOUNT_LAYOUT.decode(data),mint=_ACCOUNT_LAYOUT$decod.mint,owner=_ACCOUNT_LAYOUT$decod.owner,amount=_ACCOUNT_LAYOUT$decod.amount;// @ts-ignore\nreturn{mint:new index_browser_esm[\"PublicKey\"](mint),owner:new index_browser_esm[\"PublicKey\"](owner),amount:new esm[\"BN\"](amount)};}function getOwnedAccountsFilters(publicKey){return[{memcmp:{// @ts-ignore\noffset:ACCOUNT_LAYOUT.offsetOf(\"owner\"),bytes:publicKey.toBase58()}},{dataSize:ACCOUNT_LAYOUT.span}];}\n// CONCATENATED MODULE: ../src/context/Token.tsx\nvar _TokenContext=/*#__PURE__*/react_default.a.createContext(null);function TokenContextProvider(props){var provider=props.provider;var _useState=Object(react[\"useState\"])(0),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),setRefresh=_useState2[1];// Fetch all the owned token accounts for the wallet.\nObject(react[\"useEffect\"])(function(){if(!provider.wallet.publicKey){_OWNED_TOKEN_ACCOUNTS_CACHE.length=0;setRefresh(function(r){return r+1;});return;}// Fetch SPL tokens.\ngetOwnedAssociatedTokenAccounts(provider.connection,provider.wallet.publicKey).then(function(accs){if(accs){// @ts-ignore\n_OWNED_TOKEN_ACCOUNTS_CACHE.push.apply(_OWNED_TOKEN_ACCOUNTS_CACHE,Object(toConsumableArray[\"a\" /* default */])(accs));setRefresh(function(r){return r+1;});}});// Fetch SOL balance.\nprovider.connection.getAccountInfo(provider.wallet.publicKey).then(function(acc){if(acc){_OWNED_TOKEN_ACCOUNTS_CACHE.push({publicKey:provider.wallet.publicKey,// @ts-ignore\naccount:{amount:new esm[\"BN\"](acc.lamports),mint:SOL_MINT}});setRefresh(function(r){return r+1;});}});},[provider.wallet.publicKey,provider.connection]);return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(_TokenContext.Provider,{value:{provider:provider},children:props.children});}function useTokenContext(){var ctx=Object(react[\"useContext\"])(_TokenContext);if(ctx===null){throw new Error(\"Context not available\");}return ctx;}// Null => none exists.\n// Undefined => loading.\nfunction useOwnedTokenAccount(mint){var _useTokenContext=useTokenContext(),provider=_useTokenContext.provider;var _useState3=Object(react[\"useState\"])(0),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),setRefresh=_useState4[1];var tokenAccounts=_OWNED_TOKEN_ACCOUNTS_CACHE.filter(function(account){return mint&&account.account.mint.equals(mint);});// Take the account with the most tokens in it.\ntokenAccounts.sort(function(a,b){return a.account.amount>b.account.amount?-1:a.account.amount<b.account.amount?1:0;});var tokenAccount=tokenAccounts[0];var isSol=mint===null||mint===void 0?void 0:mint.equals(SOL_MINT);// Stream updates when the balance changes.\nObject(react[\"useEffect\"])(function(){var listener;// SOL is special cased since it's not an SPL token.\nif(tokenAccount&&isSol){listener=provider.connection.onAccountChange(provider.wallet.publicKey,function(info){var token={amount:new esm[\"BN\"](info.lamports),mint:SOL_MINT};if(token.amount!==tokenAccount.account.amount){var index=_OWNED_TOKEN_ACCOUNTS_CACHE.indexOf(tokenAccount);assert[\"ok\"](index>=0);_OWNED_TOKEN_ACCOUNTS_CACHE[index].account=token;setRefresh(function(r){return r+1;});}});}// SPL tokens.\nelse if(tokenAccount){listener=provider.connection.onAccountChange(tokenAccount.publicKey,function(info){if(info.data.length!==0){try{var token=parseTokenAccountData(info.data);if(token.amount!==tokenAccount.account.amount){var index=_OWNED_TOKEN_ACCOUNTS_CACHE.indexOf(tokenAccount);assert[\"ok\"](index>=0);_OWNED_TOKEN_ACCOUNTS_CACHE[index].account=token;setRefresh(function(r){return r+1;});}}catch(error){console.log(\"Failed to decode token AccountInfo\");}}});}return function(){if(listener){provider.connection.removeAccountChangeListener(listener);}};},[provider.connection,tokenAccount]);if(mint===undefined){return undefined;}if(!isSol&&tokenAccounts.length===0){return null;}return tokenAccount;}function useMint(mint){var _useTokenContext2=useTokenContext(),provider=_useTokenContext2.provider;// Lazy load the mint account if needeed.\nvar asyncMintInfo=Object(react_async_hook_esm[\"a\" /* useAsync */])(/*#__PURE__*/Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee(){var mintClient,mintInfo;return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(mint){_context.next=2;break;}return _context.abrupt(\"return\",undefined);case 2:if(!_MINT_CACHE.get(mint.toString())){_context.next=4;break;}return _context.abrupt(\"return\",_MINT_CACHE.get(mint.toString()));case 4:mintClient=new lib_index_browser_esm[\"Token\"](provider.connection,mint,lib_index_browser_esm[\"TOKEN_PROGRAM_ID\"],new index_browser_esm[\"Account\"]());mintInfo=mintClient.getMintInfo();_MINT_CACHE.set(mint.toString(),mintInfo);return _context.abrupt(\"return\",mintInfo);case 8:case\"end\":return _context.stop();}}},_callee);})),[provider.connection,mint]);if(asyncMintInfo.result){return asyncMintInfo.result;}return undefined;}function setMintCache(pk,account){_MINT_CACHE.set(pk.toString(),new Promise(function(resolve){return resolve(account);}));}// Cache storing all token accounts for the connected wallet provider.\nvar _OWNED_TOKEN_ACCOUNTS_CACHE=[];// Cache storing all previously fetched mint infos.\n// @ts-ignore\nvar _MINT_CACHE=new Map([[SOL_MINT.toString(),{decimals:9}]]);\n// CONCATENATED MODULE: ../src/context/Dex.tsx\nvar BASE_TAKER_FEE_BPS=0.0022;var FEE_MULTIPLIER=1-BASE_TAKER_FEE_BPS;var _DexContext=/*#__PURE__*/react_default.a.createContext(null);function DexContextProvider(props){var _useState=Object(react[\"useState\"])(new Map()),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),ooAccounts=_useState2[0],setOoAccounts=_useState2[1];var swapClient=props.swapClient;// Removes the given open orders from the context.\nvar closeOpenOrders=/*#__PURE__*/function(){var _ref=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee(openOrder){var _newOoAccounts$get;var newOoAccounts,openOrders;return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:newOoAccounts=new Map(ooAccounts);openOrders=(_newOoAccounts$get=newOoAccounts.get(openOrder.market.toString()))===null||_newOoAccounts$get===void 0?void 0:_newOoAccounts$get.filter(function(oo){return!oo.address.equals(openOrder.address);});if(openOrders&&openOrders.length>0){newOoAccounts.set(openOrder.market.toString(),openOrders);}else{newOoAccounts.delete(openOrder.market.toString());}setOoAccounts(newOoAccounts);case 4:case\"end\":return _context.stop();}}},_callee);}));return function closeOpenOrders(_x){return _ref.apply(this,arguments);};}();// Three operations:\n//\n// 1. Fetch all open orders accounts for the connected wallet.\n// 2. Batch fetch all market accounts for those open orders.\n// 3. Batch fetch all mints associated with the markets.\nObject(react[\"useEffect\"])(function(){if(!swapClient.program.provider.wallet.publicKey){setOoAccounts(new Map());return;}serum_lib[\"OpenOrders\"].findForOwner(swapClient.program.provider.connection,swapClient.program.provider.wallet.publicKey,DEX_PID).then(/*#__PURE__*/function(){var _ref2=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee2(openOrders){var newOoAccounts,markets,multipleMarkets,marketClients,mintPubkeys,mints,mintInfos;return regenerator_default.a.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:newOoAccounts=new Map();markets=new Set();openOrders.forEach(function(oo){markets.add(oo.market.toString());if(newOoAccounts.get(oo.market.toString())){newOoAccounts.get(oo.market.toString()).push(oo);}else{newOoAccounts.set(oo.market.toString(),[oo]);}});if(!(markets.size>100)){_context2.next=5;break;}throw new Error(\"Too many markets. Please file an issue to update this\");case 5:_context2.next=7;return esm[\"utils\"].rpc.getMultipleAccounts(swapClient.program.provider.connection,Array.from(markets.values()).map(function(m){return new index_browser_esm[\"PublicKey\"](m);}));case 7:multipleMarkets=_context2.sent;marketClients=multipleMarkets.map(function(programAccount){return{publicKey:programAccount===null||programAccount===void 0?void 0:programAccount.publicKey,account:new serum_lib[\"Market\"](serum_lib[\"Market\"].getLayout(DEX_PID).decode(programAccount===null||programAccount===void 0?void 0:programAccount.account.data),-1,// Set below so that we can batch fetch mints.\n-1,// Set below so that we can batch fetch mints.\nswapClient.program.provider.opts,DEX_PID)};});setOoAccounts(newOoAccounts);// Batch fetch all the mints, since we know we'll need them at some\n// point.\nmintPubkeys=Array.from(new Set(marketClients.map(function(m){return[m.account.baseMintAddress.toString(),m.account.quoteMintAddress.toString()];}).flat()).values()).map(function(pk){return new index_browser_esm[\"PublicKey\"](pk);});if(!(mintPubkeys.length>100)){_context2.next=13;break;}throw new Error(\"Too many mints. Please file an issue to update this\");case 13:_context2.next=15;return esm[\"utils\"].rpc.getMultipleAccounts(swapClient.program.provider.connection,mintPubkeys);case 15:mints=_context2.sent;mintInfos=mints.map(function(mint){var mintInfo=lib_index_browser_esm[\"MintLayout\"].decode(mint.account.data);setMintCache(mint.publicKey,mintInfo);return{publicKey:mint.publicKey,mintInfo:mintInfo};});marketClients.forEach(function(m){var baseMintInfo=mintInfos.filter(function(mint){return mint.publicKey.equals(m.account.baseMintAddress);})[0];var quoteMintInfo=mintInfos.filter(function(mint){return mint.publicKey.equals(m.account.quoteMintAddress);})[0];assert[\"ok\"](baseMintInfo&&quoteMintInfo);// @ts-ignore\nm.account._baseSplTokenDecimals=baseMintInfo.mintInfo.decimals;// @ts-ignore\nm.account._quoteSplTokenDecimals=quoteMintInfo.mintInfo.decimals;_MARKET_CACHE.set(m.publicKey.toString(),new Promise(function(resolve){return resolve(m.account);}));});case 18:case\"end\":return _context2.stop();}}},_callee2);}));return function(_x2){return _ref2.apply(this,arguments);};}());},[swapClient.program.provider.connection,swapClient.program.provider.wallet.publicKey,swapClient.program.provider.opts]);return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(_DexContext.Provider,{value:{openOrders:ooAccounts,closeOpenOrders:closeOpenOrders,swapClient:swapClient},children:props.children});}function useDexContext(){var ctx=Object(react[\"useContext\"])(_DexContext);if(ctx===null){throw new Error(\"Context not available\");}return ctx;}function useOpenOrders(){var ctx=useDexContext();return ctx.openOrders;}// Lazy load a given market.\nfunction useMarket(market){var _useDexContext=useDexContext(),swapClient=_useDexContext.swapClient;var asyncMarket=Object(react_async_hook_esm[\"a\" /* useAsync */])(/*#__PURE__*/Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee4(){var marketClient;return regenerator_default.a.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:if(market){_context4.next=2;break;}return _context4.abrupt(\"return\",undefined);case 2:if(!_MARKET_CACHE.get(market.toString())){_context4.next=4;break;}return _context4.abrupt(\"return\",_MARKET_CACHE.get(market.toString()));case 4:marketClient=new Promise(/*#__PURE__*/function(){var _ref4=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee3(resolve){var marketClient;return regenerator_default.a.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return serum_lib[\"Market\"].load(swapClient.program.provider.connection,market,swapClient.program.provider.opts,DEX_PID);case 2:marketClient=_context3.sent;resolve(marketClient);case 4:case\"end\":return _context3.stop();}}},_callee3);}));return function(_x3){return _ref4.apply(this,arguments);};}());_MARKET_CACHE.set(market.toString(),marketClient);return _context4.abrupt(\"return\",marketClient);case 7:case\"end\":return _context4.stop();}}},_callee4);})),[swapClient.program.provider.connection,market]);if(asyncMarket.result){return asyncMarket.result;}return undefined;}// Lazy load the orderbook for a given market.\nfunction useOrderbook(market){var _useDexContext2=useDexContext(),swapClient=_useDexContext2.swapClient;var marketClient=useMarket(market);var _useState3=Object(react[\"useState\"])(0),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),refresh=_useState4[0],setRefresh=_useState4[1];var asyncOrderbook=Object(react_async_hook_esm[\"a\" /* useAsync */])(/*#__PURE__*/Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee6(){var orderbook;return regenerator_default.a.wrap(function _callee6$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:if(!(!market||!marketClient)){_context6.next=2;break;}return _context6.abrupt(\"return\",undefined);case 2:if(!_ORDERBOOK_CACHE.get(market.toString())){_context6.next=4;break;}return _context6.abrupt(\"return\",_ORDERBOOK_CACHE.get(market.toString()));case 4:orderbook=new Promise(/*#__PURE__*/function(){var _ref6=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee5(resolve){var _yield$Promise$all,_yield$Promise$all2,bids,asks;return regenerator_default.a.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:_context5.next=2;return Promise.all([marketClient.loadBids(swapClient.program.provider.connection),marketClient.loadAsks(swapClient.program.provider.connection)]);case 2:_yield$Promise$all=_context5.sent;_yield$Promise$all2=Object(slicedToArray[\"a\" /* default */])(_yield$Promise$all,2);bids=_yield$Promise$all2[0];asks=_yield$Promise$all2[1];resolve({bids:bids,asks:asks});case 7:case\"end\":return _context5.stop();}}},_callee5);}));return function(_x4){return _ref6.apply(this,arguments);};}());_ORDERBOOK_CACHE.set(market.toString(),orderbook);return _context6.abrupt(\"return\",orderbook);case 7:case\"end\":return _context6.stop();}}},_callee6);})),[refresh,swapClient.program.provider.connection,market,marketClient]);// Stream in bids updates.\nObject(react[\"useEffect\"])(function(){var listener;if(marketClient===null||marketClient===void 0?void 0:marketClient.bidsAddress){listener=swapClient.program.provider.connection.onAccountChange(marketClient===null||marketClient===void 0?void 0:marketClient.bidsAddress,/*#__PURE__*/function(){var _ref7=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee7(info){var bids,orderbook,oldBestBid,newBestBid;return regenerator_default.a.wrap(function _callee7$(_context7){while(1){switch(_context7.prev=_context7.next){case 0:bids=serum_lib[\"Orderbook\"].decode(marketClient,info.data);_context7.next=3;return _ORDERBOOK_CACHE.get(marketClient.address.toString());case 3:orderbook=_context7.sent;oldBestBid=orderbook===null||orderbook===void 0?void 0:orderbook.bids.items(true).next().value;newBestBid=bids.items(true).next().value;if(orderbook&&oldBestBid&&newBestBid&&oldBestBid.price!==newBestBid.price){orderbook.bids=bids;setRefresh(function(r){return r+1;});}case 7:case\"end\":return _context7.stop();}}},_callee7);}));return function(_x5){return _ref7.apply(this,arguments);};}());}return function(){if(listener){swapClient.program.provider.connection.removeAccountChangeListener(listener);}};},[marketClient,marketClient===null||marketClient===void 0?void 0:marketClient.bidsAddress,swapClient.program.provider.connection]);// Stream in asks updates.\nObject(react[\"useEffect\"])(function(){var listener;if(marketClient===null||marketClient===void 0?void 0:marketClient.asksAddress){listener=swapClient.program.provider.connection.onAccountChange(marketClient===null||marketClient===void 0?void 0:marketClient.asksAddress,/*#__PURE__*/function(){var _ref8=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee8(info){var asks,orderbook,oldBestOffer,newBestOffer;return regenerator_default.a.wrap(function _callee8$(_context8){while(1){switch(_context8.prev=_context8.next){case 0:asks=serum_lib[\"Orderbook\"].decode(marketClient,info.data);_context8.next=3;return _ORDERBOOK_CACHE.get(marketClient.address.toString());case 3:orderbook=_context8.sent;oldBestOffer=orderbook===null||orderbook===void 0?void 0:orderbook.asks.items(false).next().value;newBestOffer=asks.items(false).next().value;if(orderbook&&oldBestOffer&&newBestOffer&&oldBestOffer.price!==newBestOffer.price){orderbook.asks=asks;setRefresh(function(r){return r+1;});}case 7:case\"end\":return _context8.stop();}}},_callee8);}));return function(_x6){return _ref8.apply(this,arguments);};}());}return function(){if(listener){swapClient.program.provider.connection.removeAccountChangeListener(listener);}};},[marketClient,marketClient===null||marketClient===void 0?void 0:marketClient.bidsAddress,swapClient.program.provider.connection]);if(asyncOrderbook.result){return asyncOrderbook.result;}return undefined;}function useMarketName(market){var _tokenMap$get,_tokenMap$get2;var tokenMap=useTokenMap();var marketClient=useMarket(market);if(!marketClient){return null;}var baseTicker=marketClient?(_tokenMap$get=tokenMap.get(marketClient===null||marketClient===void 0?void 0:marketClient.baseMintAddress.toString()))===null||_tokenMap$get===void 0?void 0:_tokenMap$get.symbol:\"-\";var quoteTicker=marketClient?(_tokenMap$get2=tokenMap.get(marketClient===null||marketClient===void 0?void 0:marketClient.quoteMintAddress.toString()))===null||_tokenMap$get2===void 0?void 0:_tokenMap$get2.symbol:\"-\";var name=\"\".concat(baseTicker,\" / \").concat(quoteTicker);return name;}// Fair price for a given market, as defined by the mid.\nfunction useBbo(market){var orderbook=useOrderbook(market);if(orderbook===undefined){return undefined;}var bestBid=orderbook.bids.items(true).next().value;var bestOffer=orderbook.asks.items(false).next().value;if(!bestBid&&!bestOffer){return{};}if(!bestBid){return{bestOffer:bestOffer.price};}if(!bestOffer){return{bestBid:bestBid.price};}var mid=(bestBid.price+bestOffer.price)/2.0;return{bestBid:bestBid.price,bestOffer:bestOffer.price,mid:mid};}// Fair price for a theoretical toMint/fromMint market. I.e., the number\n// of `fromMint` tokens to purchase a single `toMint` token. Aggregates\n// across a trade route, if needed.\nfunction useFairRoute(fromMint,toMint){var route=useRoute(fromMint,toMint);var fromBbo=useBbo(route?route[0]:undefined);var fromMarket=useMarket(route?route[0]:undefined);var toBbo=useBbo(route?route[1]:undefined);if(route===null){return undefined;}if(route.length===1&&fromBbo!==undefined){if(fromMarket===undefined){return undefined;}if((fromMarket===null||fromMarket===void 0?void 0:fromMarket.baseMintAddress.equals(fromMint))||(fromMarket===null||fromMarket===void 0?void 0:fromMarket.baseMintAddress.equals(WRAPPED_SOL_MINT))&&fromMint.equals(SOL_MINT)){return fromBbo.bestBid&&1.0/fromBbo.bestBid;}else{return fromBbo.bestOffer&&fromBbo.bestOffer;}}if(fromBbo===undefined||fromBbo.bestBid===undefined||toBbo===undefined||toBbo.bestOffer===undefined){return undefined;}return toBbo.bestOffer/fromBbo.bestBid;}function useRoute(fromMint,toMint){var route=useRouteVerbose(fromMint,toMint);if(route===null){return null;}return route.markets;}// Types of routes.\n//\n// 1. Direct trades on USDC quoted markets.\n// 2. Transitive trades across two USDC qutoed markets.\n// 3. Wormhole <-> Sollet one-to-one swap markets.\n// 4. Wormhole <-> Native one-to-one swap markets.\n//\nfunction useRouteVerbose(fromMint,toMint){var _useDexContext3=useDexContext(),swapClient=_useDexContext3.swapClient;var _useTokenListContext=useTokenListContext(),wormholeMap=_useTokenListContext.wormholeMap,solletMap=_useTokenListContext.solletMap;var asyncRoute=Object(react_async_hook_esm[\"a\" /* useAsync */])(/*#__PURE__*/Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee9(){var swapMarket,_swapMarket,wormholeMarket,_kind,markets,kind;return regenerator_default.a.wrap(function _callee9$(_context9){while(1){switch(_context9.prev=_context9.next){case 0:_context9.next=2;return wormholeSwapMarket(swapClient.program.provider.connection,fromMint,toMint,wormholeMap,solletMap);case 2:swapMarket=_context9.sent;if(!(swapMarket!==null)){_context9.next=6;break;}_swapMarket=Object(slicedToArray[\"a\" /* default */])(swapMarket,2),wormholeMarket=_swapMarket[0],_kind=_swapMarket[1];return _context9.abrupt(\"return\",{markets:[wormholeMarket],kind:_kind});case 6:markets=swapClient.route(fromMint.equals(SOL_MINT)?WRAPPED_SOL_MINT:fromMint,toMint.equals(SOL_MINT)?WRAPPED_SOL_MINT:toMint);if(!(markets===null)){_context9.next=9;break;}return _context9.abrupt(\"return\",null);case 9:kind=\"usdx\";return _context9.abrupt(\"return\",{markets:markets,kind:kind});case 11:case\"end\":return _context9.stop();}}},_callee9);})),[fromMint,toMint,swapClient]);if(asyncRoute.result){return asyncRoute.result;}return null;}// Maps fromMint || toMint (in sort order) to swap market public key.\n// All markets for wormhole<->native tokens should be here, e.g.\n// USDC <-> wUSDC.\nvar WORMHOLE_NATIVE_MAP=new Map([[wormKey(WORM_USDC_MINT,USDC_MINT),WORM_USDC_MARKET],[wormKey(WORM_USDT_MINT,USDT_MINT),WORM_USDT_MARKET]]);function wormKey(fromMint,toMint){var _ref10=fromMint<toMint?[fromMint,toMint]:[toMint,fromMint],_ref11=Object(slicedToArray[\"a\" /* default */])(_ref10,2),first=_ref11[0],second=_ref11[1];return first.toString()+second.toString();}function wormholeSwapMarket(_x7,_x8,_x9,_x10,_x11){return _wormholeSwapMarket.apply(this,arguments);}function _wormholeSwapMarket(){_wormholeSwapMarket=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee10(conn,fromMint,toMint,wormholeMap,solletMap){var market;return regenerator_default.a.wrap(function _callee10$(_context10){while(1){switch(_context10.prev=_context10.next){case 0:market=wormholeNativeMarket(fromMint,toMint);if(!(market!==null)){_context10.next=3;break;}return _context10.abrupt(\"return\",[market,\"wormhole-native\"]);case 3:_context10.next=5;return wormholeSolletMarket(conn,fromMint,toMint,wormholeMap,solletMap);case 5:market=_context10.sent;if(!(market===null)){_context10.next=8;break;}return _context10.abrupt(\"return\",null);case 8:return _context10.abrupt(\"return\",[market,\"wormhole-sollet\"]);case 9:case\"end\":return _context10.stop();}}},_callee10);}));return _wormholeSwapMarket.apply(this,arguments);}function wormholeNativeMarket(fromMint,toMint){var _WORMHOLE_NATIVE_MAP$;return(_WORMHOLE_NATIVE_MAP$=WORMHOLE_NATIVE_MAP.get(wormKey(fromMint,toMint)))!==null&&_WORMHOLE_NATIVE_MAP$!==void 0?_WORMHOLE_NATIVE_MAP$:null;}// Returns the market address of the 1-1 sollet<->wormhole swap market if it\n// exists. Otherwise, returns null.\nfunction wormholeSolletMarket(_x12,_x13,_x14,_x15,_x16){return _wormholeSolletMarket.apply(this,arguments);}// Calculates the deterministic address for the sollet<->wormhole 1-1 swap\n// market.\nfunction _wormholeSolletMarket(){_wormholeSolletMarket=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee11(conn,fromMint,toMint,wormholeMap,solletMap){var fromWormhole,isFromWormhole,toWormhole,isToWormhole,fromSollet,isFromSollet,toSollet,isToSollet,_extensions,base,_ref12,_ref13,quote,wormholeInfo,solletInfo,market,marketExists;return regenerator_default.a.wrap(function _callee11$(_context11){while(1){switch(_context11.prev=_context11.next){case 0:fromWormhole=wormholeMap.get(fromMint.toString());isFromWormhole=fromWormhole!==undefined;toWormhole=wormholeMap.get(toMint.toString());isToWormhole=toWormhole!==undefined;fromSollet=solletMap.get(fromMint.toString());isFromSollet=fromSollet!==undefined;toSollet=solletMap.get(toMint.toString());isToSollet=toSollet!==undefined;if(!((isFromWormhole||isToWormhole)&&isFromWormhole!==isToWormhole)){_context11.next=28;break;}if(!((isFromSollet||isToSollet)&&isFromSollet!==isToSollet)){_context11.next=28;break;}base=isFromSollet?fromMint:toMint;_ref12=isFromWormhole?[fromMint,fromWormhole]:[toMint,toWormhole],_ref13=Object(slicedToArray[\"a\" /* default */])(_ref12,2),quote=_ref13[0],wormholeInfo=_ref13[1];_context11.next=14;return fetchSolletInfo(base);case 14:solletInfo=_context11.sent;if(!(solletInfo.erc20Contract!==((_extensions=wormholeInfo.extensions)===null||_extensions===void 0?void 0:_extensions.address))){_context11.next=17;break;}return _context11.abrupt(\"return\",null);case 17:_context11.next=19;return deriveWormholeMarket(base,quote);case 19:market=_context11.sent;if(!(market===null)){_context11.next=22;break;}return _context11.abrupt(\"return\",null);case 22:_context11.next=24;return requestWormholeSwapMarketIfNeeded(conn,base,quote,market,solletInfo);case 24:marketExists=_context11.sent;if(marketExists){_context11.next=27;break;}return _context11.abrupt(\"return\",null);case 27:return _context11.abrupt(\"return\",market);case 28:return _context11.abrupt(\"return\",null);case 29:case\"end\":return _context11.stop();}}},_callee11);}));return _wormholeSolletMarket.apply(this,arguments);}function deriveWormholeMarket(_x17,_x18){return _deriveWormholeMarket.apply(this,arguments);}function _deriveWormholeMarket(){_deriveWormholeMarket=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee12(baseMint,quoteMint){var version,padToTwo,seed,_args12=arguments;return regenerator_default.a.wrap(function _callee12$(_context12){while(1){switch(_context12.prev=_context12.next){case 0:version=_args12.length>2&&_args12[2]!==undefined?_args12[2]:0;if(!(version>99)){_context12.next=4;break;}console.log(\"Swap market version cannot be greater than 99\");return _context12.abrupt(\"return\",null);case 4:if(!(version<0)){_context12.next=7;break;}console.log(\"Version cannot be less than zero\");return _context12.abrupt(\"return\",null);case 7:padToTwo=function padToTwo(n){return n<=99?\"0\".concat(n).slice(-2):n;};seed=baseMint.toString().slice(0,15)+quoteMint.toString().slice(0,15)+padToTwo(version);_context12.next=11;return index_browser_esm[\"PublicKey\"].createWithSeed(WORM_MARKET_BASE,seed,DEX_PID);case 11:return _context12.abrupt(\"return\",_context12.sent);case 12:case\"end\":return _context12.stop();}}},_callee12);}));return _deriveWormholeMarket.apply(this,arguments);}var _ORDERBOOK_CACHE=new Map();var _MARKET_CACHE=new Map();\n// CONCATENATED MODULE: ../src/context/Swap.tsx\nvar DEFAULT_SLIPPAGE_PERCENT=0.5;var _SwapContext=/*#__PURE__*/react_default.a.createContext(null);function SwapContextProvider(props){var _props$fromMint,_props$toMint,_props$fromAmount,_props$toAmount;var _useState=Object(react[\"useState\"])((_props$fromMint=props.fromMint)!==null&&_props$fromMint!==void 0?_props$fromMint:TEZ_MINT),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),fromMint=_useState2[0],setFromMint=_useState2[1];var _useState3=Object(react[\"useState\"])((_props$toMint=props.toMint)!==null&&_props$toMint!==void 0?_props$toMint:QUP_MINT),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),toMint=_useState4[0],setToMint=_useState4[1];var _useState5=Object(react[\"useState\"])((_props$fromAmount=props.fromAmount)!==null&&_props$fromAmount!==void 0?_props$fromAmount:0),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),fromAmount=_useState6[0],_setFromAmount=_useState6[1];var _useState7=Object(react[\"useState\"])((_props$toAmount=props.toAmount)!==null&&_props$toAmount!==void 0?_props$toAmount:0),_useState8=Object(slicedToArray[\"a\" /* default */])(_useState7,2),toAmount=_useState8[0],_setToAmount=_useState8[1];var _useState9=Object(react[\"useState\"])(false),_useState10=Object(slicedToArray[\"a\" /* default */])(_useState9,2),isClosingNewAccounts=_useState10[0],setIsClosingNewAccounts=_useState10[1];var _useState11=Object(react[\"useState\"])(false),_useState12=Object(slicedToArray[\"a\" /* default */])(_useState11,2),isStrict=_useState12[0],setIsStrict=_useState12[1];var _useState13=Object(react[\"useState\"])(DEFAULT_SLIPPAGE_PERCENT),_useState14=Object(slicedToArray[\"a\" /* default */])(_useState13,2),slippage=_useState14[0],setSlippage=_useState14[1];var _useState15=Object(react[\"useState\"])(null),_useState16=Object(slicedToArray[\"a\" /* default */])(_useState15,2),fairOverride=_useState16[0],setFairOverride=_useState16[1];var fair=_useSwapFair(fromMint,toMint,fairOverride);var referral=props.referral;assert[\"ok\"](slippage>=0);Object(react[\"useEffect\"])(function(){if(!fair){return;}setFromAmount(fromAmount);},[fair]);var swapToFromMints=function swapToFromMints(){var oldFrom=fromMint;var oldTo=toMint;var oldToAmount=toAmount;_setFromAmount(oldToAmount);setFromMint(oldTo);setToMint(oldFrom);};var setFromAmount=function setFromAmount(amount){if(fair===undefined){_setFromAmount(0);_setToAmount(0);return;}_setFromAmount(amount);_setToAmount(FEE_MULTIPLIER*(amount/fair));};var setToAmount=function setToAmount(amount){if(fair===undefined){_setFromAmount(0);_setToAmount(0);return;}_setToAmount(amount);_setFromAmount(amount*fair/FEE_MULTIPLIER);};return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(_SwapContext.Provider,{value:{fromMint:fromMint,setFromMint:setFromMint,toMint:toMint,setToMint:setToMint,fromAmount:fromAmount,setFromAmount:setFromAmount,toAmount:toAmount,setToAmount:setToAmount,swapToFromMints:swapToFromMints,slippage:slippage,setSlippage:setSlippage,fairOverride:fairOverride,setFairOverride:setFairOverride,isClosingNewAccounts:isClosingNewAccounts,isStrict:isStrict,setIsStrict:setIsStrict,setIsClosingNewAccounts:setIsClosingNewAccounts,referral:referral},children:props.children});}function useSwapContext(){var ctx=Object(react[\"useContext\"])(_SwapContext);if(ctx===null){throw new Error(\"Context not available\");}return ctx;}function useSwapFair(){var _useSwapContext=useSwapContext(),fairOverride=_useSwapContext.fairOverride,fromMint=_useSwapContext.fromMint,toMint=_useSwapContext.toMint;return _useSwapFair(fromMint,toMint,fairOverride);}function _useSwapFair(fromMint,toMint,fairOverride){var fairRoute=useFairRoute(fromMint,toMint);var fair=fairOverride===null?fairRoute:fairOverride;return fair;}// Returns true if the user can swap with the current context.\nfunction useCanSwap(){var _wormholeMap$get,_wormholeMap$get$tags,_solletMap$get,_solletMap$get$tags;var _useSwapContext2=useSwapContext(),fromMint=_useSwapContext2.fromMint,toMint=_useSwapContext2.toMint,fromAmount=_useSwapContext2.fromAmount,toAmount=_useSwapContext2.toAmount;var _useDexContext=useDexContext(),swapClient=_useDexContext.swapClient;var _useTokenListContext=useTokenListContext(),wormholeMap=_useTokenListContext.wormholeMap,solletMap=_useTokenListContext.solletMap;var fromWallet=useOwnedTokenAccount(fromMint);var fair=useSwapFair();var route=useRouteVerbose(fromMint,toMint);if(route===null){return false;}return(// From wallet exists.\nfromWallet!==undefined&&fromWallet!==null&&// Fair price is defined.\nfair!==undefined&&fair>0&&// Mints are distinct.\nfromMint.equals(toMint)===false&&// Wallet is connected.\nswapClient.program.provider.wallet.publicKey!==null&&// Trade amounts greater than zero.\nfromAmount>0&&toAmount>0&&// Trade route exists.\nroute!==null&&(route.kind!==\"wormhole-native\"||((_wormholeMap$get=wormholeMap.get(fromMint.toString()))===null||_wormholeMap$get===void 0?void 0:(_wormholeMap$get$tags=_wormholeMap$get.tags)===null||_wormholeMap$get$tags===void 0?void 0:_wormholeMap$get$tags.includes(SPL_REGISTRY_WORM_TAG))!==undefined)&&(route.kind!==\"wormhole-sollet\"||((_solletMap$get=solletMap.get(fromMint.toString()))===null||_solletMap$get===void 0?void 0:(_solletMap$get$tags=_solletMap$get.tags)===null||_solletMap$get$tags===void 0?void 0:_solletMap$get$tags.includes(SPL_REGISTRY_SOLLET_TAG))!==undefined));}function useReferral(fromMarket){var _useSwapContext3=useSwapContext(),referral=_useSwapContext3.referral;var asyncReferral=Object(react_async_hook_esm[\"a\" /* useAsync */])(/*#__PURE__*/Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee(){return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(referral){_context.next=2;break;}return _context.abrupt(\"return\",undefined);case 2:if(fromMarket){_context.next=4;break;}return _context.abrupt(\"return\",undefined);case 4:if(!(!fromMarket.quoteMintAddress.equals(USDC_MINT)&&!fromMarket.quoteMintAddress.equals(USDT_MINT))){_context.next=6;break;}return _context.abrupt(\"return\",undefined);case 6:return _context.abrupt(\"return\",lib_index_browser_esm[\"Token\"].getAssociatedTokenAddress(lib_index_browser_esm[\"ASSOCIATED_TOKEN_PROGRAM_ID\"],lib_index_browser_esm[\"TOKEN_PROGRAM_ID\"],fromMarket.quoteMintAddress,referral));case 7:case\"end\":return _context.stop();}}},_callee);})),[fromMarket]);if(!asyncReferral.result){return undefined;}return asyncReferral.result;}\n// EXTERNAL MODULE: ../node_modules/@material-ui/core/esm/Card/Card.js\nvar Card = __webpack_require__(371);\n\n// EXTERNAL MODULE: ../node_modules/@material-ui/core/esm/styles/useTheme.js\nvar useTheme = __webpack_require__(48);\n\n// EXTERNAL MODULE: ../node_modules/@material-ui/core/esm/Typography/Typography.js\nvar Typography = __webpack_require__(160);\n\n// EXTERNAL MODULE: ../node_modules/@material-ui/core/esm/TextField/TextField.js + 4 modules\nvar TextField = __webpack_require__(377);\n\n// EXTERNAL MODULE: ../node_modules/@material-ui/icons/esm/ImportExportRounded.js\nvar ImportExportRounded = __webpack_require__(372);\n\n// EXTERNAL MODULE: ../node_modules/@material-ui/core/esm/Dialog/Dialog.js + 2 modules\nvar Dialog = __webpack_require__(378);\n\n// EXTERNAL MODULE: ../node_modules/@material-ui/core/esm/DialogTitle/DialogTitle.js\nvar DialogTitle = __webpack_require__(350);\n\n// EXTERNAL MODULE: ../node_modules/@material-ui/core/esm/DialogContent/DialogContent.js\nvar DialogContent = __webpack_require__(354);\n\n// EXTERNAL MODULE: ../node_modules/@material-ui/core/esm/List/List.js\nvar List = __webpack_require__(353);\n\n// EXTERNAL MODULE: ../node_modules/@material-ui/core/esm/ListItem/ListItem.js\nvar ListItem = __webpack_require__(315);\n\n// EXTERNAL MODULE: ../node_modules/@material-ui/core/esm/useMediaQuery/useMediaQuery.js\nvar useMediaQuery = __webpack_require__(349);\n\n// CONCATENATED MODULE: ../src/components/TokenDialog.tsx\nvar useStyles=Object(makeStyles[\"a\" /* default */])(function(theme){return{dialogContent:{padding:0},textField:{marginBottom:\"8px\",color:\"#fff\"},tab:{minWidth:\"134px\"},tabSelected:{color:theme.palette.grey[50],fontWeight:700,backgroundColor:theme.palette.primary.main,borderRadius:\"10px\"},tabIndicator:{opacity:0},input:{color:\"white !important\"}};});function TokenDialog(_ref){var open=_ref.open,onClose=_ref.onClose,setMint=_ref.setMint;var _useState=Object(react[\"useState\"])(0),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),tabSelection=_useState2[0],setTabSelection=_useState2[1];var _useState3=Object(react[\"useState\"])(\"\"),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),tokenFilter=_useState4[0],setTokenFilter=_useState4[1];var filter=tokenFilter.toLowerCase();var styles=useStyles();var _useSwappableTokens=useSwappableTokens(),swappableTokens=_useSwappableTokens.swappableTokens,swappableTokensSollet=_useSwappableTokens.swappableTokensSollet,swappableTokensWormhole=_useSwappableTokens.swappableTokensWormhole;var displayTabs=!Object(useMediaQuery[\"a\" /* default */])(\"(max-width:450px)\");var selectedTokens=tabSelection===0?swappableTokens:tabSelection===1?swappableTokensWormhole:swappableTokensSollet;var tokens=tokenFilter===\"\"?selectedTokens:selectedTokens.filter(function(t){return t.symbol.toLowerCase().startsWith(filter)||t.name.toLowerCase().startsWith(filter)||t.address.toLowerCase().startsWith(filter);});return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Dialog[\"a\" /* default */],{open:open,onClose:onClose,scroll:\"paper\",PaperProps:{style:{borderRadius:\"10px\",background:\"#22242a\",color:\"white !important\",width:\"420px\"}},children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(DialogTitle[\"a\" /* default */],{style:{fontWeight:\"bold\"},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Typography[\"a\" /* default */],{variant:\"h6\",style:{paddingBottom:\"16px\",color:\"white\"},children:\"Select a token\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(TextField[\"a\" /* default */],{className:styles.textField,InputProps:{classes:{input:styles.input}},placeholder:\"Search name\",value:tokenFilter,fullWidth:true,variant:\"outlined\",onChange:function onChange(e){return setTokenFilter(e.target.value);}})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(DialogContent[\"a\" /* default */],{className:styles.dialogContent,dividers:true,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(List[\"a\" /* default */],{disablePadding:true,children:tokens.map(function(tokenInfo){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(TokenListItem,{tokenInfo:tokenInfo,onClick:function onClick(mint){setMint(mint);onClose();}},tokenInfo.address);})})})]});}function TokenListItem(_ref2){var tokenInfo=_ref2.tokenInfo,_onClick=_ref2.onClick;var mint=new index_browser_esm[\"PublicKey\"](tokenInfo.address);return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(ListItem[\"a\" /* default */],{button:true,onClick:function onClick(){return _onClick(mint);},style:{padding:\"10px 20px\"},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(TokenIcon,{mint:mint,style:{height:\"30px\",borderRadius:\"15px\",color:\"white\"}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(TokenName,{tokenInfo:tokenInfo})]});}function TokenName(_ref3){var tokenInfo=_ref3.tokenInfo;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{style:{marginLeft:\"16px\"},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Typography[\"a\" /* default */],{style:{fontWeight:\"bold\",color:\"#fff\"},children:tokenInfo===null||tokenInfo===void 0?void 0:tokenInfo.symbol}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Typography[\"a\" /* default */],{style:{fontSize:\"14px\",color:\"#999\"},children:tokenInfo===null||tokenInfo===void 0?void 0:tokenInfo.name})]});}\n// EXTERNAL MODULE: ../node_modules/@material-ui/core/esm/IconButton/IconButton.js\nvar IconButton = __webpack_require__(355);\n\n// EXTERNAL MODULE: ../node_modules/@material-ui/core/esm/Popover/Popover.js + 1 modules\nvar Popover = __webpack_require__(380);\n\n// EXTERNAL MODULE: ../node_modules/@material-ui/core/esm/InputAdornment/InputAdornment.js\nvar InputAdornment = __webpack_require__(367);\n\n// EXTERNAL MODULE: ../node_modules/@material-ui/core/esm/FormGroup/FormGroup.js\nvar FormGroup = __webpack_require__(368);\n\n// EXTERNAL MODULE: ../node_modules/@material-ui/core/esm/FormControlLabel/FormControlLabel.js\nvar FormControlLabel = __webpack_require__(369);\n\n// EXTERNAL MODULE: ../node_modules/@material-ui/core/esm/Switch/Switch.js + 1 modules\nvar Switch = __webpack_require__(381);\n\n// EXTERNAL MODULE: ../node_modules/@material-ui/icons/esm/SettingsOutlined.js\nvar SettingsOutlined = __webpack_require__(366);\n\n// EXTERNAL MODULE: ../node_modules/material-ui-popup-state/index.js\nvar material_ui_popup_state = __webpack_require__(77);\nvar material_ui_popup_state_default = /*#__PURE__*/__webpack_require__.n(material_ui_popup_state);\n\n// EXTERNAL MODULE: ../node_modules/@material-ui/core/esm/TableContainer/TableContainer.js\nvar TableContainer = __webpack_require__(357);\n\n// EXTERNAL MODULE: ../node_modules/@material-ui/core/esm/Paper/Paper.js\nvar Paper = __webpack_require__(314);\n\n// EXTERNAL MODULE: ../node_modules/@material-ui/core/esm/Table/Table.js\nvar Table = __webpack_require__(358);\n\n// EXTERNAL MODULE: ../node_modules/@material-ui/core/esm/TableHead/TableHead.js\nvar TableHead = __webpack_require__(359);\n\n// EXTERNAL MODULE: ../node_modules/@material-ui/core/esm/TableRow/TableRow.js\nvar TableRow = __webpack_require__(360);\n\n// EXTERNAL MODULE: ../node_modules/@material-ui/core/esm/TableCell/TableCell.js\nvar TableCell = __webpack_require__(361);\n\n// EXTERNAL MODULE: ../node_modules/@material-ui/core/esm/TableBody/TableBody.js\nvar TableBody = __webpack_require__(362);\n\n// EXTERNAL MODULE: ../node_modules/@material-ui/core/esm/Link/Link.js\nvar Link = __webpack_require__(363);\n\n// EXTERNAL MODULE: ../node_modules/@material-ui/core/esm/Select/Select.js + 6 modules\nvar Select = __webpack_require__(375);\n\n// EXTERNAL MODULE: ../node_modules/@material-ui/core/esm/MenuItem/MenuItem.js\nvar MenuItem = __webpack_require__(364);\n\n// EXTERNAL MODULE: ../node_modules/@material-ui/icons/esm/Close.js\nvar Close = __webpack_require__(356);\n\n// CONCATENATED MODULE: ../src/components/OpenOrdersDialog.tsx\nvar OpenOrdersDialog_useStyles=Object(makeStyles[\"a\" /* default */])(function(theme){return{table:{},closeAccount:{color:theme.palette.error.main}};});function OpenOrdersDialog(_ref){var open=_ref.open,onClose=_ref.onClose;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Dialog[\"a\" /* default */],{maxWidth:\"lg\",open:open,onClose:onClose,PaperProps:{style:{borderRadius:\"10px\"}},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{style:{display:\"flex\",justifyContent:\"flex-end\"},children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(IconButton[\"a\" /* default */],{onClick:onClose,style:{padding:10},children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Close[\"a\" /* default */],{})})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(DialogContent[\"a\" /* default */],{style:{paddingTop:0},children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(OpenOrdersAccounts,{})})]});}function OpenOrdersAccounts(){var styles=OpenOrdersDialog_useStyles();var openOrders=useOpenOrders();var openOrdersEntries=Object(react[\"useMemo\"])(function(){return Array.from(openOrders.entries()).map(function(_ref2){var _ref3=Object(slicedToArray[\"a\" /* default */])(_ref2,2),market=_ref3[0],oo=_ref3[1];return[new index_browser_esm[\"PublicKey\"](market),oo];});},[openOrders]);return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(TableContainer[\"a\" /* default */],{component:Paper[\"a\" /* default */],elevation:0,children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Table[\"a\" /* default */],{className:styles.table,\"aria-label\":\"simple table\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(TableHead[\"a\" /* default */],{children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(TableRow[\"a\" /* default */],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(TableCell[\"a\" /* default */],{children:\"Market\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(TableCell[\"a\" /* default */],{align:\"center\",children:\"Open Orders Account\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(TableCell[\"a\" /* default */],{align:\"center\",children:\"Base Used\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(TableCell[\"a\" /* default */],{align:\"center\",children:\"Base Free\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(TableCell[\"a\" /* default */],{align:\"center\",children:\"Quote Used\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(TableCell[\"a\" /* default */],{align:\"center\",children:\"Quote Free\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(TableCell[\"a\" /* default */],{align:\"center\",children:\"Settle\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(TableCell[\"a\" /* default */],{align:\"center\",children:\"Close\"})]})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(TableBody[\"a\" /* default */],{children:openOrdersEntries.map(function(_ref4){var _ref5=Object(slicedToArray[\"a\" /* default */])(_ref4,2),market=_ref5[0],oos=_ref5[1];return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(OpenOrdersRow,{market:market,openOrders:oos},market.toString());})})]})});}function OpenOrdersRow(_ref6){var _tokenMap$get,_tokenMap$get2;var market=_ref6.market,openOrders=_ref6.openOrders;var styles=OpenOrdersDialog_useStyles();var _useState=Object(react[\"useState\"])(openOrders[0]),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),ooAccount=_useState2[0],setOoAccount=_useState2[1];Object(react[\"useEffect\"])(function(){setOoAccount(openOrders[0]);},[openOrders]);var _useDexContext=useDexContext(),swapClient=_useDexContext.swapClient,closeOpenOrders=_useDexContext.closeOpenOrders;var marketClient=useMarket(market);var tokenMap=useTokenMap();var base=useMint(marketClient===null||marketClient===void 0?void 0:marketClient.baseMintAddress);var quote=useMint(marketClient===null||marketClient===void 0?void 0:marketClient.quoteMintAddress);var baseWallet=useOwnedTokenAccount(marketClient===null||marketClient===void 0?void 0:marketClient.baseMintAddress);var quoteWallet=useOwnedTokenAccount(marketClient===null||marketClient===void 0?void 0:marketClient.quoteMintAddress);var baseTicker=marketClient?(_tokenMap$get=tokenMap.get(marketClient===null||marketClient===void 0?void 0:marketClient.baseMintAddress.toString()))===null||_tokenMap$get===void 0?void 0:_tokenMap$get.symbol:\"-\";var quoteTicker=marketClient?(_tokenMap$get2=tokenMap.get(marketClient===null||marketClient===void 0?void 0:marketClient.quoteMintAddress.toString()))===null||_tokenMap$get2===void 0?void 0:_tokenMap$get2.symbol:\"-\";var marketName=baseTicker&&quoteTicker?\"\".concat(baseTicker,\" / \").concat(quoteTicker):market.toString();var settleDisabled=ooAccount.baseTokenFree.toNumber()+ooAccount.quoteTokenFree.toNumber()===0;var closeDisabled=ooAccount.baseTokenTotal.toNumber()+ooAccount.quoteTokenTotal.toNumber()!==0;var settleFunds=/*#__PURE__*/function(){var _ref7=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee(){var referrerWallet,_yield$marketClient$m,transaction,signers;return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(marketClient){_context.next=2;break;}throw new Error(\"Market client not found\");case 2:if(!(!baseWallet||!quoteWallet)){_context.next=4;break;}throw new Error(\"Base or quote wallet not found\");case 4:referrerWallet=undefined;_context.next=7;return marketClient.makeSettleFundsTransaction(swapClient.program.provider.connection,ooAccount,baseWallet.publicKey,quoteWallet.publicKey,referrerWallet);case 7:_yield$marketClient$m=_context.sent;transaction=_yield$marketClient$m.transaction;signers=_yield$marketClient$m.signers;_context.next=12;return swapClient.program.provider.send(transaction,signers);case 12:case\"end\":return _context.stop();}}},_callee);}));return function settleFunds(){return _ref7.apply(this,arguments);};}();var _closeOpenOrders=/*#__PURE__*/function(){var _ref8=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee2(){return regenerator_default.a.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return swapClient.program.rpc.closeAccount({accounts:{openOrders:ooAccount.address,authority:swapClient.program.provider.wallet.publicKey,destination:swapClient.program.provider.wallet.publicKey,market:marketClient.address,dexProgram:DEX_PID}});case 2:closeOpenOrders(ooAccount);case 3:case\"end\":return _context2.stop();}}},_callee2);}));return function _closeOpenOrders(){return _ref8.apply(this,arguments);};}();return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(TableRow[\"a\" /* default */],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(TableCell[\"a\" /* default */],{component:\"th\",scope:\"row\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Typography[\"a\" /* default */],{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Link[\"a\" /* default */],{href:\"https://dex.projectserum.com/#/market/\".concat(market.toString()),target:\"_blank\",rel:\"noopener\",children:marketName})})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(TableCell[\"a\" /* default */],{align:\"center\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Select[\"a\" /* default */],{value:ooAccount.address.toString(),onChange:function onChange(e){return setOoAccount(openOrders.filter(function(oo){return oo.address.toString()===e.target.value;})[0]);},children:openOrders.map(function(oo){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(MenuItem[\"a\" /* default */],{value:oo.address.toString(),children:oo.address.toString()},oo.address.toString());})})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(TableCell[\"a\" /* default */],{align:\"center\",children:toDisplay(base,ooAccount.baseTokenTotal.sub(ooAccount.baseTokenFree))}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(TableCell[\"a\" /* default */],{align:\"center\",children:toDisplay(base,ooAccount.baseTokenFree)}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(TableCell[\"a\" /* default */],{align:\"center\",children:toDisplay(quote,ooAccount.quoteTokenTotal.sub(ooAccount.quoteTokenFree))}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(TableCell[\"a\" /* default */],{align:\"center\",children:toDisplay(quote,ooAccount.quoteTokenFree)}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(TableCell[\"a\" /* default */],{align:\"center\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button[\"a\" /* default */],{color:\"primary\",disabled:settleDisabled,onClick:settleFunds,children:\"Settle\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(TableCell[\"a\" /* default */],{align:\"center\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button[\"a\" /* default */],{disabled:closeDisabled,onClick:_closeOpenOrders,className:styles.closeAccount,children:\"Close\"})})]},market.toString());}function toDisplay(mintInfo,value){if(!mintInfo){return value.toNumber().toString();}return(value.toNumber()/Math.pow(10,mintInfo.decimals)).toFixed(mintInfo.decimals);}\n// CONCATENATED MODULE: ../src/components/Settings.tsx\nvar Settings_useStyles=Object(makeStyles[\"a\" /* default */])(function(theme){return{tab:{width:\"50%\"},table:{},settingsButton:{padding:0,color:theme.palette.grey[50]},closeAccountSwitchLabel:{color:theme.palette.text.secondary},fairAutoSelected:{backgroundColor:theme.palette.primary.main,padding:\"3px 5px\",borderRadius:\"10px\",color:theme.palette.grey[50],fontWeight:700},fairAuto:{backgroundColor:theme.palette.type===\"dark\"?theme.palette.grey[50]:theme.palette.grey[100],padding:\"3px 5px\",borderRadius:\"10px\",boxShadow:\"none\"},input:{color:\"#ccc !important\"}};});function SettingsButton(){var styles=Settings_useStyles();return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(material_ui_popup_state_default.a,{variant:\"popover\",children://@ts-ignore\nfunction children(popupState){return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(IconButton[\"a\" /* default */],Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},Object(material_ui_popup_state[\"bindTrigger\"])(popupState)),{},{className:styles.settingsButton,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(SettingsOutlined[\"a\" /* default */],{fontSize:\"small\"})})),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Popover[\"a\" /* default */],Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},Object(material_ui_popup_state[\"bindPopover\"])(popupState)),{},{anchorOrigin:{vertical:\"bottom\",horizontal:\"left\"},transformOrigin:{vertical:\"top\",horizontal:\"right\"},PaperProps:{style:{borderRadius:\"10px\",boxShadow:\"0px 0px 30px 5px rgba(0,0,0,0.075)\"}},children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(SettingsDetails,{})}))]});}});}function SettingsDetails(){var styles=Settings_useStyles();var _useSwapContext=useSwapContext(),slippage=_useSwapContext.slippage,setSlippage=_useSwapContext.setSlippage,fairOverride=_useSwapContext.fairOverride,setFairOverride=_useSwapContext.setFairOverride;var _useState=Object(react[\"useState\"])(false),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),showSettingsDialog=_useState2[0],setShowSettingsDialog=_useState2[1];var fair=useSwapFair();var _useDexContext=useDexContext(),swapClient=_useDexContext.swapClient;var setSlippageHandler=function setSlippageHandler(value){setSlippage(!value||value<0?0:value);};return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{style:{padding:\"15px\",width:\"305px\",background:\"#22242a\"},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Typography[\"a\" /* default */],{style:{fontWeight:\"bold\",color:\"white\"},children:\"Settings\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{style:{marginTop:\"10px\"},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Typography[\"a\" /* default */],{style:{fontSize:\"12px\",color:\"white\"},children:\"Slippage tolerance\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(TextField[\"a\" /* default */],{type:\"number\",placeholder:\"Error tolerance percentage\",value:slippage,onChange:function onChange(e){return setSlippageHandler(parseFloat(e.target.value));},style:{display:\"flex\",justifyContent:\"center\",flexDirection:\"column\",color:\"#fff\"},InputProps:{endAdornment:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(InputAdornment[\"a\" /* default */],{position:\"end\",children:\"%\"}),classes:{input:styles.input}}})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{style:{marginTop:\"10px\"},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Typography[\"a\" /* default */],{style:{fontSize:\"12px\",color:\"white\"},children:\"Fair price\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{style:{display:\"flex\"},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(TextField[\"a\" /* default */],{type:\"number\",placeholder:\"Fair price override\",value:fair,onChange:function onChange(e){return setFairOverride(parseFloat(e.target.value));},style:{marginRight:\"10px\",flex:1,display:\"flex\",justifyContent:\"center\",flexDirection:\"column\"},InputProps:{classes:{input:styles.input}},disabled:fairOverride===null}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button[\"a\" /* default */],{component:\"div\",variant:\"contained\",onClick:function onClick(){if(fair===undefined){console.error(\"Fair is undefined\");return;}if(fairOverride===null){setFairOverride(fair);}else{setFairOverride(null);}},className:fairOverride===null?styles.fairAutoSelected:styles.fairAuto,children:\"Auto\"})]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{style:{margin:\"10px 0px\"},children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(CloseNewAccountsSwitch,{})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button[\"a\" /* default */],{variant:\"contained\",fullWidth:true,style:{color:\"#fff\"},disabled:swapClient.program.provider.wallet.publicKey===null,onClick:function onClick(){return setShowSettingsDialog(true);},children:\"Manage Dex Accounts\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(OpenOrdersDialog,{open:showSettingsDialog,onClose:function onClose(){return setShowSettingsDialog(false);}})]});}function CloseNewAccountsSwitch(){var styles=Settings_useStyles();var _useSwapContext2=useSwapContext(),isClosingNewAccounts=_useSwapContext2.isClosingNewAccounts,setIsClosingNewAccounts=_useSwapContext2.setIsClosingNewAccounts;return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(FormGroup[\"a\" /* default */],{style:{display:\"none\"},row:true,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(FormControlLabel[\"a\" /* default */],{classes:{label:styles.closeAccountSwitchLabel},labelPlacement:\"start\",style:{display:\"flex\",justifyContent:\"space-between\",marginLeft:0,width:\"100%\"},control:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Switch[\"a\" /* default */],{checked:isClosingNewAccounts,onChange:function onChange(){return setIsClosingNewAccounts(!isClosingNewAccounts);},color:\"primary\"}),label:\"Close new accounts\"})});}\n// EXTERNAL MODULE: ../node_modules/@material-ui/icons/esm/Info.js\nvar Info = __webpack_require__(370);\n\n// CONCATENATED MODULE: ../src/components/Info.tsx\nvar Info_useStyles=Object(makeStyles[\"a\" /* default */])(function(){return{infoLabel:{color:\"white !important\",marginTop:\"20px\",marginBottom:\"20px\",alignItems:\"left\"},labelWithButton:{display:\"flex\",justifyContent:\"flex-start\"},labelText:{fontSize:\"12px\",width:'150%'},labelValue:{fontSize:\"12px\",textAlign:'center',width:'20%'},infoButton:{marginLeft:\"5px\",padding:0,fontSize:\"14px\"}};});function InfoLabel(){var styles=Info_useStyles();var _useSwapContext=useSwapContext(),fromMint=_useSwapContext.fromMint,toMint=_useSwapContext.toMint;var fromMintInfo=useMint(fromMint);var fair=useSwapFair();var tokenMap=useTokenMap();var fromTokenInfo=tokenMap.get(fromMint.toString());var toTokenInfo=tokenMap.get(toMint.toString());return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:styles.infoLabel,children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:styles.labelWithButton,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Typography[\"a\" /* default */],{className:styles.labelText,children:\"Transaction Settings\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Typography[\"a\" /* default */],{className:styles.labelValue,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(SettingsButton,{})})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:styles.labelWithButton,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Typography[\"a\" /* default */],{className:styles.labelText,children:\"Slippage Tolerance\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Typography[\"a\" /* default */],{className:styles.labelValue,children:\"0\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:styles.labelWithButton,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Typography[\"a\" /* default */],{className:styles.labelText,children:\"Minimum Received\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Typography[\"a\" /* default */],{className:styles.labelValue,children:\"0\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:styles.labelWithButton,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Typography[\"a\" /* default */],{className:styles.labelText,children:\"Swap Fee\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Typography[\"a\" /* default */],{className:styles.labelValue,children:\"0\"})]})]});}function InfoButton(){var styles=Info_useStyles();return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(material_ui_popup_state_default.a,{variant:\"popover\",children://@ts-ignore\nfunction children(popupState){return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{style:{display:\"flex\"},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(IconButton[\"a\" /* default */],Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},Object(material_ui_popup_state[\"bindTrigger\"])(popupState)),{},{className:styles.infoButton,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Info[\"a\" /* default */],{fontSize:\"small\"})})),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Popover[\"a\" /* default */],Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},Object(material_ui_popup_state[\"bindPopover\"])(popupState)),{},{anchorOrigin:{vertical:\"bottom\",horizontal:\"left\"},transformOrigin:{vertical:\"top\",horizontal:\"right\"},PaperProps:{style:{borderRadius:\"10px\"}},disableRestoreFocus:true,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(InfoDetails,{})}))]});}});}function InfoDetails(){var _tokenMap$get,_tokenMap$get2;var _useSwapContext2=useSwapContext(),fromMint=_useSwapContext2.fromMint,toMint=_useSwapContext2.toMint;var route=useRoute(fromMint,toMint);var tokenMap=useTokenMap();var fromMintTicker=(_tokenMap$get=tokenMap.get(fromMint.toString()))===null||_tokenMap$get===void 0?void 0:_tokenMap$get.symbol;var toMintTicker=(_tokenMap$get2=tokenMap.get(toMint.toString()))===null||_tokenMap$get2===void 0?void 0:_tokenMap$get2.symbol;var addresses=[{ticker:fromMintTicker,mint:fromMint},{ticker:toMintTicker,mint:toMint}];return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{style:{padding:\"15px\",width:\"250px\"},children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Typography[\"a\" /* default */],{color:\"textSecondary\",style:{fontWeight:\"bold\",marginBottom:\"5px\"},children:\"Trade Route\"}),route?route.map(function(market){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(MarketRoute,{market:market},market.toString());}):/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Typography[\"a\" /* default */],{color:\"textSecondary\",children:\"Route not found\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{style:{marginTop:\"15px\"},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Typography[\"a\" /* default */],{color:\"textSecondary\",style:{fontWeight:\"bold\",marginBottom:\"5px\"},children:\"Tokens\"}),addresses.map(function(address){return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{style:{marginTop:\"5px\",display:\"flex\",justifyContent:\"space-between\"},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Link[\"a\" /* default */],{href:\"https://explorer.solana.com/address/\".concat(address.mint.toString()),target:\"_blank\",rel:\"noopener\",children:address.ticker}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"code\",{style:{width:\"128px\",overflow:\"hidden\"},children:address.mint.toString()})]},address.mint.toString());})]})]});}function MarketRoute(_ref){var market=_ref.market;var marketName=useMarketName(market);var bbo=useBbo(market);return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{style:{display:\"flex\",justifyContent:\"space-between\",marginTop:\"5px\"},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Link[\"a\" /* default */],{href:\"https://dex.projectserum.com/#/market/\".concat(market.toString()),target:\"_blank\",rel:\"noopener\",children:marketName}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"code\",{style:{marginLeft:\"10px\"},children:bbo&&bbo.mid?bbo.mid.toFixed(6):\"-\"})]});}\n// CONCATENATED MODULE: ../src/components/Swap.tsx\nvar Swap_useStyles=Object(makeStyles[\"a\" /* default */])(function(theme){return{card:{width:theme.spacing(50),borderRadius:theme.spacing(2),background:\"#22242a\",border:\"1px solid #aaaaaa36\",color:\"white !important\",boxShadow:\"0px 0px 30px 5px rgba(0,0,0,0.075)\",padding:theme.spacing(2)},tab:{width:\"50%\"},settingsButton:{padding:0},swapButton:{width:\"100%\",textTransform:\"capitalize\",borderRadius:theme.spacing(2),backgroundColor:\"#323741\",color:\"white !important\",fontSize:16,fontWeight:700,padding:theme.spacing(1.5)},swapToFromButton:{display:\"block\",margin:\"5px auto 5px auto\",cursor:\"pointer\"},amountInput:{fontSize:22,fontWeight:600,color:\"white !important\"},input:{textAlign:\"left\",color:\"white !important\"},swapTokenFormContainer:{borderRadius:theme.spacing(2),boxShadow:\"0px 0px 15px 2px rgba(33,150,243,0.1)\",display:\"flex\",justifyContent:\"space-between\",background:\"#323741\",padding:\"5px 10px 5px 15px\",border:\"1px solid #ffffff1c\"},swapTokenSelectorContainer:{marginLeft:theme.spacing(1),display:\"flex\",justifyContent:\"flex-end\",flexDirection:\"column\",width:\"30%\"},balanceContainer:{display:\"flex\",alignItems:\"center\",padding:\"2px 0px\",fontSize:\"12px\",color:\"#bebebe\"},maxButton:{marginLeft:theme.spacing(1),color:theme.palette.primary.main,fontWeight:700,fontSize:\"12px\",cursor:\"pointer\"},tokenButton:{display:\"flex\",alignItems:\"center\",cursor:\"pointer\",marginBottom:theme.spacing(1),border:\"1px solid #585858\",borderRadius:\"20px\",background:\"#161616\"}};});function SwapCard(_ref){var containerStyle=_ref.containerStyle,contentStyle=_ref.contentStyle,swapTokenContainerStyle=_ref.swapTokenContainerStyle;var styles=Swap_useStyles();return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Card[\"a\" /* default */],{className:styles.card,style:containerStyle,children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{style:contentStyle,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(SwapFromForm,{style:swapTokenContainerStyle}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ArrowButton,{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(SwapToForm,{style:swapTokenContainerStyle}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(InfoLabel,{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(SwapButton,{})]})});}function SwapHeader(){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{style:{display:\"flex\",justifyContent:\"space-between\",marginBottom:\"16px\"},children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(SettingsButton,{})});}function ArrowButton(){var styles=Swap_useStyles();var theme=Object(useTheme[\"a\" /* default */])();var _useSwapContext=useSwapContext(),swapToFromMints=_useSwapContext.swapToFromMints;return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ImportExportRounded[\"a\" /* default */],{className:styles.swapToFromButton,fontSize:\"medium\",htmlColor:theme.palette.primary.main,onClick:swapToFromMints});}function SwapFromForm(_ref2){var style=_ref2.style;var _useSwapContext2=useSwapContext(),fromMint=_useSwapContext2.fromMint,setFromMint=_useSwapContext2.setFromMint,fromAmount=_useSwapContext2.fromAmount,setFromAmount=_useSwapContext2.setFromAmount;return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(SwapTokenForm,{from:true,style:style,mint:fromMint,setMint:setFromMint,amount:fromAmount,setAmount:setFromAmount});}function SwapToForm(_ref3){var style=_ref3.style;var _useSwapContext3=useSwapContext(),toMint=_useSwapContext3.toMint,setToMint=_useSwapContext3.setToMint,toAmount=_useSwapContext3.toAmount,setToAmount=_useSwapContext3.setToAmount;return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(SwapTokenForm,{from:false,style:style,mint:toMint,setMint:setToMint,amount:toAmount,setAmount:setToAmount});}function SwapTokenForm(_ref4){var from=_ref4.from,style=_ref4.style,mint=_ref4.mint,setMint=_ref4.setMint,amount=_ref4.amount,setAmount=_ref4.setAmount;var styles=Swap_useStyles();var _useState=Object(react[\"useState\"])(false),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),showTokenDialog=_useState2[0],setShowTokenDialog=_useState2[1];var tokenAccount=useOwnedTokenAccount(mint);var mintAccount=useMint(mint);var balance=tokenAccount&&mintAccount&&tokenAccount.account.amount.toNumber()/Math.pow(10,mintAccount.decimals);var formattedAmount=mintAccount&&amount?amount.toLocaleString(\"fullwide\",{maximumFractionDigits:mintAccount.decimals,useGrouping:false}):amount;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:styles.swapTokenFormContainer,style:style,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(TokenDialog,{setMint:setMint,open:showTokenDialog,onClose:function onClose(){return setShowTokenDialog(false);}}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Typography[\"a\" /* default */],{className:styles.balanceContainer,children:from?\"From\":\"To\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(TextField[\"a\" /* default */],{type:\"number\",value:formattedAmount,onChange:function onChange(e){return setAmount(parseFloat(e.target.value));},InputProps:{disableUnderline:true,classes:{root:styles.amountInput,input:styles.input}}})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:styles.swapTokenSelectorContainer,children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Typography[\"a\" /* default */],{className:styles.balanceContainer,children:[tokenAccount&&mintAccount?\"Balance: \".concat(balance===null||balance===void 0?void 0:balance.toFixed(mintAccount.decimals)):\"Balance : 0.00\",from&&!!balance?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{className:styles.maxButton,onClick:function onClick(){return setAmount(balance);},children:\"MAX\"}):null]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(TokenButton,{mint:mint,onClick:function onClick(){return setShowTokenDialog(true);}})]})]});}function TokenButton(_ref5){var mint=_ref5.mint,onClick=_ref5.onClick;var styles=Swap_useStyles();var theme=Object(useTheme[\"a\" /* default */])();return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{onClick:onClick,className:styles.tokenButton,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(TokenIcon,{mint:mint,style:{height:theme.spacing(3),paddingLeft:theme.spacing(1)}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Swap_TokenName,{mint:mint,style:{fontSize:14,fontWeight:700}})]});}function TokenIcon(_ref6){var mint=_ref6.mint,style=_ref6.style;var tokenMap=useTokenMap();var tokenInfo=tokenMap.get(mint.toString());return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{style:{display:\"flex\",justifyContent:\"center\",flexDirection:\"column\",padding:\"5px 5px\"},children:(tokenInfo===null||tokenInfo===void 0?void 0:tokenInfo.logoURI)?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",{alt:\"Logo\",style:style,src:tokenInfo===null||tokenInfo===void 0?void 0:tokenInfo.logoURI}):/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{style:style})});}function Swap_TokenName(_ref7){var mint=_ref7.mint,style=_ref7.style;var tokenMap=useTokenMap();var theme=Object(useTheme[\"a\" /* default */])();var tokenInfo=tokenMap.get(mint.toString());return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Typography[\"a\" /* default */],{style:Object(objectSpread2[\"a\" /* default */])({marginLeft:theme.spacing(2),marginRight:theme.spacing(1)},style),children:tokenInfo===null||tokenInfo===void 0?void 0:tokenInfo.symbol});}function SwapButton(){var styles=Swap_useStyles();var _useSwapContext4=useSwapContext(),fromMint=_useSwapContext4.fromMint,toMint=_useSwapContext4.toMint,fromAmount=_useSwapContext4.fromAmount,slippage=_useSwapContext4.slippage,isClosingNewAccounts=_useSwapContext4.isClosingNewAccounts,isStrict=_useSwapContext4.isStrict;var _useDexContext=useDexContext(),swapClient=_useDexContext.swapClient;var fromMintInfo=useMint(fromMint);var toMintInfo=useMint(toMint);var openOrders=useOpenOrders();var route=useRouteVerbose(fromMint,toMint);var fromMarket=useMarket(route&&route.markets?route.markets[0]:undefined);var toMarket=useMarket(route&&route.markets?route.markets[1]:undefined);var canSwap=useCanSwap();var referral=useReferral(fromMarket);var fair=useSwapFair();var fromWallet=useOwnedTokenAccount(fromMint);var toWallet=useOwnedTokenAccount(toMint);var quoteMint=fromMarket&&fromMarket.quoteMintAddress;var quoteMintInfo=useMint(quoteMint);var quoteWallet=useOwnedTokenAccount(quoteMint);// Click handler.\nvar sendSwapTransaction=/*#__PURE__*/function(){var _ref8=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee2(){var amount,isSol,wrappedSolAccount,txs,_txs$0$signers,_txs$0$signers2,_yield$wrapSol,wrapTx,wrapSigners,_unwrapSol,unwrapTx,unwrapSigners,tx;return regenerator_default.a.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:if(!(!fromMintInfo||!toMintInfo)){_context2.next=2;break;}throw new Error(\"Unable to calculate mint decimals\");case 2:if(fair){_context2.next=4;break;}throw new Error(\"Invalid fair\");case 4:if(!(!quoteMint||!quoteMintInfo)){_context2.next=6;break;}throw new Error(\"Quote mint not found\");case 6:amount=new esm[\"BN\"](fromAmount*Math.pow(10,fromMintInfo.decimals));isSol=fromMint.equals(SOL_MINT)||toMint.equals(SOL_MINT);wrappedSolAccount=isSol?index_browser_esm[\"Keypair\"].generate():undefined;// Build the swap.\n_context2.next=11;return Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee(){var minExchangeRate,fromOpenOrders,toOpenOrders,fromWalletAddr,toWalletAddr;return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(fromMarket){_context.next=2;break;}throw new Error(\"Market undefined\");case 2:minExchangeRate={rate:new esm[\"BN\"](Math.pow(10,toMintInfo.decimals)*FEE_MULTIPLIER/fair).muln(100-slippage).divn(100),fromDecimals:fromMintInfo.decimals,quoteDecimals:quoteMintInfo.decimals,strict:isStrict};fromOpenOrders=fromMarket?openOrders.get(fromMarket===null||fromMarket===void 0?void 0:fromMarket.address.toString()):undefined;toOpenOrders=toMarket?openOrders.get(toMarket===null||toMarket===void 0?void 0:toMarket.address.toString()):undefined;fromWalletAddr=fromMint.equals(SOL_MINT)?wrappedSolAccount.publicKey:fromWallet?fromWallet.publicKey:undefined;toWalletAddr=toMint.equals(SOL_MINT)?wrappedSolAccount.publicKey:toWallet?toWallet.publicKey:undefined;_context.next=9;return swapClient.swapTxs({fromMint:fromMint,toMint:toMint,quoteMint:quoteMint,amount:amount,minExchangeRate:minExchangeRate,referral:referral,fromMarket:fromMarket,toMarket:toMarket,// Automatically created if undefined.\nfromOpenOrders:fromOpenOrders?fromOpenOrders[0].address:undefined,toOpenOrders:toOpenOrders?toOpenOrders[0].address:undefined,fromWallet:fromWalletAddr,toWallet:toWalletAddr,quoteWallet:quoteWallet?quoteWallet.publicKey:undefined,// Auto close newly created open orders accounts.\nclose:isClosingNewAccounts});case 9:return _context.abrupt(\"return\",_context.sent);case 10:case\"end\":return _context.stop();}}},_callee);}))();case 11:txs=_context2.sent;if(!isSol){_context2.next=28;break;}if(!(txs.length>1)){_context2.next=15;break;}throw new Error(\"SOL must be swapped in a single transaction\");case 15:_context2.next=17;return wrapSol(swapClient.program.provider,wrappedSolAccount,fromMint,amount);case 17:_yield$wrapSol=_context2.sent;wrapTx=_yield$wrapSol.tx;wrapSigners=_yield$wrapSol.signers;_unwrapSol=unwrapSol(swapClient.program.provider,wrappedSolAccount),unwrapTx=_unwrapSol.tx,unwrapSigners=_unwrapSol.signers;tx=new index_browser_esm[\"Transaction\"]();tx.add(wrapTx);tx.add(txs[0].tx);tx.add(unwrapTx);txs[0].tx=tx;(_txs$0$signers=txs[0].signers).push.apply(_txs$0$signers,Object(toConsumableArray[\"a\" /* default */])(wrapSigners));(_txs$0$signers2=txs[0].signers).push.apply(_txs$0$signers2,Object(toConsumableArray[\"a\" /* default */])(unwrapSigners));case 28:_context2.next=30;return swapClient.program.provider.sendAll(txs);case 30:case\"end\":return _context2.stop();}}},_callee2);}));return function sendSwapTransaction(){return _ref8.apply(this,arguments);};}();return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button[\"a\" /* default */],{variant:\"contained\",className:styles.swapButton,onClick:sendSwapTransaction// disabled={!canSwap}\n,children:canSwap?\"Swap\":\"Connect Wallet\"});}function wrapSol(_x,_x2,_x3,_x4){return _wrapSol.apply(this,arguments);}function _wrapSol(){_wrapSol=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee3(provider,wrappedSolAccount,fromMint,amount){var tx,signers;return regenerator_default.a.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:tx=new index_browser_esm[\"Transaction\"]();signers=[wrappedSolAccount];// Create new, rent exempt account.\n_context3.t0=tx;_context3.t1=index_browser_esm[\"SystemProgram\"];_context3.t2=provider.wallet.publicKey;_context3.t3=wrappedSolAccount.publicKey;_context3.next=8;return lib_index_browser_esm[\"Token\"].getMinBalanceRentForExemptAccount(provider.connection);case 8:_context3.t4=_context3.sent;_context3.t5=lib_index_browser_esm[\"TOKEN_PROGRAM_ID\"];_context3.t6={fromPubkey:_context3.t2,newAccountPubkey:_context3.t3,lamports:_context3.t4,space:165,programId:_context3.t5};_context3.t7=_context3.t1.createAccount.call(_context3.t1,_context3.t6);_context3.t0.add.call(_context3.t0,_context3.t7);// Transfer lamports. These will be converted to an SPL balance by the\n// token program.\nif(fromMint.equals(SOL_MINT)){tx.add(index_browser_esm[\"SystemProgram\"].transfer({fromPubkey:provider.wallet.publicKey,toPubkey:wrappedSolAccount.publicKey,lamports:amount.toNumber()}));}// Initialize the account.\ntx.add(lib_index_browser_esm[\"Token\"].createInitAccountInstruction(lib_index_browser_esm[\"TOKEN_PROGRAM_ID\"],WRAPPED_SOL_MINT,wrappedSolAccount.publicKey,provider.wallet.publicKey));return _context3.abrupt(\"return\",{tx:tx,signers:signers});case 16:case\"end\":return _context3.stop();}}},_callee3);}));return _wrapSol.apply(this,arguments);}function unwrapSol(provider,wrappedSolAccount){var tx=new index_browser_esm[\"Transaction\"]();tx.add(lib_index_browser_esm[\"Token\"].createCloseAccountInstruction(lib_index_browser_esm[\"TOKEN_PROGRAM_ID\"],wrappedSolAccount.publicKey,provider.wallet.publicKey,provider.wallet.publicKey,[]));return{tx:tx,signers:[]};}\n// CONCATENATED MODULE: ../src/index.tsx\n/**\n * A`Swap` component that can be embedded into applications. To use,\n * one can, minimally, provide a provider and token list to the component.\n * For example,\n *\n * ```javascript\n * <Swap provider={provider} tokenList={tokenList} />\n * ```\n *\n * All of the complexity of communicating with the Serum DEX and managing\n * its data is handled internally by the component.\n *\n * For information on other properties like earning referrals, see the\n * [[SwapProps]] documentation.\n */function Swap(props){var containerStyle=props.containerStyle,contentStyle=props.contentStyle,swapTokenContainerStyle=props.swapTokenContainerStyle,materialTheme=props.materialTheme,provider=props.provider,tokenList=props.tokenList,fromMint=props.fromMint,toMint=props.toMint,fromAmount=props.fromAmount,toAmount=props.toAmount,referral=props.referral;// @ts-ignore\nvar swapClient=new lib[\"Swap\"](provider,tokenList);var theme=Object(createTheme[\"a\" /* createMuiTheme */])(materialTheme||{palette:{primary:{main:\"#2196F3\",contrastText:\"#FFFFFF\"},secondary:{main:\"#E0E0E0\",light:\"#595959\"},error:{main:\"#ff6b6b\"}}});return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ThemeProvider[\"a\" /* default */],{theme:theme,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(TokenListContextProvider,{tokenList:tokenList,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(TokenContextProvider,{provider:provider,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(DexContextProvider,{swapClient:swapClient,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(SwapContextProvider,{fromMint:fromMint,toMint:toMint,fromAmount:fromAmount,toAmount:toAmount,referral:referral,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(SwapCard,{containerStyle:containerStyle,contentStyle:contentStyle,swapTokenContainerStyle:swapTokenContainerStyle})})})})})});}/**\n * Properties for the `Swap` Component.\n */\n// EXTERNAL MODULE: ./src/App.css\nvar App = __webpack_require__(311);\n\n// EXTERNAL MODULE: ./src/data/tezos.tokenlist.json\nvar tezos_tokenlist = __webpack_require__(221);\n\n// CONCATENATED MODULE: ./src/App.tsx\n// @ts-ignore\n// App illustrating the use of the Swap component.\n//\n// One needs to just provide an Anchor `Provider` and a `TokenListContainer`\n// to the `Swap` component, and then everything else is taken care of.\nfunction App_App(){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(notistack_esm[\"a\" /* SnackbarProvider */],{maxSnack:5,autoHideDuration:8000,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(AppInner,{})});}var App_useStyles=Object(makeStyles[\"a\" /* default */])(function(theme){return{root:{minHeight:\"100vh\",paddingLeft:theme.spacing(1),paddingRight:theme.spacing(1),background:\"#101535\"}};});function AppInner(){var styles=App_useStyles();var _useSnackbar=Object(notistack_esm[\"b\" /* useSnackbar */])(),enqueueSnackbar=_useSnackbar.enqueueSnackbar;var _useState=Object(react[\"useState\"])(false),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),isConnected=_useState2[0],setIsConnected=_useState2[1];var _useState3=Object(react[\"useState\"])(null),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),tokenList=_useState4[0],setTokenList=_useState4[1];var _useMemo=Object(react[\"useMemo\"])(function(){var opts={preflightCommitment:\"recent\",commitment:\"recent\"};var network=\"https://solana-api.projectserum.com\";var wallet=new dist_esm[\"a\" /* default */](\"https://www.sollet.io\",network);var connection=new index_browser_esm[\"Connection\"](network,opts.preflightCommitment);var provider=new App_NotifyingProvider(connection,wallet,opts,function(tx,err){if(err){enqueueSnackbar(\"Error: \".concat(err.toString()),{variant:\"error\"});}else{enqueueSnackbar(\"Transaction sent\",{variant:\"success\",action:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button[\"a\" /* default */],{color:\"inherit\",component:\"a\",target:\"_blank\",rel:\"noopener\",href:\"https://explorer.solana.com/tx/\".concat(tx),children:\"View on Solana Explorer\"})});}});return[provider,wallet];},[enqueueSnackbar]),_useMemo2=Object(slicedToArray[\"a\" /* default */])(_useMemo,2),provider=_useMemo2[0],wallet=_useMemo2[1];Object(react[\"useEffect\"])(function(){new dist_module[\"a\" /* TokenListProvider */]().resolve().then(setTokenList);},[setTokenList]);function getToken(){return _getToken.apply(this,arguments);}// Connect to the wallet.\nfunction _getToken(){_getToken=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee(){var response,data;return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return fetch('https://raw.githubusercontent.com/von-dee/swaptzstats/main/tezos.tokenlist.json');case 2:response=_context.sent;_context.next=5;return response.json();case 5:data=_context.sent;return _context.abrupt(\"return\",data);case 7:case\"end\":return _context.stop();}}},_callee);}));return _getToken.apply(this,arguments);}Object(react[\"useEffect\"])(function(){console.log(\"getToken\");console.log(getToken());wallet.on(\"connect\",function(){enqueueSnackbar(\"Wallet connected\",{variant:\"success\"});setIsConnected(true);});wallet.on(\"disconnect\",function(){enqueueSnackbar(\"Wallet disconnected\",{variant:\"info\"});setIsConnected(false);});},[wallet,enqueueSnackbar]);Object(react[\"useEffect\"])(function(){console.log(\"Token Lists\");console.log(tezos_tokenlist);console.log(tokenList);},[tokenList]);return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Grid[\"a\" /* default */],{container:true,justify:\"center\",alignItems:\"center\",className:styles.root,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button[\"a\" /* default */],{variant:\"outlined\",onClick:function onClick(){return!isConnected?wallet.connect():wallet.disconnect();},style:{position:\"fixed\",color:\"white\",right:24,top:24},children:!isConnected?\"Connect\":\"Disconnect\"}),tokenList&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Swap,{provider:provider,tokenList:tokenList})]});}// Cast wallet to AnchorWallet in order to be compatible with Anchor's Provider class\n// Custom provider to display notifications whenever a transaction is sent.\n//\n// Note that this is an Anchor wallet/network provider--not a React provider,\n// so all transactions will be flowing through here, which allows us to\n// hook in to display all transactions sent from the `Swap` component\n// as notifications in the parent app.\nvar App_NotifyingProvider=/*#__PURE__*/function(_Provider){Object(inherits[\"a\" /* default */])(NotifyingProvider,_Provider);var _super=Object(createSuper[\"a\" /* default */])(NotifyingProvider);// Function to call whenever the provider sends a transaction;\nfunction NotifyingProvider(connection,wallet,opts,onTransaction){var _this;Object(classCallCheck[\"a\" /* default */])(this,NotifyingProvider);var newWallet=wallet;_this=_super.call(this,connection,newWallet,opts);_this.onTransaction=void 0;_this.onTransaction=onTransaction;return _this;}Object(createClass[\"a\" /* default */])(NotifyingProvider,[{key:\"send\",value:function(){var _send=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee2(tx,signers,opts){var txSig;return regenerator_default.a.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return Object(get[\"a\" /* default */])(Object(getPrototypeOf[\"a\" /* default */])(NotifyingProvider.prototype),\"send\",this).call(this,tx,signers,opts);case 3:txSig=_context2.sent;this.onTransaction(txSig);return _context2.abrupt(\"return\",txSig);case 8:_context2.prev=8;_context2.t0=_context2[\"catch\"](0);if(_context2.t0 instanceof Error||_context2.t0===undefined){this.onTransaction(undefined,_context2.t0);}return _context2.abrupt(\"return\",\"\");case 12:case\"end\":return _context2.stop();}}},_callee2,this,[[0,8]]);}));function send(_x,_x2,_x3){return _send.apply(this,arguments);}return send;}()},{key:\"sendAll\",value:function(){var _sendAll=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee3(txs,opts){var _this2=this;var txSigs;return regenerator_default.a.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.prev=0;_context3.next=3;return Object(get[\"a\" /* default */])(Object(getPrototypeOf[\"a\" /* default */])(NotifyingProvider.prototype),\"sendAll\",this).call(this,txs,opts);case 3:txSigs=_context3.sent;txSigs.forEach(function(sig){_this2.onTransaction(sig);});return _context3.abrupt(\"return\",txSigs);case 8:_context3.prev=8;_context3.t0=_context3[\"catch\"](0);if(_context3.t0 instanceof Error||_context3.t0===undefined){this.onTransaction(undefined,_context3.t0);}return _context3.abrupt(\"return\",[]);case 12:case\"end\":return _context3.stop();}}},_callee3,this,[[0,8]]);}));function sendAll(_x4,_x5){return _sendAll.apply(this,arguments);}return sendAll;}()}]);return NotifyingProvider;}(esm[\"Provider\"]);/* harmony default export */ var src_App = (App_App);\n// CONCATENATED MODULE: ./src/reportWebVitals.ts\nvar reportWebVitals=function reportWebVitals(onPerfEntry){if(onPerfEntry&&onPerfEntry instanceof Function){__webpack_require__.e(/* import() */ 3).then(__webpack_require__.bind(null, 383)).then(function(_ref){var getCLS=_ref.getCLS,getFID=_ref.getFID,getFCP=_ref.getFCP,getLCP=_ref.getLCP,getTTFB=_ref.getTTFB;getCLS(onPerfEntry);getFID(onPerfEntry);getFCP(onPerfEntry);getLCP(onPerfEntry);getTTFB(onPerfEntry);});}};/* harmony default export */ var src_reportWebVitals = (reportWebVitals);\n// CONCATENATED MODULE: ./src/index.tsx\nreact_dom_default.a.render(/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_default.a.StrictMode,{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(src_App,{})}),document.getElementById(\"root\"));// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nsrc_reportWebVitals();\n\n/***/ })\n\n},[[312,1,2]]]);","inputSourceMap":{"version":3,"sources":["/Users/selasie/Documents/GitHub/dex_ui/swap-ui/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-4-0!/Users/selasie/Documents/GitHub/dex_ui/swap-ui/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-4-1!/Users/selasie/Documents/GitHub/dex_ui/swap-ui/node_modules/postcss-loader/src/index.js??postcss!/Users/selasie/Documents/GitHub/dex_ui/swap-ui/tzstats/src/index.css","ignored /Users/selasie/Documents/GitHub/dex_ui/swap-ui/node_modules/bn.js/lib buffer","ignored /Users/selasie/Documents/GitHub/dex_ui/swap-ui/node_modules/tweetnacl crypto","ignored /Users/selasie/Documents/GitHub/dex_ui/swap-ui/node_modules/elliptic/node_modules/bn.js/lib buffer","ignored /Users/selasie/Documents/GitHub/dex_ui/swap-ui/node_modules/brorand crypto","/Users/selasie/Documents/GitHub/dex_ui/swap-ui/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-4-0!/Users/selasie/Documents/GitHub/dex_ui/swap-ui/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-4-1!/Users/selasie/Documents/GitHub/dex_ui/swap-ui/node_modules/postcss-loader/src/index.js??postcss!/Users/selasie/Documents/GitHub/dex_ui/swap-ui/tzstats/src/App.css","/Users/selasie/Documents/GitHub/dex_ui/swap-ui/src/utils/pubkeys.ts","/Users/selasie/Documents/GitHub/dex_ui/swap-ui/src/context/TokenList.tsx","/Users/selasie/Documents/GitHub/dex_ui/swap-ui/src/context/Sollet.tsx","/Users/selasie/Documents/GitHub/dex_ui/swap-ui/src/utils/tokens.ts","/Users/selasie/Documents/GitHub/dex_ui/swap-ui/src/context/Token.tsx","/Users/selasie/Documents/GitHub/dex_ui/swap-ui/src/context/Dex.tsx","/Users/selasie/Documents/GitHub/dex_ui/swap-ui/src/context/Swap.tsx","/Users/selasie/Documents/GitHub/dex_ui/swap-ui/src/components/TokenDialog.tsx","/Users/selasie/Documents/GitHub/dex_ui/swap-ui/src/components/OpenOrdersDialog.tsx","/Users/selasie/Documents/GitHub/dex_ui/swap-ui/src/components/Settings.tsx","/Users/selasie/Documents/GitHub/dex_ui/swap-ui/src/components/Info.tsx","/Users/selasie/Documents/GitHub/dex_ui/swap-ui/src/components/Swap.tsx","/Users/selasie/Documents/GitHub/dex_ui/swap-ui/src/index.tsx","/Users/selasie/Documents/GitHub/dex_ui/swap-ui/tzstats/src/App.tsx","/Users/selasie/Documents/GitHub/dex_ui/swap-ui/tzstats/src/reportWebVitals.ts","/Users/selasie/Documents/GitHub/dex_ui/swap-ui/tzstats/src/index.tsx"],"names":["TEZ_MINT","PublicKey","QUP_MINT","DEX_PID","SRM_MINT","USDC_MINT","USDT_MINT","SOL_MINT","WRAPPED_SOL_MINT","WORM_MARKET_BASE","WORM_USDC_MINT","WORM_USDC_MARKET","WORM_USDT_MINT","WORM_USDT_MARKET","_TokenListContext","React","createContext","SPL_REGISTRY_SOLLET_TAG","SPL_REGISTRY_WORM_TAG","SOL_TOKEN_INFO","chainId","address","toString","name","decimals","symbol","logoURI","tags","extensions","website","serumV3Usdc","serumV3Usdt","coingeckoId","waterfallbot","TokenListContextProvider","props","tokenList","useMemo","list","filterByClusterSlug","getList","push","tokenMap","Map","forEach","t","set","swappableTokens","tokens","filter","isUsdxQuoted","sort","a","b","isSollet","includes","map","swappableTokensSollet","solletMap","swappableTokensWormhole","wormholeMap","children","useTokenListContext","ctx","useContext","Error","useTokenMap","useSwappableTokens","useSolletInfo","mint","useAsync","fetchSolletInfo","info","_SOLLET_INFO_CACHE","get","undefined","swapApiRequest","infoRaw","splMint","requestWormholeSwapMarketIfNeeded","connection","solletMint","wormholeMint","swapMarket","solletInfo","cached","_SWAP_MARKET_EXISTS_CACHE","getAccountInfo","acc","resource","ticker","catch","console","error","method","path","body","headers","params","cache","JSON","stringify","fetch","resp","handleSwapApiResponse","json","success","SwapApiError","status","result","msg","getOwnedAssociatedTokenAccounts","publicKey","filters","getOwnedAccountsFilters","getProgramAccounts","TOKEN_PROGRAM_ID","commitment","accs","pubkey","account","data","executable","owner","lamports","accountInfo","parseTokenAccountData","Promise","all","ta","Token","getAssociatedTokenAddress","ASSOCIATED_TOKEN_PROGRAM_ID","ata","equals","ACCOUNT_LAYOUT","BufferLayout","decode","amount","BN","memcmp","offset","offsetOf","bytes","toBase58","dataSize","span","_TokenContext","TokenContextProvider","provider","useState","setRefresh","useEffect","wallet","_OWNED_TOKEN_ACCOUNTS_CACHE","length","r","then","useTokenContext","useOwnedTokenAccount","tokenAccounts","tokenAccount","isSol","listener","onAccountChange","token","index","indexOf","assert","log","removeAccountChangeListener","useMint","asyncMintInfo","_MINT_CACHE","mintClient","Account","mintInfo","getMintInfo","setMintCache","pk","resolve","BASE_TAKER_FEE_BPS","FEE_MULTIPLIER","_DexContext","DexContextProvider","ooAccounts","setOoAccounts","swapClient","closeOpenOrders","openOrder","newOoAccounts","openOrders","market","oo","delete","program","OpenOrders","findForOwner","markets","Set","add","size","anchor","rpc","getMultipleAccounts","Array","from","values","m","multipleMarkets","marketClients","programAccount","Market","getLayout","opts","mintPubkeys","baseMintAddress","quoteMintAddress","flat","mints","mintInfos","MintLayout","baseMintInfo","quoteMintInfo","_baseSplTokenDecimals","_quoteSplTokenDecimals","_MARKET_CACHE","useDexContext","useOpenOrders","useMarket","asyncMarket","marketClient","load","useOrderbook","refresh","asyncOrderbook","_ORDERBOOK_CACHE","orderbook","loadBids","loadAsks","bids","asks","bidsAddress","OrderbookSide","oldBestBid","items","next","value","newBestBid","price","asksAddress","oldBestOffer","newBestOffer","useMarketName","baseTicker","quoteTicker","useBbo","bestBid","bestOffer","mid","useFairRoute","fromMint","toMint","route","useRoute","fromBbo","fromMarket","toBbo","useRouteVerbose","asyncRoute","wormholeSwapMarket","wormholeMarket","kind","WORMHOLE_NATIVE_MAP","wormKey","first","second","conn","wormholeNativeMarket","wormholeSolletMarket","fromWormhole","isFromWormhole","toWormhole","isToWormhole","fromSollet","isFromSollet","toSollet","isToSollet","base","quote","wormholeInfo","erc20Contract","deriveWormholeMarket","marketExists","baseMint","quoteMint","version","padToTwo","n","slice","seed","createWithSeed","DEFAULT_SLIPPAGE_PERCENT","_SwapContext","SwapContextProvider","setFromMint","setToMint","fromAmount","_setFromAmount","toAmount","_setToAmount","isClosingNewAccounts","setIsClosingNewAccounts","isStrict","setIsStrict","slippage","setSlippage","fairOverride","setFairOverride","fair","_useSwapFair","referral","setFromAmount","swapToFromMints","oldFrom","oldTo","oldToAmount","setToAmount","useSwapContext","useSwapFair","fairRoute","useCanSwap","fromWallet","useReferral","asyncReferral","useStyles","makeStyles","theme","dialogContent","padding","textField","marginBottom","color","tab","minWidth","tabSelected","palette","grey","fontWeight","backgroundColor","primary","main","borderRadius","tabIndicator","opacity","input","TokenDialog","open","onClose","setMint","tabSelection","setTabSelection","tokenFilter","setTokenFilter","toLowerCase","styles","displayTabs","useMediaQuery","selectedTokens","startsWith","style","background","width","paddingBottom","classes","e","target","tokenInfo","TokenListItem","onClick","height","TokenName","marginLeft","fontSize","table","closeAccount","OpenOrdersDialog","display","justifyContent","paddingTop","OpenOrdersAccounts","openOrdersEntries","entries","Paper","oos","OpenOrdersRow","ooAccount","setOoAccount","baseWallet","quoteWallet","marketName","settleDisabled","baseTokenFree","toNumber","quoteTokenFree","closeDisabled","baseTokenTotal","quoteTokenTotal","settleFunds","referrerWallet","makeSettleFundsTransaction","transaction","signers","send","_closeOpenOrders","accounts","authority","destination","dexProgram","toDisplay","sub","toFixed","settingsButton","closeAccountSwitchLabel","text","secondary","fairAutoSelected","fairAuto","type","boxShadow","SettingsButton","popupState","bindTrigger","bindPopover","vertical","horizontal","SettingsDetails","showSettingsDialog","setShowSettingsDialog","setSlippageHandler","marginTop","parseFloat","flexDirection","endAdornment","marginRight","flex","margin","CloseNewAccountsSwitch","label","infoLabel","alignItems","labelWithButton","labelText","labelValue","textAlign","infoButton","InfoLabel","fromMintInfo","fromTokenInfo","toTokenInfo","InfoButton","InfoDetails","fromMintTicker","toMintTicker","addresses","overflow","MarketRoute","bbo","card","spacing","border","swapButton","textTransform","swapToFromButton","cursor","amountInput","swapTokenFormContainer","swapTokenSelectorContainer","balanceContainer","maxButton","tokenButton","SwapCard","containerStyle","contentStyle","swapTokenContainerStyle","SwapHeader","ArrowButton","useTheme","SwapFromForm","SwapToForm","SwapTokenForm","setAmount","showTokenDialog","setShowTokenDialog","mintAccount","balance","formattedAmount","toLocaleString","maximumFractionDigits","useGrouping","disableUnderline","root","TokenButton","paddingLeft","TokenIcon","SwapButton","toMintInfo","toMarket","canSwap","toWallet","sendSwapTransaction","wrappedSolAccount","Keypair","generate","minExchangeRate","rate","muln","divn","fromDecimals","quoteDecimals","strict","fromOpenOrders","toOpenOrders","fromWalletAddr","toWalletAddr","swapTxs","close","txs","wrapSol","wrapTx","tx","wrapSigners","unwrapSol","unwrapTx","unwrapSigners","Transaction","sendAll","SystemProgram","getMinBalanceRentForExemptAccount","fromPubkey","newAccountPubkey","space","programId","createAccount","transfer","toPubkey","createInitAccountInstruction","createCloseAccountInstruction","Swap","materialTheme","SwapClient","createMuiTheme","contrastText","light","App","minHeight","paddingRight","AppInner","useSnackbar","enqueueSnackbar","isConnected","setIsConnected","setTokenList","preflightCommitment","network","Wallet","Connection","NotifyingProvider","err","variant","action","TokenListProvider","getToken","response","on","tezosTokens","connect","disconnect","position","right","top","onTransaction","newWallet","txSig","txSigs","sig","Provider","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","document","getElementById"],"mappings":"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","file":"x","sourcesContent":["// extracted by mini-css-extract-plugin","/* (ignored) */","/* (ignored) */","/* (ignored) */","/* (ignored) */","// extracted by mini-css-extract-plugin","import { PublicKey } from \"@solana/web3.js\";\n\nexport const TEZ_MINT = new PublicKey(\n  \"AjkPkq3nsyDe1yKcbyZT7N4aK4Evv9om9tzhQD3wsRC\"\n);\n\nexport const QUP_MINT = new PublicKey(\n  \"9LzCMqDgTKYz9Drzqnpgee3SGa89up3a247ypMj2xrqM\"\n);\n\nexport const DEX_PID = new PublicKey(\n  \"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin\"\n);\n\nexport const SRM_MINT = new PublicKey(\n  \"SRMuApVNdxXokk5GT7XD5cUUgXMBCoAz2LHeuAoKWRt\"\n);\n\nexport const USDC_MINT = new PublicKey(\n  \"EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v\"\n);\n\nexport const USDT_MINT = new PublicKey(\n  \"Es9vMFrzaCERmJfrF4H2FYD4KCoNkY11McCe8BenwNYB\"\n);\n\n// Arbitrary mint to represent SOL (not wrapped SOL).\nexport const SOL_MINT = new PublicKey(\n  \"Ejmc1UB4EsES5oAaRN63SpoxMJidt3ZGBrqrZk49vjTZ\"\n);\n\nexport const WRAPPED_SOL_MINT = new PublicKey(\n  \"So11111111111111111111111111111111111111112\"\n);\n\nexport const WORM_MARKET_BASE = new PublicKey(\n  \"6a9wpsZpZGxGhFVSQBpcTNjNjytdbSA1iUw1A5KNDxPw\"\n);\n\nexport const WORM_USDC_MINT = new PublicKey(\n  \"FVsXUnbhifqJ4LiXQEbpUtXVdB8T5ADLKqSs5t1oc54F\"\n);\n\nexport const WORM_USDC_MARKET = new PublicKey(\n  \"6nGMps9VfDjkKEwYjdSNqN1ToXkLae4VsN49fzBiDFBd\"\n);\n\nexport const WORM_USDT_MINT = new PublicKey(\n  \"9w97GdWUYYaamGwdKMKZgGzPduZJkiFizq4rz5CPXRv2\"\n);\n\nexport const WORM_USDT_MARKET = new PublicKey(\n  \"4v6e6vNXAaEunrvbqkYnKwbaWfck8a2KVR4uRAVXxVwC\"\n);\n","import React, { useContext, useMemo } from \"react\";\nimport { TokenInfo } from \"@solana/spl-token-registry\";\nimport { SOL_MINT } from \"../utils/pubkeys\";\n\ntype TokenListContext = {\n  tokenMap: Map<string, TokenInfo>;\n  wormholeMap: Map<string, TokenInfo>;\n  solletMap: Map<string, TokenInfo>;\n  swappableTokens: TokenInfo[];\n  swappableTokensSollet: TokenInfo[];\n  swappableTokensWormhole: TokenInfo[];\n};\nconst _TokenListContext = React.createContext<null | TokenListContext>(null);\n\n// Tag in the spl-token-registry for sollet wrapped tokens.\nexport const SPL_REGISTRY_SOLLET_TAG = \"wrapped-sollet\";\n\n// Tag in the spl-token-registry for wormhole wrapped tokens.\nexport const SPL_REGISTRY_WORM_TAG = \"wormhole\";\n\nconst SOL_TOKEN_INFO = {\n  chainId: 101,\n  address: SOL_MINT.toString(),\n  name: \"Native SOL\",\n  decimals: \"9\",\n  symbol: \"SOL\",\n  logoURI:\n    \"https://cdn.jsdelivr.net/gh/trustwallet/assets@master/blockchains/solana/info/logo.png\",\n  tags: [],\n  extensions: {\n    website: \"https://solana.com/\",\n    serumV3Usdc: \"9wFFyRfZBsuAha4YcuxcXLKwMxJR43S7fPfQLusDBzvT\",\n    serumV3Usdt: \"HWHvQhFmJB3NUcu1aihKmrKegfVxBEHzwVX6yZCKEsi1\",\n    coingeckoId: \"solana\",\n    waterfallbot: \"https://t.me/SOLwaterfall\",\n  },\n};\n\nexport function TokenListContextProvider(props: any) {\n  const tokenList = useMemo(() => {\n    const list = props.tokenList.filterByClusterSlug(\"mainnet-beta\").getList();\n    // Manually add a fake SOL mint for the native token. The component is\n    // opinionated in that it distinguishes between wrapped SOL and SOL.\n    list.push(SOL_TOKEN_INFO);\n    return list;\n  }, [props.tokenList]);\n\n  // Token map for quick lookup.\n  const tokenMap = useMemo(() => {\n    const tokenMap = new Map();\n    tokenList.forEach((t: TokenInfo) => {\n      tokenMap.set(t.address, t);\n    });\n    return tokenMap;\n  }, [tokenList]);\n\n  // Tokens with USD(x) quoted markets.\n  const swappableTokens = useMemo(() => {\n    const tokens = tokenList.filter((t: TokenInfo) => {\n      const isUsdxQuoted =\n        t.extensions?.serumV3Usdt || t.extensions?.serumV3Usdc;\n      return isUsdxQuoted;\n    });\n    tokens.sort((a: TokenInfo, b: TokenInfo) =>\n      a.symbol < b.symbol ? -1 : a.symbol > b.symbol ? 1 : 0\n    );\n    return tokens;\n  }, [tokenList, tokenMap]);\n\n  // Sollet wrapped tokens.\n  const [swappableTokensSollet, solletMap] = useMemo(() => {\n    const tokens = tokenList.filter((t: TokenInfo) => {\n      const isSollet = t.tags?.includes(SPL_REGISTRY_SOLLET_TAG);\n      return isSollet;\n    });\n    tokens.sort((a: TokenInfo, b: TokenInfo) =>\n      a.symbol < b.symbol ? -1 : a.symbol > b.symbol ? 1 : 0\n    );\n    return [\n      tokens,\n      new Map<string, TokenInfo>(tokens.map((t: TokenInfo) => [t.address, t])),\n    ];\n  }, [tokenList]);\n\n  // Wormhole wrapped tokens.\n  const [swappableTokensWormhole, wormholeMap] = useMemo(() => {\n    const tokens = tokenList.filter((t: TokenInfo) => {\n      const isSollet = t.tags?.includes(SPL_REGISTRY_WORM_TAG);\n      return isSollet;\n    });\n    tokens.sort((a: TokenInfo, b: TokenInfo) =>\n      a.symbol < b.symbol ? -1 : a.symbol > b.symbol ? 1 : 0\n    );\n    return [\n      tokens,\n      new Map<string, TokenInfo>(tokens.map((t: TokenInfo) => [t.address, t])),\n    ];\n  }, [tokenList]);\n\n  return (\n    <_TokenListContext.Provider\n      value={{\n        tokenMap,\n        wormholeMap,\n        solletMap,\n        swappableTokens,\n        swappableTokensWormhole,\n        swappableTokensSollet,\n      }}\n    >\n      {props.children}\n    </_TokenListContext.Provider>\n  );\n}\n\nexport function useTokenListContext(): TokenListContext {\n  const ctx = useContext(_TokenListContext);\n  if (ctx === null) {\n    throw new Error(\"Context not available\");\n  }\n  return ctx;\n}\n\nexport function useTokenMap(): Map<string, TokenInfo> {\n  const { tokenMap } = useTokenListContext();\n  return tokenMap;\n}\n\nexport function useSwappableTokens() {\n  const { swappableTokens, swappableTokensWormhole, swappableTokensSollet } =\n    useTokenListContext();\n  return { swappableTokens, swappableTokensWormhole, swappableTokensSollet };\n}\n","import { useAsync, UseAsyncReturn } from \"react-async-hook\";\nimport { Connection, PublicKey } from \"@solana/web3.js\";\n\n// Token info tracked by the sollet bridge.\ntype SolletInfo = {\n  blockchain: string;\n  erc20Contract: string;\n  name: string;\n  splMint: PublicKey;\n  ticker: string;\n};\n\nexport function useSolletInfo(mint: PublicKey): UseAsyncReturn<SolletInfo> {\n  return useAsync(async () => {\n    return fetchSolletInfo(mint);\n  }, [mint]);\n}\n\n// Fetches the token info from the sollet bridge.\nexport async function fetchSolletInfo(mint: PublicKey): Promise<SolletInfo> {\n  let info = _SOLLET_INFO_CACHE.get(mint.toString());\n  if (info !== undefined) {\n    return info;\n  }\n\n  const infoRaw = await swapApiRequest(\"GET\", `coins/sol/${mint.toString()}`);\n  info = { ...infoRaw, splMint: new PublicKey(infoRaw.splMint) };\n  _SOLLET_INFO_CACHE.set(mint.toString(), info!);\n\n  return info!;\n}\n\n// Requests the creation of a sollet wormhole swap market, if it doesn't\n// already exist. Note: this triggers a creation notification. Creation\n// doesn't happen immediately, but at some unspecified point in the future\n// since market makers need to setup on the swap market and provide liquidity.\n//\n// Returns true if the market exists already. False otherwise.\nexport async function requestWormholeSwapMarketIfNeeded(\n  connection: Connection,\n  solletMint: PublicKey,\n  wormholeMint: PublicKey,\n  swapMarket: PublicKey,\n  solletInfo: SolletInfo\n): Promise<boolean> {\n  const cached = _SWAP_MARKET_EXISTS_CACHE.get(swapMarket.toString());\n  if (cached !== undefined) {\n    return cached;\n  }\n  const acc = await connection.getAccountInfo(swapMarket);\n  if (acc === null) {\n    _SWAP_MARKET_EXISTS_CACHE.set(swapMarket.toString(), false);\n    const resource = `wormhole/pool/${\n      solletInfo.ticker\n    }/${swapMarket.toString()}/${solletMint.toString()}/${wormholeMint.toString()}`;\n    swapApiRequest(\"POST\", resource).catch(console.error);\n    return false;\n  } else {\n    _SWAP_MARKET_EXISTS_CACHE.set(swapMarket.toString(), true);\n    return true;\n  }\n}\n\nexport async function swapApiRequest(\n  method: string,\n  path: string,\n  body?: Object\n) {\n  let headers: any = {};\n  let params: any = { headers, method };\n  if (method === \"GET\") {\n    params.cache = \"no-cache\";\n  } else if (body) {\n    headers[\"Content-Type\"] = \"application/json\";\n    params.body = JSON.stringify(body);\n  }\n  let resp = await fetch(`https://swap.sollet.io/api/${path}`, params);\n  return await handleSwapApiResponse(resp);\n}\n\nasync function handleSwapApiResponse(resp: Response) {\n  let json = await resp.json();\n  if (!json.success) {\n    throw new SwapApiError(json.error, resp.status);\n  }\n  return json.result;\n}\n\nexport class SwapApiError extends Error {\n  readonly name: string;\n  readonly status: number;\n  constructor(msg: string, status: number) {\n    super(msg);\n    this.name = \"SwapApiError\";\n    this.status = status;\n  }\n}\n\nconst _SOLLET_INFO_CACHE = new Map<string, SolletInfo>();\nconst _SWAP_MARKET_EXISTS_CACHE = new Map<string, boolean>();\n","// TODO: replace this whole file with something more modern. This is all copied\n//       from sollet.\n\nimport * as BufferLayout from \"buffer-layout\";\nimport { BN } from \"@project-serum/anchor\";\nimport {\n  TOKEN_PROGRAM_ID,\n  ASSOCIATED_TOKEN_PROGRAM_ID,\n  Token,\n  AccountInfo as TokenAccount,\n} from \"@solana/spl-token\";\nimport { Connection, PublicKey } from \"@solana/web3.js\";\n\nexport async function getOwnedAssociatedTokenAccounts(\n  connection: Connection,\n  publicKey: PublicKey\n) {\n  let filters = getOwnedAccountsFilters(publicKey);\n  // @ts-ignore\n  let resp = await connection.getProgramAccounts(TOKEN_PROGRAM_ID, {\n    commitment: connection.commitment,\n    filters,\n  });\n\n  const accs = resp\n    .map(({ pubkey, account: { data, executable, owner, lamports } }: any) => ({\n      publicKey: new PublicKey(pubkey),\n      accountInfo: {\n        data,\n        executable,\n        owner: new PublicKey(owner),\n        lamports,\n      },\n    }))\n    .map(({ publicKey, accountInfo }: any) => {\n      return { publicKey, account: parseTokenAccountData(accountInfo.data) };\n    });\n\n  return (\n    (\n      await Promise.all(\n        accs\n          // @ts-ignore\n          .map(async (ta) => {\n            const ata = await Token.getAssociatedTokenAddress(\n              ASSOCIATED_TOKEN_PROGRAM_ID,\n              TOKEN_PROGRAM_ID,\n              ta.account.mint,\n              publicKey\n            );\n            return [ta, ata];\n          })\n      )\n    )\n      // @ts-ignore\n      .filter(([ta, ata]) => ta.publicKey.equals(ata))\n      // @ts-ignore\n      .map(([ta]) => ta)\n  );\n}\n\nconst ACCOUNT_LAYOUT = BufferLayout.struct([\n  BufferLayout.blob(32, \"mint\"),\n  BufferLayout.blob(32, \"owner\"),\n  BufferLayout.nu64(\"amount\"),\n  BufferLayout.blob(93),\n]);\n\nexport function parseTokenAccountData(data: Buffer): TokenAccount {\n  // @ts-ignore\n  let { mint, owner, amount } = ACCOUNT_LAYOUT.decode(data);\n  // @ts-ignore\n  return {\n    mint: new PublicKey(mint),\n    owner: new PublicKey(owner),\n    amount: new BN(amount),\n  };\n}\n\nfunction getOwnedAccountsFilters(publicKey: PublicKey) {\n  return [\n    {\n      memcmp: {\n        // @ts-ignore\n        offset: ACCOUNT_LAYOUT.offsetOf(\"owner\"),\n        bytes: publicKey.toBase58(),\n      },\n    },\n    {\n      dataSize: ACCOUNT_LAYOUT.span,\n    },\n  ];\n}\n","import React, { useContext, useState, useEffect } from \"react\";\nimport * as assert from \"assert\";\nimport { useAsync } from \"react-async-hook\";\nimport { Provider, BN } from \"@project-serum/anchor\";\nimport { PublicKey, Account } from \"@solana/web3.js\";\nimport {\n  MintInfo,\n  AccountInfo as TokenAccount,\n  Token,\n  TOKEN_PROGRAM_ID,\n} from \"@solana/spl-token\";\nimport {\n  getOwnedAssociatedTokenAccounts,\n  parseTokenAccountData,\n} from \"../utils/tokens\";\nimport { SOL_MINT } from \"../utils/pubkeys\";\n\nexport type TokenContext = {\n  provider: Provider;\n};\nconst _TokenContext = React.createContext<TokenContext | null>(null);\n\nexport function TokenContextProvider(props: any) {\n  const provider = props.provider;\n  const [, setRefresh] = useState(0);\n\n  // Fetch all the owned token accounts for the wallet.\n  useEffect(() => {\n    if (!provider.wallet.publicKey) {\n      _OWNED_TOKEN_ACCOUNTS_CACHE.length = 0;\n      setRefresh((r) => r + 1);\n      return;\n    }\n    // Fetch SPL tokens.\n    getOwnedAssociatedTokenAccounts(\n      provider.connection,\n      provider.wallet.publicKey\n    ).then((accs) => {\n      if (accs) {\n        // @ts-ignore\n        _OWNED_TOKEN_ACCOUNTS_CACHE.push(...accs);\n        setRefresh((r) => r + 1);\n      }\n    });\n    // Fetch SOL balance.\n    provider.connection\n      .getAccountInfo(provider.wallet.publicKey)\n      .then((acc: { lamports: number }) => {\n        if (acc) {\n          _OWNED_TOKEN_ACCOUNTS_CACHE.push({\n            publicKey: provider.wallet.publicKey,\n            // @ts-ignore\n            account: {\n              amount: new BN(acc.lamports),\n              mint: SOL_MINT,\n            },\n          });\n          setRefresh((r) => r + 1);\n        }\n      });\n  }, [provider.wallet.publicKey, provider.connection]);\n\n  return (\n    <_TokenContext.Provider\n      value={{\n        provider,\n      }}\n    >\n      {props.children}\n    </_TokenContext.Provider>\n  );\n}\n\nfunction useTokenContext() {\n  const ctx = useContext(_TokenContext);\n  if (ctx === null) {\n    throw new Error(\"Context not available\");\n  }\n  return ctx;\n}\n\n// Null => none exists.\n// Undefined => loading.\nexport function useOwnedTokenAccount(\n  mint?: PublicKey\n): { publicKey: PublicKey; account: TokenAccount } | null | undefined {\n  const { provider } = useTokenContext();\n  const [, setRefresh] = useState(0);\n  const tokenAccounts = _OWNED_TOKEN_ACCOUNTS_CACHE.filter(\n    (account) => mint && account.account.mint.equals(mint)\n  );\n\n  // Take the account with the most tokens in it.\n  tokenAccounts.sort((a, b) =>\n    a.account.amount > b.account.amount\n      ? -1\n      : a.account.amount < b.account.amount\n      ? 1\n      : 0\n  );\n\n  let tokenAccount = tokenAccounts[0];\n  const isSol = mint?.equals(SOL_MINT);\n\n  // Stream updates when the balance changes.\n  useEffect(() => {\n    let listener: number;\n    // SOL is special cased since it's not an SPL token.\n    if (tokenAccount && isSol) {\n      listener = provider.connection.onAccountChange(\n        provider.wallet.publicKey,\n        (info: { lamports: number }) => {\n          const token = {\n            amount: new BN(info.lamports),\n            mint: SOL_MINT,\n          } as TokenAccount;\n          if (token.amount !== tokenAccount.account.amount) {\n            const index = _OWNED_TOKEN_ACCOUNTS_CACHE.indexOf(tokenAccount);\n            assert.ok(index >= 0);\n            _OWNED_TOKEN_ACCOUNTS_CACHE[index].account = token;\n            setRefresh((r) => r + 1);\n          }\n        }\n      );\n    }\n    // SPL tokens.\n    else if (tokenAccount) {\n      listener = provider.connection.onAccountChange(\n        tokenAccount.publicKey,\n        (info) => {\n          if (info.data.length !== 0) {\n            try {\n              const token = parseTokenAccountData(info.data);\n              if (token.amount !== tokenAccount.account.amount) {\n                const index = _OWNED_TOKEN_ACCOUNTS_CACHE.indexOf(tokenAccount);\n                assert.ok(index >= 0);\n                _OWNED_TOKEN_ACCOUNTS_CACHE[index].account = token;\n                setRefresh((r) => r + 1);\n              }\n            } catch (error) {\n              console.log(\"Failed to decode token AccountInfo\");\n            }\n          }\n        }\n      );\n    }\n    return () => {\n      if (listener) {\n        provider.connection.removeAccountChangeListener(listener);\n      }\n    };\n  }, [provider.connection, tokenAccount]);\n\n  if (mint === undefined) {\n    return undefined;\n  }\n\n  if (!isSol && tokenAccounts.length === 0) {\n    return null;\n  }\n\n  return tokenAccount;\n}\n\nexport function useMint(mint?: PublicKey): MintInfo | undefined | null {\n  const { provider } = useTokenContext();\n  // Lazy load the mint account if needeed.\n  const asyncMintInfo = useAsync(async () => {\n    if (!mint) {\n      return undefined;\n    }\n    if (_MINT_CACHE.get(mint.toString())) {\n      return _MINT_CACHE.get(mint.toString());\n    }\n\n    const mintClient = new Token(\n      provider.connection,\n      mint,\n      TOKEN_PROGRAM_ID,\n      new Account()\n    );\n    const mintInfo = mintClient.getMintInfo();\n    _MINT_CACHE.set(mint.toString(), mintInfo);\n    return mintInfo;\n  }, [provider.connection, mint]);\n\n  if (asyncMintInfo.result) {\n    return asyncMintInfo.result;\n  }\n  return undefined;\n}\n\nexport function setMintCache(pk: PublicKey, account: MintInfo) {\n  _MINT_CACHE.set(pk.toString(), new Promise((resolve) => resolve(account)));\n}\n\n// Cache storing all token accounts for the connected wallet provider.\nconst _OWNED_TOKEN_ACCOUNTS_CACHE: Array<{\n  publicKey: PublicKey;\n  account: TokenAccount;\n}> = [];\n\n// Cache storing all previously fetched mint infos.\n// @ts-ignore\nconst _MINT_CACHE = new Map<string, Promise<MintInfo>>([\n  [SOL_MINT.toString(), { decimals: 9 }],\n]);\n","import React, { useContext, useState, useEffect } from \"react\";\nimport * as assert from \"assert\";\nimport { useAsync } from \"react-async-hook\";\nimport { TokenInfo } from \"@solana/spl-token-registry\";\nimport { MintLayout } from \"@solana/spl-token\";\nimport { Connection, PublicKey } from \"@solana/web3.js\";\nimport * as anchor from \"@project-serum/anchor\";\nimport { Swap as SwapClient } from \"@project-serum/swap\";\nimport {\n  Market,\n  OpenOrders,\n  Orderbook as OrderbookSide,\n} from \"@project-serum/serum\";\nimport {\n  DEX_PID,\n  USDC_MINT,\n  USDT_MINT,\n  SOL_MINT,\n  WRAPPED_SOL_MINT,\n  WORM_USDC_MINT,\n  WORM_USDT_MINT,\n  WORM_USDC_MARKET,\n  WORM_USDT_MARKET,\n  WORM_MARKET_BASE,\n} from \"../utils/pubkeys\";\nimport { useTokenMap, useTokenListContext } from \"./TokenList\";\nimport { fetchSolletInfo, requestWormholeSwapMarketIfNeeded } from \"./Sollet\";\nimport { setMintCache } from \"./Token\";\n\nconst BASE_TAKER_FEE_BPS = 0.0022;\nexport const FEE_MULTIPLIER = 1 - BASE_TAKER_FEE_BPS;\n\ntype DexContext = {\n  // Maps market address to open orders accounts.\n  openOrders: Map<string, Array<OpenOrders>>;\n  closeOpenOrders: (openOrder: OpenOrders) => void;\n  swapClient: SwapClient;\n};\nconst _DexContext = React.createContext<DexContext | null>(null);\n\nexport function DexContextProvider(props: any) {\n  const [ooAccounts, setOoAccounts] = useState<Map<string, Array<OpenOrders>>>(\n    new Map()\n  );\n  const swapClient = props.swapClient;\n\n  // Removes the given open orders from the context.\n  const closeOpenOrders = async (openOrder: OpenOrders) => {\n    const newOoAccounts = new Map(ooAccounts);\n    const openOrders = newOoAccounts\n      .get(openOrder.market.toString())\n      ?.filter((oo: OpenOrders) => !oo.address.equals(openOrder.address));\n    if (openOrders && openOrders.length > 0) {\n      newOoAccounts.set(openOrder.market.toString(), openOrders);\n    } else {\n      newOoAccounts.delete(openOrder.market.toString());\n    }\n    setOoAccounts(newOoAccounts);\n  };\n\n  // Three operations:\n  //\n  // 1. Fetch all open orders accounts for the connected wallet.\n  // 2. Batch fetch all market accounts for those open orders.\n  // 3. Batch fetch all mints associated with the markets.\n  useEffect(() => {\n    if (!swapClient.program.provider.wallet.publicKey) {\n      setOoAccounts(new Map());\n      return;\n    }\n    OpenOrders.findForOwner(\n      swapClient.program.provider.connection,\n      swapClient.program.provider.wallet.publicKey,\n      DEX_PID\n    ).then(async (openOrders) => {\n      const newOoAccounts = new Map();\n      let markets = new Set<string>();\n      openOrders.forEach((oo) => {\n        markets.add(oo.market.toString());\n        if (newOoAccounts.get(oo.market.toString())) {\n          newOoAccounts.get(oo.market.toString()).push(oo);\n        } else {\n          newOoAccounts.set(oo.market.toString(), [oo]);\n        }\n      });\n      if (markets.size > 100) {\n        // Punt request chunking until there's user demand.\n        throw new Error(\n          \"Too many markets. Please file an issue to update this\"\n        );\n      }\n      const multipleMarkets = await anchor.utils.rpc.getMultipleAccounts(\n        swapClient.program.provider.connection,\n        Array.from(markets.values()).map((m) => new PublicKey(m))\n      );\n      const marketClients = multipleMarkets.map((programAccount) => {\n        return {\n          publicKey: programAccount?.publicKey,\n          account: new Market(\n            Market.getLayout(DEX_PID).decode(programAccount?.account.data),\n            -1, // Set below so that we can batch fetch mints.\n            -1, // Set below so that we can batch fetch mints.\n            swapClient.program.provider.opts,\n            DEX_PID\n          ),\n        };\n      });\n\n      setOoAccounts(newOoAccounts);\n\n      // Batch fetch all the mints, since we know we'll need them at some\n      // point.\n      const mintPubkeys = Array.from(\n        new Set<string>(\n          marketClients\n            .map((m) => [\n              m.account.baseMintAddress.toString(),\n              m.account.quoteMintAddress.toString(),\n            ])\n            .flat()\n        ).values()\n      ).map((pk) => new PublicKey(pk));\n\n      if (mintPubkeys.length > 100) {\n        // Punt request chunking until there's user demand.\n        throw new Error(\"Too many mints. Please file an issue to update this\");\n      }\n\n      const mints = await anchor.utils.rpc.getMultipleAccounts(\n        swapClient.program.provider.connection,\n        mintPubkeys\n      );\n      const mintInfos = mints.map((mint) => {\n        const mintInfo = MintLayout.decode(mint!.account.data);\n        setMintCache(mint!.publicKey, mintInfo);\n        return { publicKey: mint!.publicKey, mintInfo };\n      });\n\n      marketClients.forEach((m) => {\n        const baseMintInfo = mintInfos.filter((mint) =>\n          mint.publicKey.equals(m.account.baseMintAddress)\n        )[0];\n        const quoteMintInfo = mintInfos.filter((mint) =>\n          mint.publicKey.equals(m.account.quoteMintAddress)\n        )[0];\n        assert.ok(baseMintInfo && quoteMintInfo);\n        // @ts-ignore\n        m.account._baseSplTokenDecimals = baseMintInfo.mintInfo.decimals;\n        // @ts-ignore\n        m.account._quoteSplTokenDecimals = quoteMintInfo.mintInfo.decimals;\n        _MARKET_CACHE.set(\n          m.publicKey!.toString(),\n          new Promise<Market>((resolve) => resolve(m.account))\n        );\n      });\n    });\n  }, [\n    swapClient.program.provider.connection,\n    swapClient.program.provider.wallet.publicKey,\n    swapClient.program.provider.opts,\n  ]);\n  return (\n    <_DexContext.Provider\n      value={{\n        openOrders: ooAccounts,\n        closeOpenOrders,\n        swapClient,\n      }}\n    >\n      {props.children}\n    </_DexContext.Provider>\n  );\n}\n\nexport function useDexContext(): DexContext {\n  const ctx = useContext(_DexContext);\n  if (ctx === null) {\n    throw new Error(\"Context not available\");\n  }\n  return ctx;\n}\n\nexport function useOpenOrders(): Map<string, Array<OpenOrders>> {\n  const ctx = useDexContext();\n  return ctx.openOrders;\n}\n\n// Lazy load a given market.\nexport function useMarket(market?: PublicKey): Market | undefined {\n  const { swapClient } = useDexContext();\n\n  const asyncMarket = useAsync(async () => {\n    if (!market) {\n      return undefined;\n    }\n    if (_MARKET_CACHE.get(market.toString())) {\n      return _MARKET_CACHE.get(market.toString());\n    }\n\n    const marketClient = new Promise<Market>(async (resolve) => {\n      // TODO: if we already have the mints, then pass them through to the\n      //       market client here to save a network request.\n      const marketClient = await Market.load(\n        swapClient.program.provider.connection,\n        market,\n        swapClient.program.provider.opts,\n        DEX_PID\n      );\n      resolve(marketClient);\n    });\n\n    _MARKET_CACHE.set(market.toString(), marketClient);\n    return marketClient;\n  }, [swapClient.program.provider.connection, market]);\n\n  if (asyncMarket.result) {\n    return asyncMarket.result;\n  }\n\n  return undefined;\n}\n\n// Lazy load the orderbook for a given market.\nexport function useOrderbook(market?: PublicKey): Orderbook | undefined {\n  const { swapClient } = useDexContext();\n  const marketClient = useMarket(market);\n  const [refresh, setRefresh] = useState(0);\n\n  const asyncOrderbook = useAsync(async () => {\n    if (!market || !marketClient) {\n      return undefined;\n    }\n    if (_ORDERBOOK_CACHE.get(market.toString())) {\n      return _ORDERBOOK_CACHE.get(market.toString());\n    }\n\n    const orderbook = new Promise<Orderbook>(async (resolve) => {\n      const [bids, asks] = await Promise.all([\n        marketClient.loadBids(swapClient.program.provider.connection),\n        marketClient.loadAsks(swapClient.program.provider.connection),\n      ]);\n\n      resolve({\n        bids,\n        asks,\n      });\n    });\n\n    _ORDERBOOK_CACHE.set(market.toString(), orderbook);\n\n    return orderbook;\n  }, [refresh, swapClient.program.provider.connection, market, marketClient]);\n\n  // Stream in bids updates.\n  useEffect(() => {\n    let listener: number | undefined;\n    if (marketClient?.bidsAddress) {\n      listener = swapClient.program.provider.connection.onAccountChange(\n        marketClient?.bidsAddress,\n        async (info) => {\n          const bids = OrderbookSide.decode(marketClient, info.data);\n          const orderbook = await _ORDERBOOK_CACHE.get(\n            marketClient.address.toString()\n          );\n          const oldBestBid = orderbook?.bids.items(true).next().value;\n          const newBestBid = bids.items(true).next().value;\n          if (\n            orderbook &&\n            oldBestBid &&\n            newBestBid &&\n            oldBestBid.price !== newBestBid.price\n          ) {\n            orderbook.bids = bids;\n            setRefresh((r) => r + 1);\n          }\n        }\n      );\n    }\n    return () => {\n      if (listener) {\n        swapClient.program.provider.connection.removeAccountChangeListener(\n          listener\n        );\n      }\n    };\n  }, [\n    marketClient,\n    marketClient?.bidsAddress,\n    swapClient.program.provider.connection,\n  ]);\n\n  // Stream in asks updates.\n  useEffect(() => {\n    let listener: number | undefined;\n    if (marketClient?.asksAddress) {\n      listener = swapClient.program.provider.connection.onAccountChange(\n        marketClient?.asksAddress,\n        async (info) => {\n          const asks = OrderbookSide.decode(marketClient, info.data);\n          const orderbook = await _ORDERBOOK_CACHE.get(\n            marketClient.address.toString()\n          );\n          const oldBestOffer = orderbook?.asks.items(false).next().value;\n          const newBestOffer = asks.items(false).next().value;\n          if (\n            orderbook &&\n            oldBestOffer &&\n            newBestOffer &&\n            oldBestOffer.price !== newBestOffer.price\n          ) {\n            orderbook.asks = asks;\n            setRefresh((r) => r + 1);\n          }\n        }\n      );\n    }\n    return () => {\n      if (listener) {\n        swapClient.program.provider.connection.removeAccountChangeListener(\n          listener\n        );\n      }\n    };\n  }, [\n    marketClient,\n    marketClient?.bidsAddress,\n    swapClient.program.provider.connection,\n  ]);\n\n  if (asyncOrderbook.result) {\n    return asyncOrderbook.result;\n  }\n\n  return undefined;\n}\n\nexport function useMarketName(market: PublicKey): string | null {\n  const tokenMap = useTokenMap();\n  const marketClient = useMarket(market);\n  if (!marketClient) {\n    return null;\n  }\n  const baseTicker = marketClient\n    ? tokenMap.get(marketClient?.baseMintAddress.toString())?.symbol\n    : \"-\";\n  const quoteTicker = marketClient\n    ? tokenMap.get(marketClient?.quoteMintAddress.toString())?.symbol\n    : \"-\";\n  const name = `${baseTicker} / ${quoteTicker}`;\n  return name;\n}\n\n// Fair price for a given market, as defined by the mid.\nexport function useBbo(market?: PublicKey): Bbo | undefined {\n  const orderbook = useOrderbook(market);\n  if (orderbook === undefined) {\n    return undefined;\n  }\n  const bestBid = orderbook.bids.items(true).next().value;\n  const bestOffer = orderbook.asks.items(false).next().value;\n  if (!bestBid && !bestOffer) {\n    return {};\n  }\n  if (!bestBid) {\n    return { bestOffer: bestOffer.price };\n  }\n  if (!bestOffer) {\n    return { bestBid: bestBid.price };\n  }\n  const mid = (bestBid.price + bestOffer.price) / 2.0;\n  return { bestBid: bestBid.price, bestOffer: bestOffer.price, mid };\n}\n\n// Fair price for a theoretical toMint/fromMint market. I.e., the number\n// of `fromMint` tokens to purchase a single `toMint` token. Aggregates\n// across a trade route, if needed.\nexport function useFairRoute(\n  fromMint: PublicKey,\n  toMint: PublicKey\n): number | undefined {\n  const route = useRoute(fromMint, toMint);\n  const fromBbo = useBbo(route ? route[0] : undefined);\n  const fromMarket = useMarket(route ? route[0] : undefined);\n  const toBbo = useBbo(route ? route[1] : undefined);\n\n  if (route === null) {\n    return undefined;\n  }\n\n  if (route.length === 1 && fromBbo !== undefined) {\n    if (fromMarket === undefined) {\n      return undefined;\n    }\n    if (\n      fromMarket?.baseMintAddress.equals(fromMint) ||\n      (fromMarket?.baseMintAddress.equals(WRAPPED_SOL_MINT) &&\n        fromMint.equals(SOL_MINT))\n    ) {\n      return fromBbo.bestBid && 1.0 / fromBbo.bestBid;\n    } else {\n      return fromBbo.bestOffer && fromBbo.bestOffer;\n    }\n  }\n  if (\n    fromBbo === undefined ||\n    fromBbo.bestBid === undefined ||\n    toBbo === undefined ||\n    toBbo.bestOffer === undefined\n  ) {\n    return undefined;\n  }\n  return toBbo.bestOffer / fromBbo.bestBid;\n}\n\nexport function useRoute(\n  fromMint: PublicKey,\n  toMint: PublicKey\n): Array<PublicKey> | null {\n  const route = useRouteVerbose(fromMint, toMint);\n  if (route === null) {\n    return null;\n  }\n  return route.markets;\n}\n\n// Types of routes.\n//\n// 1. Direct trades on USDC quoted markets.\n// 2. Transitive trades across two USDC qutoed markets.\n// 3. Wormhole <-> Sollet one-to-one swap markets.\n// 4. Wormhole <-> Native one-to-one swap markets.\n//\nexport function useRouteVerbose(\n  fromMint: PublicKey,\n  toMint: PublicKey\n): { markets: Array<PublicKey>; kind: RouteKind } | null {\n  const { swapClient } = useDexContext();\n  const { wormholeMap, solletMap } = useTokenListContext();\n  const asyncRoute = useAsync(async () => {\n    const swapMarket = await wormholeSwapMarket(\n      swapClient.program.provider.connection,\n      fromMint,\n      toMint,\n      wormholeMap,\n      solletMap\n    );\n    if (swapMarket !== null) {\n      const [wormholeMarket, kind] = swapMarket;\n      return { markets: [wormholeMarket], kind };\n    }\n    const markets = swapClient.route(\n      fromMint.equals(SOL_MINT) ? WRAPPED_SOL_MINT : fromMint,\n      toMint.equals(SOL_MINT) ? WRAPPED_SOL_MINT : toMint\n    );\n    if (markets === null) {\n      return null;\n    }\n    const kind: RouteKind = \"usdx\";\n    return { markets, kind };\n  }, [fromMint, toMint, swapClient]);\n\n  if (asyncRoute.result) {\n    return asyncRoute.result;\n  }\n  return null;\n}\n\ntype Orderbook = {\n  bids: OrderbookSide;\n  asks: OrderbookSide;\n};\n\n// Wormhole utils.\n\ntype RouteKind = \"wormhole-native\" | \"wormhole-sollet\" | \"usdx\";\n\n// Maps fromMint || toMint (in sort order) to swap market public key.\n// All markets for wormhole<->native tokens should be here, e.g.\n// USDC <-> wUSDC.\nconst WORMHOLE_NATIVE_MAP = new Map<string, PublicKey>([\n  [wormKey(WORM_USDC_MINT, USDC_MINT), WORM_USDC_MARKET],\n  [wormKey(WORM_USDT_MINT, USDT_MINT), WORM_USDT_MARKET],\n]);\n\nfunction wormKey(fromMint: PublicKey, toMint: PublicKey): string {\n  const [first, second] =\n    fromMint < toMint ? [fromMint, toMint] : [toMint, fromMint];\n  return first.toString() + second.toString();\n}\n\nasync function wormholeSwapMarket(\n  conn: Connection,\n  fromMint: PublicKey,\n  toMint: PublicKey,\n  wormholeMap: Map<string, TokenInfo>,\n  solletMap: Map<string, TokenInfo>\n): Promise<[PublicKey, RouteKind] | null> {\n  let market = wormholeNativeMarket(fromMint, toMint);\n  if (market !== null) {\n    return [market, \"wormhole-native\"];\n  }\n  market = await wormholeSolletMarket(\n    conn,\n    fromMint,\n    toMint,\n    wormholeMap,\n    solletMap\n  );\n  if (market === null) {\n    return null;\n  }\n  return [market, \"wormhole-sollet\"];\n}\n\nfunction wormholeNativeMarket(\n  fromMint: PublicKey,\n  toMint: PublicKey\n): PublicKey | null {\n  return WORMHOLE_NATIVE_MAP.get(wormKey(fromMint, toMint)) ?? null;\n}\n\n// Returns the market address of the 1-1 sollet<->wormhole swap market if it\n// exists. Otherwise, returns null.\nasync function wormholeSolletMarket(\n  conn: Connection,\n  fromMint: PublicKey,\n  toMint: PublicKey,\n  wormholeMap: Map<string, TokenInfo>,\n  solletMap: Map<string, TokenInfo>\n): Promise<PublicKey | null> {\n  const fromWormhole = wormholeMap.get(fromMint.toString());\n  const isFromWormhole = fromWormhole !== undefined;\n\n  const toWormhole = wormholeMap.get(toMint.toString());\n  const isToWormhole = toWormhole !== undefined;\n\n  const fromSollet = solletMap.get(fromMint.toString());\n  const isFromSollet = fromSollet !== undefined;\n\n  const toSollet = solletMap.get(toMint.toString());\n  const isToSollet = toSollet !== undefined;\n\n  if ((isFromWormhole || isToWormhole) && isFromWormhole !== isToWormhole) {\n    if ((isFromSollet || isToSollet) && isFromSollet !== isToSollet) {\n      const base = isFromSollet ? fromMint : toMint;\n      const [quote, wormholeInfo] = isFromWormhole\n        ? [fromMint, fromWormhole]\n        : [toMint, toWormhole];\n\n      const solletInfo = await fetchSolletInfo(base);\n\n      if (solletInfo.erc20Contract !== wormholeInfo!.extensions?.address) {\n        return null;\n      }\n\n      const market = await deriveWormholeMarket(base, quote);\n      if (market === null) {\n        return null;\n      }\n\n      const marketExists = await requestWormholeSwapMarketIfNeeded(\n        conn,\n        base,\n        quote,\n        market,\n        solletInfo\n      );\n      if (!marketExists) {\n        return null;\n      }\n\n      return market;\n    }\n  }\n  return null;\n}\n\n// Calculates the deterministic address for the sollet<->wormhole 1-1 swap\n// market.\nasync function deriveWormholeMarket(\n  baseMint: PublicKey,\n  quoteMint: PublicKey,\n  version = 0\n): Promise<PublicKey | null> {\n  if (version > 99) {\n    console.log(\"Swap market version cannot be greater than 99\");\n    return null;\n  }\n  if (version < 0) {\n    console.log(\"Version cannot be less than zero\");\n    return null;\n  }\n\n  const padToTwo = (n: number) => (n <= 99 ? `0${n}`.slice(-2) : n);\n  const seed =\n    baseMint.toString().slice(0, 15) +\n    quoteMint.toString().slice(0, 15) +\n    padToTwo(version);\n  return await PublicKey.createWithSeed(WORM_MARKET_BASE, seed, DEX_PID);\n}\n\ntype Bbo = {\n  bestBid?: number;\n  bestOffer?: number;\n  mid?: number;\n};\n\nconst _ORDERBOOK_CACHE = new Map<string, Promise<Orderbook>>();\nconst _MARKET_CACHE = new Map<string, Promise<Market>>();\n","import * as assert from \"assert\";\nimport React, { useContext, useState, useEffect } from \"react\";\nimport { useAsync } from \"react-async-hook\";\nimport { PublicKey } from \"@solana/web3.js\";\nimport {\n  Token,\n  ASSOCIATED_TOKEN_PROGRAM_ID,\n  TOKEN_PROGRAM_ID,\n} from \"@solana/spl-token\";\nimport { Market } from \"@project-serum/serum\";\nimport { SRM_MINT, USDC_MINT, USDT_MINT, TEZ_MINT, QUP_MINT } from \"../utils/pubkeys\";\nimport {\n  useFairRoute,\n  useRouteVerbose,\n  useDexContext,\n  FEE_MULTIPLIER,\n} from \"./Dex\";\nimport {\n  useTokenListContext,\n  SPL_REGISTRY_SOLLET_TAG,\n  SPL_REGISTRY_WORM_TAG,\n} from \"./TokenList\";\nimport { useOwnedTokenAccount } from \"../context/Token\";\n\nconst DEFAULT_SLIPPAGE_PERCENT = 0.5;\n\nexport type SwapContext = {\n  // Mint being traded from. The user must own these tokens.\n  fromMint: PublicKey;\n  setFromMint: (m: PublicKey) => void;\n\n  // Mint being traded to. The user will receive these tokens after the swap.\n  toMint: PublicKey;\n  setToMint: (m: PublicKey) => void;\n\n  // Amount used for the swap.\n  fromAmount: number;\n  setFromAmount: (a: number) => void;\n\n  // *Expected* amount received from the swap.\n  toAmount: number;\n  setToAmount: (a: number) => void;\n\n  // Function to flip what we consider to be the \"to\" and \"from\" mints.\n  swapToFromMints: () => void;\n\n  // The amount (in units of percent) a swap can be off from the estimate\n  // shown to the user.\n  slippage: number;\n  setSlippage: (n: number) => void;\n\n  // Null if the user is using fairs directly from DEX prices.\n  // Otherwise, a user specified override for the price to use when calculating\n  // swap amounts.\n  fairOverride: number | null;\n  setFairOverride: (n: number | null) => void;\n\n  // The referral *owner* address. Associated token accounts must be created,\n  // first, for this to be used.\n  referral?: PublicKey;\n\n  // True if all newly created market accounts should be closed in the\n  // same user flow (ideally in the same transaction).\n  isClosingNewAccounts: boolean;\n\n  // True if the swap exchange rate should be a function of nothing but the\n  // from and to tokens, ignoring any quote tokens that may have been\n  // accumulated by performing the swap.\n  //\n  // Always false (for now).\n  isStrict: boolean;\n  setIsStrict: (isStrict: boolean) => void;\n\n  setIsClosingNewAccounts: (b: boolean) => void;\n};\nconst _SwapContext = React.createContext<null | SwapContext>(null);\n\nexport function SwapContextProvider(props: any) {\n  const [fromMint, setFromMint] = useState(props.fromMint ?? TEZ_MINT);\n  const [toMint, setToMint] = useState(props.toMint ?? QUP_MINT);\n  const [fromAmount, _setFromAmount] = useState(props.fromAmount ?? 0);\n  const [toAmount, _setToAmount] = useState(props.toAmount ?? 0);\n  const [isClosingNewAccounts, setIsClosingNewAccounts] = useState(false);\n  const [isStrict, setIsStrict] = useState(false);\n  const [slippage, setSlippage] = useState(DEFAULT_SLIPPAGE_PERCENT);\n  const [fairOverride, setFairOverride] = useState<number | null>(null);\n  const fair = _useSwapFair(fromMint, toMint, fairOverride);\n  const referral = props.referral;\n\n  assert.ok(slippage >= 0);\n\n  useEffect(() => {\n    if (!fair) {\n      return;\n    }\n    setFromAmount(fromAmount);\n  }, [fair]);\n\n  const swapToFromMints = () => {\n    const oldFrom = fromMint;\n    const oldTo = toMint;\n    const oldToAmount = toAmount;\n    _setFromAmount(oldToAmount);\n    setFromMint(oldTo);\n    setToMint(oldFrom);\n  };\n\n  const setFromAmount = (amount: number) => {\n    if (fair === undefined) {\n      _setFromAmount(0);\n      _setToAmount(0);\n      return;\n    }\n    _setFromAmount(amount);\n    _setToAmount(FEE_MULTIPLIER * (amount / fair));\n  };\n\n  const setToAmount = (amount: number) => {\n    if (fair === undefined) {\n      _setFromAmount(0);\n      _setToAmount(0);\n      return;\n    }\n    _setToAmount(amount);\n    _setFromAmount((amount * fair) / FEE_MULTIPLIER);\n  };\n\n  return (\n    <_SwapContext.Provider\n      value={{\n        fromMint,\n        setFromMint,\n        toMint,\n        setToMint,\n        fromAmount,\n        setFromAmount,\n        toAmount,\n        setToAmount,\n        swapToFromMints,\n        slippage,\n        setSlippage,\n        fairOverride,\n        setFairOverride,\n        isClosingNewAccounts,\n        isStrict,\n        setIsStrict,\n        setIsClosingNewAccounts,\n        referral,\n      }}\n    >\n      {props.children}\n    </_SwapContext.Provider>\n  );\n}\n\nexport function useSwapContext(): SwapContext {\n  const ctx = useContext(_SwapContext);\n  if (ctx === null) {\n    throw new Error(\"Context not available\");\n  }\n  return ctx;\n}\n\nexport function useSwapFair(): number | undefined {\n  const { fairOverride, fromMint, toMint } = useSwapContext();\n  return _useSwapFair(fromMint, toMint, fairOverride);\n}\n\nfunction _useSwapFair(\n  fromMint: PublicKey,\n  toMint: PublicKey,\n  fairOverride: number | null\n): number | undefined {\n  const fairRoute = useFairRoute(fromMint, toMint);\n  const fair = fairOverride === null ? fairRoute : fairOverride;\n  return fair;\n}\n\n// Returns true if the user can swap with the current context.\nexport function useCanSwap(): boolean {\n  const { fromMint, toMint, fromAmount, toAmount } = useSwapContext();\n  const { swapClient } = useDexContext();\n  const { wormholeMap, solletMap } = useTokenListContext();\n  const fromWallet = useOwnedTokenAccount(fromMint);\n  const fair = useSwapFair();\n  const route = useRouteVerbose(fromMint, toMint);\n  if (route === null) {\n    return false;\n  }\n\n  return (\n    // From wallet exists.\n    fromWallet !== undefined &&\n    fromWallet !== null &&\n    // Fair price is defined.\n    fair !== undefined &&\n    fair > 0 &&\n    // Mints are distinct.\n    fromMint.equals(toMint) === false &&\n    // Wallet is connected.\n    swapClient.program.provider.wallet.publicKey !== null &&\n    // Trade amounts greater than zero.\n    fromAmount > 0 &&\n    toAmount > 0 &&\n    // Trade route exists.\n    route !== null &&\n    // Wormhole <-> native markets must have the wormhole token as the\n    // *from* address since they're one-sided markets.\n    (route.kind !== \"wormhole-native\" ||\n      wormholeMap\n        .get(fromMint.toString())\n        ?.tags?.includes(SPL_REGISTRY_WORM_TAG) !== undefined) &&\n    // Wormhole <-> sollet markets must have the sollet token as the\n    // *from* address since they're one sided markets.\n    (route.kind !== \"wormhole-sollet\" ||\n      solletMap\n        .get(fromMint.toString())\n        ?.tags?.includes(SPL_REGISTRY_SOLLET_TAG) !== undefined)\n  );\n}\n\nexport function useReferral(fromMarket?: Market): PublicKey | undefined {\n  const { referral } = useSwapContext();\n  const asyncReferral = useAsync(async () => {\n    if (!referral) {\n      return undefined;\n    }\n    if (!fromMarket) {\n      return undefined;\n    }\n    if (\n      !fromMarket.quoteMintAddress.equals(USDC_MINT) &&\n      !fromMarket.quoteMintAddress.equals(USDT_MINT)\n    ) {\n      return undefined;\n    }\n\n    return Token.getAssociatedTokenAddress(\n      ASSOCIATED_TOKEN_PROGRAM_ID,\n      TOKEN_PROGRAM_ID,\n      fromMarket.quoteMintAddress,\n      referral\n    );\n  }, [fromMarket]);\n\n  if (!asyncReferral.result) {\n    return undefined;\n  }\n  return asyncReferral.result;\n}\n","import { useState } from \"react\";\nimport { PublicKey } from \"@solana/web3.js\";\nimport { TokenInfo } from \"@solana/spl-token-registry\";\nimport {\n  makeStyles,\n  Dialog,\n  DialogTitle,\n  DialogContent,\n  DialogActions,\n  TextField,\n  List,\n  ListItem,\n  Typography,\n  Tabs,\n  Tab,\n} from \"@material-ui/core\";\nimport { TokenIcon } from \"./Swap\";\nimport { useSwappableTokens } from \"../context/TokenList\";\nimport { useMediaQuery } from \"@material-ui/core\";\n\nconst useStyles = makeStyles((theme) => ({\n  dialogContent: {\n    padding: 0,\n  },\n  textField: {\n    marginBottom: \"8px\",\n    color: \"#fff\",\n  },\n  tab: {\n    minWidth: \"134px\",\n  },\n  tabSelected: {\n    color: theme.palette.grey[50],\n    fontWeight: 700,\n    backgroundColor: theme.palette.primary.main,\n    borderRadius: \"10px\",\n  },\n  tabIndicator: {\n    opacity: 0,\n  },\n  input: {\n    color: \"white !important\"\n  },\n}));\n\nexport default function TokenDialog({\n  open,\n  onClose,\n  setMint,\n}: {\n  open: boolean;\n  onClose: () => void;\n  setMint: (mint: PublicKey) => void;\n}) {\n  const [tabSelection, setTabSelection] = useState(0);\n  const [tokenFilter, setTokenFilter] = useState(\"\");\n  const filter = tokenFilter.toLowerCase();\n  const styles = useStyles();\n  const { swappableTokens, swappableTokensSollet, swappableTokensWormhole } =\n    useSwappableTokens();\n  const displayTabs = !useMediaQuery(\"(max-width:450px)\");\n  const selectedTokens =\n    tabSelection === 0\n      ? swappableTokens\n      : tabSelection === 1\n      ? swappableTokensWormhole\n      : swappableTokensSollet;\n  let tokens =\n    tokenFilter === \"\"\n      ? selectedTokens\n      : selectedTokens.filter(\n          (t) =>\n            t.symbol.toLowerCase().startsWith(filter) ||\n            t.name.toLowerCase().startsWith(filter) ||\n            t.address.toLowerCase().startsWith(filter)\n        );\n\n\n  return (\n    <Dialog\n      open={open}\n      onClose={onClose}\n      scroll={\"paper\"}\n      PaperProps={{\n        style: {\n          borderRadius: \"10px\",\n          background: \"#22242a\",\n          color: \"white !important\",\n          width: \"420px\",\n        },\n      }}\n    >\n      <DialogTitle style={{ fontWeight: \"bold\" }}>\n        <Typography variant=\"h6\" style={{ paddingBottom: \"16px\", color: \"white\" }}>\n          Select a token\n        </Typography>\n        <TextField\n          className={styles.textField}\n          InputProps={{\n            classes: {\n              input: styles.input,\n            },\n          }}\n          placeholder={\"Search name\"}\n          value={tokenFilter}\n          fullWidth\n          variant=\"outlined\"\n          onChange={(e) => setTokenFilter(e.target.value)}\n        />\n      </DialogTitle>\n      <DialogContent className={styles.dialogContent} dividers={true}>\n        <List disablePadding>\n          {tokens.map((tokenInfo: TokenInfo) => (\n            <TokenListItem\n              key={tokenInfo.address}\n              tokenInfo={tokenInfo}\n              onClick={(mint) => {\n                setMint(mint);\n                onClose();\n              }}\n            />\n          ))}\n        </List>\n      </DialogContent>\n\n      {/* {displayTabs && (\n        <DialogActions>\n          <Tabs\n            value={tabSelection}\n            onChange={(e, v) => setTabSelection(v)}\n            classes={{\n              indicator: styles.tabIndicator,\n            }}\n          >\n            <Tab\n              value={0}\n              className={styles.tab}\n              classes={{ selected: styles.tabSelected }}\n              label=\"Main\"\n            />\n            <Tab\n              value={1}\n              className={styles.tab}\n              classes={{ selected: styles.tabSelected }}\n              label=\"Wormhole\"\n            />\n            <Tab\n              value={2}\n              className={styles.tab}\n              classes={{ selected: styles.tabSelected }}\n              label=\"Sollet\"\n            />\n          </Tabs>\n        </DialogActions>\n      )} */}\n      \n    </Dialog>\n  );\n}\n\nfunction TokenListItem({\n  tokenInfo,\n  onClick,\n}: {\n  tokenInfo: TokenInfo;\n  onClick: (mint: PublicKey) => void;\n}) {\n  const mint = new PublicKey(tokenInfo.address);\n  return (\n    <ListItem\n      button\n      onClick={() => onClick(mint)}\n      style={{ padding: \"10px 20px\" }}\n    >\n      <TokenIcon mint={mint} style={{ height: \"30px\", borderRadius: \"15px\", color: \"white\" }} />\n      <TokenName tokenInfo={tokenInfo} />\n    </ListItem>\n  );\n}\n\nfunction TokenName({ tokenInfo }: { tokenInfo: TokenInfo }) {\n  return (\n    <div style={{ marginLeft: \"16px\" }}>\n      <Typography style={{ fontWeight: \"bold\", color: \"#fff\" }}>\n        {tokenInfo?.symbol}\n      </Typography>\n      <Typography style={{ fontSize: \"14px\", color: \"#999\" }}>\n        {tokenInfo?.name}\n      </Typography>\n    </div>\n  );\n}\n","import { useState, useMemo, useEffect } from \"react\";\nimport { PublicKey } from \"@solana/web3.js\";\nimport { MintInfo } from \"@solana/spl-token\";\nimport { BN } from \"@project-serum/anchor\";\nimport { OpenOrders } from \"@project-serum/serum\";\nimport {\n  makeStyles,\n  Dialog,\n  DialogContent,\n  Paper,\n  Table,\n  TableRow,\n  TableHead,\n  TableCell,\n  TableBody,\n  TableContainer,\n  IconButton,\n  Typography,\n  Button,\n  Select,\n  MenuItem,\n  Link,\n} from \"@material-ui/core\";\nimport { Close } from \"@material-ui/icons\";\nimport { useMarket, useOpenOrders, useDexContext } from \"../context/Dex\";\nimport { useTokenMap } from \"../context/TokenList\";\nimport { useMint, useOwnedTokenAccount } from \"../context/Token\";\nimport { DEX_PID } from \"../utils/pubkeys\";\n\nconst useStyles = makeStyles((theme) => ({\n  table: {},\n  closeAccount: {\n    color: theme.palette.error.main,\n  },\n}));\n\nexport default function OpenOrdersDialog({\n  open,\n  onClose,\n}: {\n  open: boolean;\n  onClose: () => void;\n}) {\n  return (\n    <Dialog\n      maxWidth=\"lg\"\n      open={open}\n      onClose={onClose}\n      PaperProps={{\n        style: {\n          borderRadius: \"10px\",\n        },\n      }}\n    >\n      <div\n        style={{\n          display: \"flex\",\n          justifyContent: \"flex-end\",\n        }}\n      >\n        <IconButton\n          onClick={onClose}\n          style={{\n            padding: 10,\n          }}\n        >\n          <Close />\n        </IconButton>\n      </div>\n      <DialogContent style={{ paddingTop: 0 }}>\n        <OpenOrdersAccounts />\n      </DialogContent>\n    </Dialog>\n  );\n}\n\nfunction OpenOrdersAccounts() {\n  const styles = useStyles();\n  const openOrders = useOpenOrders();\n  const openOrdersEntries: Array<[PublicKey, OpenOrders[]]> = useMemo(() => {\n    return Array.from(openOrders.entries()).map(([market, oo]) => [\n      new PublicKey(market),\n      oo,\n    ]);\n  }, [openOrders]);\n  return (\n    <TableContainer component={Paper} elevation={0}>\n      <Table className={styles.table} aria-label=\"simple table\">\n        <TableHead>\n          <TableRow>\n            <TableCell>Market</TableCell>\n            <TableCell align=\"center\">Open Orders Account</TableCell>\n            <TableCell align=\"center\">Base Used</TableCell>\n            <TableCell align=\"center\">Base Free</TableCell>\n            <TableCell align=\"center\">Quote Used</TableCell>\n            <TableCell align=\"center\">Quote Free</TableCell>\n            <TableCell align=\"center\">Settle</TableCell>\n            <TableCell align=\"center\">Close</TableCell>\n          </TableRow>\n        </TableHead>\n        <TableBody>\n          {openOrdersEntries.map(([market, oos]) => {\n            return (\n              <OpenOrdersRow\n                key={market.toString()}\n                market={market}\n                openOrders={oos}\n              />\n            );\n          })}\n        </TableBody>\n      </Table>\n    </TableContainer>\n  );\n}\n\nfunction OpenOrdersRow({\n  market,\n  openOrders,\n}: {\n  market: PublicKey;\n  openOrders: Array<OpenOrders>;\n}) {\n  const styles = useStyles();\n  const [ooAccount, setOoAccount] = useState(openOrders[0]);\n  useEffect(() => {\n    setOoAccount(openOrders[0]);\n  }, [openOrders]);\n  const { swapClient, closeOpenOrders } = useDexContext();\n  const marketClient = useMarket(market);\n  const tokenMap = useTokenMap();\n  const base = useMint(marketClient?.baseMintAddress);\n  const quote = useMint(marketClient?.quoteMintAddress);\n  const baseWallet = useOwnedTokenAccount(marketClient?.baseMintAddress);\n  const quoteWallet = useOwnedTokenAccount(marketClient?.quoteMintAddress);\n  const baseTicker = marketClient\n    ? tokenMap.get(marketClient?.baseMintAddress.toString())?.symbol\n    : \"-\";\n  const quoteTicker = marketClient\n    ? tokenMap.get(marketClient?.quoteMintAddress.toString())?.symbol\n    : \"-\";\n  const marketName =\n    baseTicker && quoteTicker\n      ? `${baseTicker} / ${quoteTicker}`\n      : market.toString();\n  const settleDisabled =\n    ooAccount.baseTokenFree.toNumber() + ooAccount.quoteTokenFree.toNumber() ===\n    0;\n  const closeDisabled =\n    ooAccount.baseTokenTotal.toNumber() +\n      ooAccount.quoteTokenTotal.toNumber() !==\n    0;\n\n  const settleFunds = async () => {\n    if (!marketClient) {\n      throw new Error(\"Market client not found\");\n    }\n    if (!baseWallet || !quoteWallet) {\n      throw new Error(\"Base or quote wallet not found\");\n    }\n    const referrerWallet = undefined;\n    const { transaction, signers } =\n      await marketClient.makeSettleFundsTransaction(\n        swapClient.program.provider.connection,\n        ooAccount,\n        baseWallet.publicKey,\n        quoteWallet.publicKey,\n        referrerWallet\n      );\n    await swapClient.program.provider.send(transaction, signers);\n  };\n\n  const _closeOpenOrders = async () => {\n    await swapClient.program.rpc.closeAccount({\n      accounts: {\n        openOrders: ooAccount.address,\n        authority: swapClient.program.provider.wallet.publicKey,\n        destination: swapClient.program.provider.wallet.publicKey,\n        market: marketClient!.address,\n        dexProgram: DEX_PID,\n      },\n    });\n    closeOpenOrders(ooAccount);\n  };\n\n  return (\n    <TableRow key={market.toString()}>\n      <TableCell component=\"th\" scope=\"row\">\n        <Typography>\n          <Link\n            href={`https://dex.projectserum.com/#/market/${market.toString()}`}\n            target=\"_blank\"\n            rel=\"noopener\"\n          >\n            {marketName}\n          </Link>\n        </Typography>\n      </TableCell>\n      <TableCell align=\"center\">\n        <Select\n          value={ooAccount.address.toString()}\n          onChange={(e) =>\n            setOoAccount(\n              openOrders.filter(\n                (oo) => oo.address.toString() === e.target.value\n              )[0]\n            )\n          }\n        >\n          {openOrders.map((oo) => {\n            return (\n              <MenuItem\n                key={oo.address.toString()}\n                value={oo.address.toString()}\n              >\n                {oo.address.toString()}\n              </MenuItem>\n            );\n          })}\n        </Select>\n      </TableCell>\n      <TableCell align=\"center\">\n        {toDisplay(base, ooAccount.baseTokenTotal.sub(ooAccount.baseTokenFree))}\n      </TableCell>\n      <TableCell align=\"center\">\n        {toDisplay(base, ooAccount.baseTokenFree)}\n      </TableCell>\n      <TableCell align=\"center\">\n        {toDisplay(\n          quote,\n          ooAccount.quoteTokenTotal.sub(ooAccount.quoteTokenFree)\n        )}\n      </TableCell>\n      <TableCell align=\"center\">\n        {toDisplay(quote, ooAccount.quoteTokenFree)}\n      </TableCell>\n      <TableCell align=\"center\">\n        <Button color=\"primary\" disabled={settleDisabled} onClick={settleFunds}>\n          Settle\n        </Button>\n      </TableCell>\n      <TableCell align=\"center\">\n        <Button\n          disabled={closeDisabled}\n          onClick={_closeOpenOrders}\n          className={styles.closeAccount}\n        >\n          Close\n        </Button>\n      </TableCell>\n    </TableRow>\n  );\n}\n\nfunction toDisplay(mintInfo: MintInfo | undefined | null, value: BN): string {\n  if (!mintInfo) {\n    return value.toNumber().toString();\n  }\n  return (value.toNumber() / 10 ** mintInfo.decimals).toFixed(\n    mintInfo.decimals\n  );\n}\n","import { useState } from \"react\";\nimport {\n  makeStyles,\n  Popover,\n  IconButton,\n  Typography,\n  Button,\n  TextField,\n  InputAdornment,\n  Switch,\n  FormControlLabel,\n  FormGroup,\n} from \"@material-ui/core\";\nimport { SettingsOutlined as Settings } from \"@material-ui/icons\";\nimport PopupState, { bindTrigger, bindPopover } from \"material-ui-popup-state\";\nimport { useSwapContext, useSwapFair } from \"../context/Swap\";\nimport { useDexContext } from \"../context/Dex\";\nimport OpenOrdersDialog from \"./OpenOrdersDialog\";\n\nconst useStyles = makeStyles((theme) => ({\n  tab: {\n    width: \"50%\",\n  },\n  table: {},\n  settingsButton: {\n    padding: 0,\n    color: theme.palette.grey[50],\n  },\n  closeAccountSwitchLabel: {\n    color: theme.palette.text.secondary,\n  },\n  fairAutoSelected: {\n    backgroundColor: theme.palette.primary.main,\n    padding: \"3px 5px\",\n    borderRadius: \"10px\",\n    color: theme.palette.grey[50],\n    fontWeight: 700,\n  },\n  fairAuto: {\n    backgroundColor:\n      theme.palette.type === \"dark\"\n        ? theme.palette.grey[50]\n        : theme.palette.grey[100],\n    padding: \"3px 5px\",\n    borderRadius: \"10px\",\n    boxShadow: \"none\",\n  },\n  input: {\n    color: \"#ccc !important\"\n  },\n}));\n\nexport function SettingsButton() {\n  const styles = useStyles();\n\n  return (\n    <PopupState variant=\"popover\">\n      {\n        //@ts-ignore\n        (popupState) => (\n          <div>\n            <IconButton\n              {...bindTrigger(popupState)}\n              className={styles.settingsButton}\n            >\n              <Settings fontSize=\"small\" />\n            </IconButton>\n            <Popover\n              {...bindPopover(popupState)}\n              anchorOrigin={{\n                vertical: \"bottom\",\n                horizontal: \"left\",\n              }}\n              transformOrigin={{\n                vertical: \"top\",\n                horizontal: \"right\",\n              }}\n              PaperProps={{\n                style: {\n                  borderRadius: \"10px\",\n                  boxShadow: \"0px 0px 30px 5px rgba(0,0,0,0.075)\",\n                },\n              }}\n            >\n              <SettingsDetails />\n            </Popover>\n          </div>\n        )\n      }\n    </PopupState>\n  );\n}\n\nfunction SettingsDetails() {\n  const styles = useStyles();\n\n  const { slippage, setSlippage, fairOverride, setFairOverride } =\n    useSwapContext();\n  const [showSettingsDialog, setShowSettingsDialog] = useState(false);\n  const fair = useSwapFair();\n  const { swapClient } = useDexContext();\n\n  const setSlippageHandler = (value?: number) => {\n    setSlippage(!value || value < 0 ? 0 : value);\n  };\n\n  return (\n    <div style={{ padding: \"15px\", width: \"305px\", background: \"#22242a\" }}>\n      <Typography style={{ fontWeight: \"bold\", color: \"white\" }}>Settings</Typography>\n      <div>\n        <div style={{ marginTop: \"10px\" }}>\n          <Typography style={{ fontSize: \"12px\", color: \"white\" }}>\n            Slippage tolerance\n          </Typography>\n          <TextField\n            type=\"number\"\n            placeholder=\"Error tolerance percentage\"\n            value={slippage}\n            onChange={(e) => setSlippageHandler(parseFloat(e.target.value))}\n            style={{\n              display: \"flex\",\n              justifyContent: \"center\",\n              flexDirection: \"column\",\n              color: \"#fff\"\n            }}\n            InputProps={{\n              endAdornment: <InputAdornment position=\"end\">%</InputAdornment>,\n              classes: {\n                input: styles.input,\n              }\n            }}\n          />\n        </div>\n        <div style={{ marginTop: \"10px\" }}>\n          <Typography style={{ fontSize: \"12px\", color: \"white\" }}>\n            Fair price\n          </Typography>\n          <div style={{ display: \"flex\" }}>\n            <TextField\n              type=\"number\"\n              placeholder=\"Fair price override\"\n              value={fair}\n              onChange={(e) => setFairOverride(parseFloat(e.target.value))}\n              style={{\n                marginRight: \"10px\",\n                flex: 1,\n                display: \"flex\",\n                justifyContent: \"center\",\n                flexDirection: \"column\",\n              }}\n              InputProps={{\n                classes: {\n                  input: styles.input,\n                }\n              }}\n              disabled={fairOverride === null}\n            />\n            <Button\n              component=\"div\"\n              variant=\"contained\"\n              onClick={() => {\n                if (fair === undefined) {\n                  console.error(\"Fair is undefined\");\n                  return;\n                }\n                if (fairOverride === null) {\n                  setFairOverride(fair);\n                } else {\n                  setFairOverride(null);\n                }\n              }}\n              className={\n                fairOverride === null\n                  ? styles.fairAutoSelected\n                  : styles.fairAuto\n              }\n            >\n              Auto\n            </Button>\n          </div>\n        </div>\n        <div style={{ margin: \"10px 0px\" }}>\n          <CloseNewAccountsSwitch />\n        </div>\n        <Button\n          variant=\"contained\"\n          fullWidth\n          style={{ color: \"#fff\" }}\n          \n          disabled={swapClient.program.provider.wallet.publicKey === null}\n          onClick={() => setShowSettingsDialog(true)}\n        >\n          Manage Dex Accounts\n        </Button>\n      </div>\n      <OpenOrdersDialog\n        open={showSettingsDialog}\n        onClose={() => setShowSettingsDialog(false)}\n      />\n    </div>\n  );\n}\n\nfunction CloseNewAccountsSwitch() {\n  const styles = useStyles();\n  const { isClosingNewAccounts, setIsClosingNewAccounts } = useSwapContext();\n\n  return (\n    <FormGroup style={{ display: \"none\" }} row>\n      <FormControlLabel\n        classes={{ label: styles.closeAccountSwitchLabel }}\n        labelPlacement=\"start\"\n        style={{\n          display: \"flex\",\n          justifyContent: \"space-between\",\n          marginLeft: 0,\n          width: \"100%\",\n        }}\n        control={\n          <Switch\n            checked={isClosingNewAccounts}\n            onChange={() => setIsClosingNewAccounts(!isClosingNewAccounts)}\n            color=\"primary\"\n          />\n        }\n        label=\"Close new accounts\"\n      />\n    </FormGroup>\n  );\n}\n","import {\n  makeStyles,\n  Typography,\n  Link,\n  Popover,\n  IconButton,\n} from \"@material-ui/core\";\nimport { Info } from \"@material-ui/icons\";\nimport PopupState, { bindTrigger, bindPopover } from \"material-ui-popup-state\";\nimport { PublicKey } from \"@solana/web3.js\";\nimport { useTokenMap } from \"../context/TokenList\";\nimport { useSwapContext, useSwapFair } from \"../context/Swap\";\nimport { useMint } from \"../context/Token\";\nimport { useRoute, useMarketName, useBbo } from \"../context/Dex\";\nimport { SettingsButton } from \"./Settings\";\n\nconst useStyles = makeStyles(() => ({\n  infoLabel: {\n    color: \"white !important\",\n    marginTop: \"20px\",\n    marginBottom: \"20px\",\n    alignItems: \"left\"\n  },\n  labelWithButton: {\n    display: \"flex\",\n    justifyContent: \"flex-start\"\n  },\n  labelText: {\n    fontSize: \"12px\", \n    width: '150%'\n  },\n  labelValue: {\n    fontSize: \"12px\", \n    textAlign: 'center', \n    width: '20%'\n  },\n  infoButton: {\n    marginLeft: \"5px\",\n    padding: 0,\n    fontSize: \"14px\",\n  },\n}));\n\nexport function InfoLabel() {\n  const styles = useStyles();\n\n  const { fromMint, toMint } = useSwapContext();\n  const fromMintInfo = useMint(fromMint);\n  const fair = useSwapFair();\n\n  const tokenMap = useTokenMap();\n  let fromTokenInfo = tokenMap.get(fromMint.toString());\n  let toTokenInfo = tokenMap.get(toMint.toString());\n\n  return (\n    <div className={styles.infoLabel}>\n\n      {/* <div className={styles.labelWithButton}>\n        <Typography color=\"textSecondary\" style={{ fontSize: \"14px\" }}>\n          {fair !== undefined && toTokenInfo && fromTokenInfo\n            ? `1 ${toTokenInfo.symbol} = ${fair.toFixed(\n                fromMintInfo?.decimals\n              )} ${fromTokenInfo.symbol}`\n            : `-`}\n        </Typography>\n        <InfoButton />\n      </div> */}\n      <div className={styles.labelWithButton}>\n        <Typography className={styles.labelText}>\n          Transaction Settings\n        </Typography>\n        <Typography className={styles.labelValue}>\n          <SettingsButton />\n        </Typography>\n      </div>\n      <div className={styles.labelWithButton}>\n        <Typography className={styles.labelText}>\n          Slippage Tolerance\n        </Typography>\n        <Typography className={styles.labelValue}>\n          0\n        </Typography>\n      </div>\n\n      <div className={styles.labelWithButton}>\n        <Typography className={styles.labelText}>\n          Minimum Received\n        </Typography>\n        <Typography className={styles.labelValue}>\n          0\n        </Typography>\n      </div>\n\n      <div className={styles.labelWithButton}>\n        <Typography className={styles.labelText}>\n          Swap Fee\n        </Typography>\n        <Typography className={styles.labelValue}>\n          0\n        </Typography>\n      </div>\n    </div>\n  );\n}\n\nfunction InfoButton() {\n  const styles = useStyles();\n  return (\n    <PopupState variant=\"popover\">\n      {\n        //@ts-ignore\n        (popupState) => (\n          <div style={{ display: \"flex\" }}>\n            <IconButton\n              {...bindTrigger(popupState)}\n              className={styles.infoButton}\n            >\n              <Info fontSize=\"small\" />\n            </IconButton>\n            <Popover\n              {...bindPopover(popupState)}\n              anchorOrigin={{\n                vertical: \"bottom\",\n                horizontal: \"left\",\n              }}\n              transformOrigin={{\n                vertical: \"top\",\n                horizontal: \"right\",\n              }}\n              PaperProps={{ style: { borderRadius: \"10px\" } }}\n              disableRestoreFocus\n            >\n              <InfoDetails />\n            </Popover>\n          </div>\n        )\n      }\n    </PopupState>\n  );\n}\n\nfunction InfoDetails() {\n  const { fromMint, toMint } = useSwapContext();\n  const route = useRoute(fromMint, toMint);\n  const tokenMap = useTokenMap();\n  const fromMintTicker = tokenMap.get(fromMint.toString())?.symbol;\n  const toMintTicker = tokenMap.get(toMint.toString())?.symbol;\n  const addresses = [\n    { ticker: fromMintTicker, mint: fromMint },\n    { ticker: toMintTicker, mint: toMint },\n  ];\n\n  return (\n    <div style={{ padding: \"15px\", width: \"250px\" }}>\n      <div>\n        <Typography\n          color=\"textSecondary\"\n          style={{ fontWeight: \"bold\", marginBottom: \"5px\" }}\n        >\n          Trade Route\n        </Typography>\n        {route ? (\n          route.map((market: PublicKey) => {\n            return <MarketRoute key={market.toString()} market={market} />;\n          })\n        ) : (\n          <Typography color=\"textSecondary\">Route not found</Typography>\n        )}\n      </div>\n      <div style={{ marginTop: \"15px\" }}>\n        <Typography\n          color=\"textSecondary\"\n          style={{ fontWeight: \"bold\", marginBottom: \"5px\" }}\n        >\n          Tokens\n        </Typography>\n        {addresses.map((address) => {\n          return (\n            <div\n              key={address.mint.toString()}\n              style={{\n                marginTop: \"5px\",\n                display: \"flex\",\n                justifyContent: \"space-between\",\n              }}\n            >\n              <Link\n                href={`https://explorer.solana.com/address/${address.mint.toString()}`}\n                target=\"_blank\"\n                rel=\"noopener\"\n              >\n                {address.ticker}\n              </Link>\n              <code style={{ width: \"128px\", overflow: \"hidden\" }}>\n                {address.mint.toString()}\n              </code>\n            </div>\n          );\n        })}\n      </div>\n    </div>\n  );\n}\n\nfunction MarketRoute({ market }: { market: PublicKey }) {\n  const marketName = useMarketName(market);\n  const bbo = useBbo(market);\n  return (\n    <div\n      style={{\n        display: \"flex\",\n        justifyContent: \"space-between\",\n        marginTop: \"5px\",\n      }}\n    >\n      <Link\n        href={`https://dex.projectserum.com/#/market/${market.toString()}`}\n        target=\"_blank\"\n        rel=\"noopener\"\n      >\n        {marketName}\n      </Link>\n      <code style={{ marginLeft: \"10px\" }}>\n        {bbo && bbo.mid ? bbo.mid.toFixed(6) : \"-\"}\n      </code>\n    </div>\n  );\n}\n","import { useState } from \"react\";\nimport {\n  PublicKey,\n  Keypair,\n  Transaction,\n  SystemProgram,\n  Signer,\n} from \"@solana/web3.js\";\nimport { Token, TOKEN_PROGRAM_ID } from \"@solana/spl-token\";\nimport { BN, Provider } from \"@project-serum/anchor\";\nimport {\n  makeStyles,\n  Card,\n  Button,\n  Typography,\n  TextField,\n  useTheme,\n} from \"@material-ui/core\";\nimport { ExpandMore, ImportExportRounded } from \"@material-ui/icons\";\nimport { useSwapContext, useSwapFair } from \"../context/Swap\";\nimport {\n  useDexContext,\n  useOpenOrders,\n  useRouteVerbose,\n  useMarket,\n  FEE_MULTIPLIER,\n} from \"../context/Dex\";\nimport { useTokenMap } from \"../context/TokenList\";\nimport { useMint, useOwnedTokenAccount } from \"../context/Token\";\nimport { useCanSwap, useReferral } from \"../context/Swap\";\nimport TokenDialog from \"./TokenDialog\";\nimport { SettingsButton } from \"./Settings\";\nimport { InfoLabel } from \"./Info\";\nimport { SOL_MINT, WRAPPED_SOL_MINT } from \"../utils/pubkeys\";\n\nconst useStyles = makeStyles((theme) => ({\n  card: {\n    width: theme.spacing(50),\n    borderRadius: theme.spacing(2),\n    background: \"#22242a\",\n    border: \"1px solid #aaaaaa36\",\n    color: \"white !important\",\n    boxShadow: \"0px 0px 30px 5px rgba(0,0,0,0.075)\",\n    padding: theme.spacing(2),\n  },\n  tab: {\n    width: \"50%\",\n  },\n  settingsButton: {\n    padding: 0,\n  },\n  swapButton: {\n    width: \"100%\",\n    textTransform: \"capitalize\",\n    borderRadius: theme.spacing(2),\n    backgroundColor: \"#323741\",\n    color: \"white !important\",\n    fontSize: 16,\n    fontWeight: 700,\n    padding: theme.spacing(1.5),\n  },\n  swapToFromButton: {\n    display: \"block\",\n    margin: \"5px auto 5px auto\",\n    cursor: \"pointer\",\n  },\n  amountInput: {\n    fontSize: 22,\n    fontWeight: 600,\n    color: \"white !important\"\n  },\n  input: {\n    textAlign: \"left\",\n    color: \"white !important\"\n  },\n  swapTokenFormContainer: {\n    borderRadius: theme.spacing(2),\n    boxShadow: \"0px 0px 15px 2px rgba(33,150,243,0.1)\",\n    display: \"flex\",\n    justifyContent: \"space-between\",\n    background: \"#323741\",\n    padding: \"5px 10px 5px 15px\",\n    border: \"1px solid #ffffff1c\"\n  },\n  swapTokenSelectorContainer: {\n    marginLeft: theme.spacing(1),\n    display: \"flex\",\n    justifyContent: \"flex-end\",\n    flexDirection: \"column\",\n    width: \"30%\",\n  },\n  balanceContainer: {\n    display: \"flex\",\n    alignItems: \"center\",\n    padding: \"2px 0px\",\n    fontSize: \"12px\",\n    color: \"#bebebe\"\n  },\n  maxButton: {\n    marginLeft: theme.spacing(1),\n    color: theme.palette.primary.main,\n    fontWeight: 700,\n    fontSize: \"12px\",\n    cursor: \"pointer\",\n  },\n  tokenButton: {\n    display: \"flex\",\n    alignItems: \"center\",\n    cursor: \"pointer\",\n    marginBottom: theme.spacing(1),\n    border: \"1px solid #585858\",\n    borderRadius: \"20px\",\n    background: \"#161616\"\n  },\n}));\n\nexport default function SwapCard({\n  containerStyle,\n  contentStyle,\n  swapTokenContainerStyle,\n}: {\n  containerStyle?: any;\n  contentStyle?: any;\n  swapTokenContainerStyle?: any;\n}) {\n  const styles = useStyles();\n  return (\n    <Card className={styles.card} style={containerStyle}>\n      {/* <SwapHeader /> */}\n      <div style={contentStyle}>\n        <SwapFromForm style={swapTokenContainerStyle} />\n        <ArrowButton />\n        <SwapToForm style={swapTokenContainerStyle} />\n        <InfoLabel />\n        <SwapButton />\n      </div>\n    </Card>\n  );\n}\n\nexport function SwapHeader() {\n  return (\n    <div\n      style={{\n        display: \"flex\",\n        justifyContent: \"space-between\",\n        marginBottom: \"16px\",\n      }}\n    >\n      <SettingsButton />\n    </div>\n  );\n}\n\nexport function ArrowButton() {\n  const styles = useStyles();\n  const theme = useTheme();\n  const { swapToFromMints } = useSwapContext();\n  return (\n    <ImportExportRounded\n      className={styles.swapToFromButton}\n      fontSize=\"medium\"\n      htmlColor={theme.palette.primary.main}\n      onClick={swapToFromMints}\n    />\n  );\n}\n\nfunction SwapFromForm({ style }: { style?: any }) {\n  const { fromMint, setFromMint, fromAmount, setFromAmount } = useSwapContext();\n  return (\n    <SwapTokenForm\n      from\n      style={style}\n      mint={fromMint}\n      setMint={setFromMint}\n      amount={fromAmount}\n      setAmount={setFromAmount}\n    />\n  );\n}\n\nfunction SwapToForm({ style }: { style?: any }) {\n  const { toMint, setToMint, toAmount, setToAmount } = useSwapContext();\n  return (\n    <SwapTokenForm\n      from={false}\n      style={style}\n      mint={toMint}\n      setMint={setToMint}\n      amount={toAmount}\n      setAmount={setToAmount}\n    />\n  );\n}\n\nexport function SwapTokenForm({\n  from,\n  style,\n  mint,\n  setMint,\n  amount,\n  setAmount,\n}: {\n  from: boolean;\n  style?: any;\n  mint: PublicKey;\n  setMint: (m: PublicKey) => void;\n  amount: number;\n  setAmount: (a: number) => void;\n}) {\n  const styles = useStyles();\n\n  const [showTokenDialog, setShowTokenDialog] = useState(false);\n  const tokenAccount = useOwnedTokenAccount(mint);\n  const mintAccount = useMint(mint);\n\n  const balance =\n    tokenAccount &&\n    mintAccount &&\n    tokenAccount.account.amount.toNumber() / 10 ** mintAccount.decimals;\n\n  const formattedAmount =\n    mintAccount && amount\n      ? amount.toLocaleString(\"fullwide\", {\n          maximumFractionDigits: mintAccount.decimals,\n          useGrouping: false,\n        })\n      : amount;\n\n  return (\n    <div className={styles.swapTokenFormContainer} style={style}>\n      \n      <TokenDialog\n        setMint={setMint}\n        open={showTokenDialog}\n        onClose={() => setShowTokenDialog(false)}\n      />\n      <div>\n        <Typography className={styles.balanceContainer}>\n        {from\n            ? `From`\n            : `To`\n        }\n        </Typography>\n        <TextField\n          type=\"number\"\n          value={formattedAmount}\n          onChange={(e) => setAmount(parseFloat(e.target.value))}\n          InputProps={{\n            disableUnderline: true,\n            classes: {\n              root: styles.amountInput,\n              input: styles.input,\n            },\n          }}\n        />\n      </div>\n      <div className={styles.swapTokenSelectorContainer}>\n        <Typography className={styles.balanceContainer}>\n          {tokenAccount && mintAccount\n            ? `Balance: ${balance?.toFixed(mintAccount.decimals)}`\n            : `Balance : 0.00`}\n          {from && !!balance ? (\n            <span\n              className={styles.maxButton}\n              onClick={() => setAmount(balance)}\n            >\n              MAX\n            </span>\n          ) : null}\n        </Typography>\n        <TokenButton mint={mint} onClick={() => setShowTokenDialog(true)} />\n      </div>\n    </div>\n  );\n}\n\nfunction TokenButton({\n  mint,\n  onClick,\n}: {\n  mint: PublicKey;\n  onClick: () => void;\n}) {\n  const styles = useStyles();\n  const theme = useTheme();\n\n  return (\n    <div onClick={onClick} className={styles.tokenButton}>\n      <TokenIcon mint={mint} style={{ height: theme.spacing(3), paddingLeft: theme.spacing(1) }} />\n      <TokenName mint={mint} style={{ fontSize: 14, fontWeight: 700 }} />\n      {/* <ExpandMore /> */}\n    </div>\n  );\n}\n\nexport function TokenIcon({ mint, style }: { mint: PublicKey; style: any }) {\n  const tokenMap = useTokenMap();\n  let tokenInfo = tokenMap.get(mint.toString());\n  return (\n    <div\n      style={{\n        display: \"flex\",\n        justifyContent: \"center\",\n        flexDirection: \"column\",\n        padding: \"5px 5px\"\n      }}\n    >\n      {tokenInfo?.logoURI ? (\n        <img alt=\"Logo\" style={style} src={tokenInfo?.logoURI} />\n      ) : (\n        <div style={style}></div>\n      )}\n    </div>\n  );\n}\n\nfunction TokenName({ mint, style }: { mint: PublicKey; style: any }) {\n  const tokenMap = useTokenMap();\n  const theme = useTheme();\n  let tokenInfo = tokenMap.get(mint.toString());\n\n  return (\n    <Typography\n      style={{\n        marginLeft: theme.spacing(2),\n        marginRight: theme.spacing(1),\n        ...style,\n      }}\n    >\n      {tokenInfo?.symbol}\n    </Typography>\n  );\n}\n\nexport function SwapButton() {\n  const styles = useStyles();\n  const {\n    fromMint,\n    toMint,\n    fromAmount,\n    slippage,\n    isClosingNewAccounts,\n    isStrict,\n  } = useSwapContext();\n  const { swapClient } = useDexContext();\n  const fromMintInfo = useMint(fromMint);\n  const toMintInfo = useMint(toMint);\n  const openOrders = useOpenOrders();\n  const route = useRouteVerbose(fromMint, toMint);\n  const fromMarket = useMarket(\n    route && route.markets ? route.markets[0] : undefined\n  );\n  const toMarket = useMarket(\n    route && route.markets ? route.markets[1] : undefined\n  );\n  const canSwap = useCanSwap();\n  const referral = useReferral(fromMarket);\n  const fair = useSwapFair();\n  let fromWallet = useOwnedTokenAccount(fromMint);\n  let toWallet = useOwnedTokenAccount(toMint);\n  const quoteMint = fromMarket && fromMarket.quoteMintAddress;\n  const quoteMintInfo = useMint(quoteMint);\n  const quoteWallet = useOwnedTokenAccount(quoteMint);\n\n  // Click handler.\n  const sendSwapTransaction = async () => {\n    if (!fromMintInfo || !toMintInfo) {\n      throw new Error(\"Unable to calculate mint decimals\");\n    }\n    if (!fair) {\n      throw new Error(\"Invalid fair\");\n    }\n    if (!quoteMint || !quoteMintInfo) {\n      throw new Error(\"Quote mint not found\");\n    }\n\n    const amount = new BN(fromAmount * 10 ** fromMintInfo.decimals);\n    const isSol = fromMint.equals(SOL_MINT) || toMint.equals(SOL_MINT);\n    const wrappedSolAccount = isSol ? Keypair.generate() : undefined;\n\n    // Build the swap.\n    let txs = await (async () => {\n      if (!fromMarket) {\n        throw new Error(\"Market undefined\");\n      }\n\n      const minExchangeRate = {\n        rate: new BN((10 ** toMintInfo.decimals * FEE_MULTIPLIER) / fair)\n          .muln(100 - slippage)\n          .divn(100),\n        fromDecimals: fromMintInfo.decimals,\n        quoteDecimals: quoteMintInfo.decimals,\n        strict: isStrict,\n      };\n      const fromOpenOrders = fromMarket\n        ? openOrders.get(fromMarket?.address.toString())\n        : undefined;\n      const toOpenOrders = toMarket\n        ? openOrders.get(toMarket?.address.toString())\n        : undefined;\n      const fromWalletAddr = fromMint.equals(SOL_MINT)\n        ? wrappedSolAccount!.publicKey\n        : fromWallet\n        ? fromWallet.publicKey\n        : undefined;\n      const toWalletAddr = toMint.equals(SOL_MINT)\n        ? wrappedSolAccount!.publicKey\n        : toWallet\n        ? toWallet.publicKey\n        : undefined;\n\n      return await swapClient.swapTxs({\n        fromMint,\n        toMint,\n        quoteMint,\n        amount,\n        minExchangeRate,\n        referral,\n        fromMarket,\n        toMarket,\n        // Automatically created if undefined.\n        fromOpenOrders: fromOpenOrders ? fromOpenOrders[0].address : undefined,\n        toOpenOrders: toOpenOrders ? toOpenOrders[0].address : undefined,\n        fromWallet: fromWalletAddr,\n        toWallet: toWalletAddr,\n        quoteWallet: quoteWallet ? quoteWallet.publicKey : undefined,\n        // Auto close newly created open orders accounts.\n        close: isClosingNewAccounts,\n      });\n    })();\n\n    // If swapping SOL, then insert a wrap/unwrap instruction.\n    if (isSol) {\n      if (txs.length > 1) {\n        throw new Error(\"SOL must be swapped in a single transaction\");\n      }\n      const { tx: wrapTx, signers: wrapSigners } = await wrapSol(\n        swapClient.program.provider,\n        wrappedSolAccount as Keypair,\n        fromMint,\n        amount\n      );\n      const { tx: unwrapTx, signers: unwrapSigners } = unwrapSol(\n        swapClient.program.provider,\n        wrappedSolAccount as Keypair\n      );\n      const tx = new Transaction();\n      tx.add(wrapTx);\n      tx.add(txs[0].tx);\n      tx.add(unwrapTx);\n      txs[0].tx = tx;\n      txs[0].signers.push(...wrapSigners);\n      txs[0].signers.push(...unwrapSigners);\n    }\n\n    await swapClient.program.provider.sendAll(txs);\n  };\n  return (\n    <Button\n      variant=\"contained\"\n      className={styles.swapButton}\n      onClick={sendSwapTransaction}\n      // disabled={!canSwap}\n    >\n      {canSwap\n            ? `Swap`\n            : `Connect Wallet`}\n      \n    </Button>\n  );\n}\n\nasync function wrapSol(\n  provider: Provider,\n  wrappedSolAccount: Keypair,\n  fromMint: PublicKey,\n  amount: BN\n): Promise<{ tx: Transaction; signers: Array<Signer | undefined> }> {\n  const tx = new Transaction();\n  const signers = [wrappedSolAccount];\n  // Create new, rent exempt account.\n  tx.add(\n    SystemProgram.createAccount({\n      fromPubkey: provider.wallet.publicKey,\n      newAccountPubkey: wrappedSolAccount.publicKey,\n      lamports: await Token.getMinBalanceRentForExemptAccount(\n        provider.connection\n      ),\n      space: 165,\n      programId: TOKEN_PROGRAM_ID,\n    })\n  );\n  // Transfer lamports. These will be converted to an SPL balance by the\n  // token program.\n  if (fromMint.equals(SOL_MINT)) {\n    tx.add(\n      SystemProgram.transfer({\n        fromPubkey: provider.wallet.publicKey,\n        toPubkey: wrappedSolAccount.publicKey,\n        lamports: amount.toNumber(),\n      })\n    );\n  }\n  // Initialize the account.\n  tx.add(\n    Token.createInitAccountInstruction(\n      TOKEN_PROGRAM_ID,\n      WRAPPED_SOL_MINT,\n      wrappedSolAccount.publicKey,\n      provider.wallet.publicKey\n    )\n  );\n  return { tx, signers };\n}\n\nfunction unwrapSol(\n  provider: Provider,\n  wrappedSolAccount: Keypair\n): { tx: Transaction; signers: Array<Signer | undefined> } {\n  const tx = new Transaction();\n  tx.add(\n    Token.createCloseAccountInstruction(\n      TOKEN_PROGRAM_ID,\n      wrappedSolAccount.publicKey,\n      provider.wallet.publicKey,\n      provider.wallet.publicKey,\n      []\n    )\n  );\n  return { tx, signers: [] };\n}\n","import { ReactElement } from \"react\";\nimport { PublicKey } from \"@solana/web3.js\";\nimport { TokenListContainer } from \"@solana/spl-token-registry\";\nimport { Provider } from \"@project-serum/anchor\";\nimport { Swap as SwapClient } from \"@project-serum/swap\";\nimport {\n  createMuiTheme,\n  ThemeOptions,\n  ThemeProvider,\n} from \"@material-ui/core/styles\";\nimport {\n  SwapContextProvider,\n  useSwapContext,\n  useSwapFair,\n} from \"./context/Swap\";\nimport {\n  DexContextProvider,\n  useBbo,\n  useFairRoute,\n  useMarketName,\n} from \"./context/Dex\";\nimport { TokenListContextProvider, useTokenMap } from \"./context/TokenList\";\nimport { TokenContextProvider, useMint } from \"./context/Token\";\nimport SwapCard, {\n  ArrowButton,\n  SwapButton,\n  SwapHeader,\n  SwapTokenForm,\n} from \"./components/Swap\";\nimport TokenDialog from \"./components/TokenDialog\";\n\n/**\n * A`Swap` component that can be embedded into applications. To use,\n * one can, minimally, provide a provider and token list to the component.\n * For example,\n *\n * ```javascript\n * <Swap provider={provider} tokenList={tokenList} />\n * ```\n *\n * All of the complexity of communicating with the Serum DEX and managing\n * its data is handled internally by the component.\n *\n * For information on other properties like earning referrals, see the\n * [[SwapProps]] documentation.\n */\nexport default function Swap(props: SwapProps): ReactElement {\n  const {\n    containerStyle,\n    contentStyle,\n    swapTokenContainerStyle,\n    materialTheme,\n    provider,\n    tokenList,\n    fromMint,\n    toMint,\n    fromAmount,\n    toAmount,\n    referral,\n  } = props;\n\n  // @ts-ignore\n  const swapClient = new SwapClient(provider, tokenList);\n  const theme = createMuiTheme(\n    materialTheme || {\n      palette: {\n        primary: {\n          main: \"#2196F3\",\n          contrastText: \"#FFFFFF\",\n        },\n        secondary: {\n          main: \"#E0E0E0\",\n          light: \"#595959\",\n        },\n        error: {\n          main: \"#ff6b6b\",\n        },\n      },\n    }\n  );\n  return (\n    <ThemeProvider theme={theme}>\n      <TokenListContextProvider tokenList={tokenList}>\n        <TokenContextProvider provider={provider}>\n          <DexContextProvider swapClient={swapClient}>\n            <SwapContextProvider\n              fromMint={fromMint}\n              toMint={toMint}\n              fromAmount={fromAmount}\n              toAmount={toAmount}\n              referral={referral}\n            >\n              <SwapCard\n                containerStyle={containerStyle}\n                contentStyle={contentStyle}\n                swapTokenContainerStyle={swapTokenContainerStyle}\n              />\n            </SwapContextProvider>\n          </DexContextProvider>\n        </TokenContextProvider>\n      </TokenListContextProvider>\n    </ThemeProvider>\n  );\n}\n\n/**\n * Properties for the `Swap` Component.\n */\nexport type SwapProps = {\n  /**\n   * Wallet and network provider. Apps can use a `Provider` subclass to hook\n   * into all transactions intitiated by the component.\n   */\n  provider: Provider;\n\n  /**\n   * Token list providing information for tokens used.\n   */\n  tokenList: TokenListContainer;\n\n  /**\n   * Wallet address to which referral fees are sent (i.e. a SOL address).\n   * To receive referral fees, the wallet must *own* associated token\n   * accounts for the token in which the referral is paid  (usually USDC\n   * or USDT).\n   */\n  referral?: PublicKey;\n\n  /**\n   * The default `fromMint` to use when the component first renders.\n   */\n  fromMint?: PublicKey;\n\n  /**\n   * The default `toMint` to use when the component first renders.\n   */\n  toMint?: PublicKey;\n\n  /**\n   * The initial amount for the `fromMint` to use when the component first\n   * renders.\n   */\n  fromAmount?: number;\n\n  /**\n   * The initial amount for the `toMint` to use when the component first\n   * renders.\n   */\n  toAmount?: number;\n\n  /**\n   * Provide custom material-ui theme.\n   */\n  materialTheme?: ThemeOptions;\n\n  /**\n   * Styling properties for the main container.\n   */\n  containerStyle?: any;\n\n  /**\n   * Styling properties for the content container.\n   */\n  contentStyle?: any;\n\n  /**\n   * Styling properties for the from and to token containers.\n   */\n  swapTokenContainerStyle?: any;\n};\n\nexport {\n  // Components.\n  Swap,\n  SwapCard,\n  SwapHeader,\n  SwapTokenForm,\n  ArrowButton,\n  SwapButton,\n  TokenDialog,\n  // Providers and context.\n  // Swap.\n  SwapContextProvider,\n  useSwapContext,\n  useSwapFair,\n  // TokenList.\n  TokenListContextProvider,\n  useTokenMap,\n  // Token.\n  TokenContextProvider,\n  useMint,\n  // Dex.\n  DexContextProvider,\n  useFairRoute,\n  useMarketName,\n  useBbo,\n};\n","import \"@fontsource/roboto\";\nimport { useState, useEffect, useMemo } from \"react\";\nimport { SnackbarProvider, useSnackbar } from \"notistack\";\nimport { Button, Grid, makeStyles } from \"@material-ui/core\";\nimport { Provider } from \"@project-serum/anchor\";\n// @ts-ignore\nimport Wallet from \"@project-serum/sol-wallet-adapter\";\nimport {\n  Signer,\n  ConfirmOptions,\n  Connection,\n  Transaction,\n  TransactionSignature,\n  PublicKey,\n} from \"@solana/web3.js\";\nimport {\n  TokenListContainer,\n  TokenListProvider,\n} from \"@solana/spl-token-registry\";\nimport Swap from \"@project-serum/swap-ui\";\nimport \"./App.css\";\n\nimport tezosTokens from './data/tezos.tokenlist.json';\n\n// App illustrating the use of the Swap component.\n//\n// One needs to just provide an Anchor `Provider` and a `TokenListContainer`\n// to the `Swap` component, and then everything else is taken care of.\nfunction App() {\n  return (\n    <SnackbarProvider maxSnack={5} autoHideDuration={8000}>\n      <AppInner />\n    </SnackbarProvider>\n  );\n}\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    minHeight: \"100vh\",\n    paddingLeft: theme.spacing(1),\n    paddingRight: theme.spacing(1),\n    background: \"#101535\"\n  },\n}));\n\nfunction AppInner() {\n  const styles = useStyles();\n  const { enqueueSnackbar } = useSnackbar();\n  const [isConnected, setIsConnected] = useState(false);\n  const [tokenList, setTokenList] = useState<TokenListContainer | null>(null);\n\n  const [provider, wallet] = useMemo(() => {\n    const opts: ConfirmOptions = {\n      preflightCommitment: \"recent\",\n      commitment: \"recent\",\n    };\n    const network = \"https://solana-api.projectserum.com\";\n    const wallet = new Wallet(\"https://www.sollet.io\", network);\n    const connection = new Connection(network, opts.preflightCommitment);\n    const provider = new NotifyingProvider(\n      connection,\n      wallet,\n      opts,\n      (tx, err) => {\n        if (err) {\n          enqueueSnackbar(`Error: ${err.toString()}`, {\n            variant: \"error\",\n          });\n        } else {\n          enqueueSnackbar(\"Transaction sent\", {\n            variant: \"success\",\n            action: (\n              <Button\n                color=\"inherit\"\n                component=\"a\"\n                target=\"_blank\"\n                rel=\"noopener\"\n                href={`https://explorer.solana.com/tx/${tx}`}\n              >\n                View on Solana Explorer\n              </Button>\n            ),\n          });\n        }\n      }\n    );\n    return [provider, wallet];\n  }, [enqueueSnackbar]);\n\n  useEffect(() => {\n    new TokenListProvider().resolve().then(setTokenList);\n  }, [setTokenList]);\n\n  async function getToken(){\n    const response = await fetch('https://raw.githubusercontent.com/von-dee/swaptzstats/main/tezos.tokenlist.json');\n    const data = await response.json();\n    return data;\n\n  }\n  // Connect to the wallet.\n  useEffect(() => {\n    \n    console.log(\"getToken\");\n    console.log(getToken());\n\n    \n    wallet.on(\"connect\", () => {\n      enqueueSnackbar(\"Wallet connected\", { variant: \"success\" });\n      setIsConnected(true);\n    });\n    wallet.on(\"disconnect\", () => {\n      enqueueSnackbar(\"Wallet disconnected\", { variant: \"info\" });\n      setIsConnected(false);\n    });\n  }, [wallet, enqueueSnackbar]);\n\n  useEffect(() => {\n    \n    console.log(\"Token Lists\");\n    console.log(tezosTokens);\n    console.log(tokenList);\n\n  },[tokenList])\n  \n  return (\n    <Grid\n      container\n      justify=\"center\"\n      alignItems=\"center\"\n      className={styles.root}\n    >\n      <Button\n        variant=\"outlined\"\n        onClick={() => (!isConnected ? wallet.connect() : wallet.disconnect())}\n        style={{ position: \"fixed\", color: \"white\", right: 24, top: 24 }}\n      >\n        {!isConnected ? \"Connect\" : \"Disconnect\"}\n      </Button>\n      {tokenList && <Swap provider={provider} tokenList={tokenList} />}\n    </Grid>\n  );\n}\n\n// Cast wallet to AnchorWallet in order to be compatible with Anchor's Provider class\ninterface AnchorWallet {\n  signTransaction(tx: Transaction): Promise<Transaction>;\n  signAllTransactions(txs: Transaction[]): Promise<Transaction[]>;\n  publicKey: PublicKey;\n}\n\n// Custom provider to display notifications whenever a transaction is sent.\n//\n// Note that this is an Anchor wallet/network provider--not a React provider,\n// so all transactions will be flowing through here, which allows us to\n// hook in to display all transactions sent from the `Swap` component\n// as notifications in the parent app.\nclass NotifyingProvider extends Provider {\n  // Function to call whenever the provider sends a transaction;\n  private onTransaction: (\n    tx: TransactionSignature | undefined,\n    err?: Error\n  ) => void;\n\n  constructor(\n    connection: Connection,\n    wallet: Wallet,\n    opts: ConfirmOptions,\n    onTransaction: (tx: TransactionSignature | undefined, err?: Error) => void\n  ) {\n    const newWallet = wallet as AnchorWallet;\n    super(connection, newWallet, opts);\n    this.onTransaction = onTransaction;\n  }\n\n  async send(\n    tx: Transaction,\n    signers?: Array<Signer | undefined>,\n    opts?: ConfirmOptions\n  ): Promise<TransactionSignature> {\n    try {\n      const txSig = await super.send(tx, signers, opts);\n      this.onTransaction(txSig);\n      return txSig;\n    } catch (err) {\n      if (err instanceof Error || err === undefined) {\n        this.onTransaction(undefined, err);\n      }\n      return \"\";\n    }\n  }\n\n  async sendAll(\n    txs: Array<{ tx: Transaction; signers: Array<Signer | undefined> }>,\n    opts?: ConfirmOptions\n  ): Promise<Array<TransactionSignature>> {\n    try {\n      const txSigs = await super.sendAll(txs, opts);\n      txSigs.forEach((sig) => {\n        this.onTransaction(sig);\n      });\n      return txSigs;\n    } catch (err) {\n      if (err instanceof Error || err === undefined) {\n        this.onTransaction(undefined, err);\n      }\n      return [];\n    }\n  }\n}\n\nexport default App;\n","import { ReportHandler } from \"web-vitals\";\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import(\"web-vitals\").then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"]}}